[{"attributes":{"type":"skuid__Page__c","url":"/services/data/v42.0/sobjects/skuid__Page__c/a8n0O000000bzfhQAA"},"Id":"a8n0O000000bzfhQAA","Name":"BorrowingStructure","skuid__Type__c":"Desktop","skuid__UniqueId__c":"ngUi_BorrowingStructure","skuid__Module__c":"ngUi","skuid__Composer_Settings__c":null,"skuid__MasterPage__c":null,"skuid__MasterPage__r":null,"skuid__IsMaster__c":false,"skuid__Layout__c":"<skuidpage unsavedchangeswarning=\"yes\" personalizationmode=\"server\" showsidebar=\"false\" showheader=\"false\"><models><model id=\"NewPartyModel\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" sobject=\"clcommon__Party__c\" datasource=\"salesforce\" doclone=\"\"><fields><field id=\"clcommon__Account__c\"/><field id=\"clcommon__Account__r.Name\"/><field id=\"genesis__Application__c\"/><field id=\"genesis__Application__r.Name\"/><field id=\"clcommon__Contact__c\"/><field id=\"clcommon__Contact__r.Name\"/><field id=\"genesis__Is_Internal_User__c\"/><field id=\"genesis__Party_Name__c\"/><field id=\"Name\"/><field id=\"clcommon__Type__c\"/><field id=\"clcommon__Type__r.Name\"/><field id=\"NewRelationship\" uionly=\"true\" displaytype=\"BOOLEAN\" label=\"New Relationship\"/><field id=\"ExistingRelationship\" uionly=\"true\" displaytype=\"BOOLEAN\" label=\"Existing Relationship\"/><field id=\"BusinessRelationship\" uionly=\"true\" displaytype=\"BOOLEAN\" label=\"Business Relationship\" defaultValue=\"false\"/><field id=\"IndividualRelationship\" uionly=\"true\" displaytype=\"BOOLEAN\" defaultValue=\"false\" label=\"Individual Relationship\"/><field id=\"clcommon__Signing_on_Behalf_of__c\"/><field id=\"clcommon__Signing_on_Behalf_of__r.Name\"/><field id=\"clcommon__Signer_Capacity__c\"/><field id=\"Id\"/><field id=\"clcommon__Account__r.clcommon__Legal_Entity_Type__r.Name\"/><field id=\"clcommon__Account__r.clcommon__Legal_Entity_Type__c\"/><field id=\"clcommon__Contact__r.clcommon__Legal_Entity_Type__c\"/><field id=\"clcommon__Contact__r.clcommon__Legal_Entity_Type__r.Name\"/><field id=\"clcommon__Account__r.Id\"/><field id=\"Guarantor_Value__c\"/></fields><conditions><condition type=\"blank\" value=\"null\" field=\"Id\" operator=\"=\" novaluebehavior=\"noquery\" enclosevalueinquotes=\"false\"/><condition type=\"param\" value=\"id\" field=\"genesis__Application__c\" operator=\"=\" userinfotype=\"userid\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/></conditions><actions/></model><model id=\"NewAccountModel\" limit=\"\" query=\"false\" createrowifnonefound=\"false\" type=\"\" sobject=\"Account\" datasource=\"salesforce\"><fields><field id=\"Description\"/><field id=\"Name\"/><field id=\"Phone\"/><field id=\"Id\"/><field id=\"Sic\"/><field id=\"SicDesc\"/><field id=\"Fax\"/><field id=\"BillingAddress\"/><field id=\"BillingCity\"/><field id=\"BillingCountry\"/><field id=\"BillingState\"/><field id=\"BillingStreet\"/><field id=\"BillingPostalCode\"/><field id=\"genesis__Business_Information__c\"/><field id=\"genesis__Business_Information__r.Name\"/><field id=\"genesis__Business_Information__r.genesis__Business_Category__c\"/><field id=\"genesis__Business_Information__r.genesis__Business_Description__c\"/><field id=\"genesis__Business_Information__r.genesis__Business_City__c\"/><field id=\"genesis__Business_Information__r.genesis__Business_Legal_Name__c\"/><field id=\"genesis__Business_Information__r.genesis__Business_State__c\"/><field id=\"clcommon__Legal_Entity_Type__c\"/><field id=\"clcommon__Legal_Entity_Type__r.Name\"/><field id=\"ShippingCity\"/><field id=\"ShippingCountry\"/><field id=\"ShippingState\"/><field id=\"ShippingStreet\"/><field id=\"ShippingPostalCode\"/><field id=\"Type\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"Id\" operator=\"=\" state=\"filterableoff\" inactive=\"true\" name=\"Id\" mergefield=\"clcommon__Account__c\" novaluebehavior=\"deactivate\" model=\"NewPartyModel\" enclosevalueinquotes=\"true\"/></conditions><actions><action><actions><action type=\"requeryModels\" model=\"NewBusinessInfoModel\" behavior=\"standard\"><models><model>NewBusinessInfoModel</model><model>CollateralOwner</model></models></action></actions><events><event>models.loaded</event></events></action></actions></model><model id=\"NewContactModel\" limit=\"1\" query=\"true\" createrowifnonefound=\"true\" type=\"\" sobject=\"Contact\" datasource=\"salesforce\"><fields><field id=\"FirstName\"/><field id=\"LastName\"/><field id=\"genesis__SSN__c\"/><field id=\"clcommon__Legal_Entity_Type__c\"/><field id=\"clcommon__Legal_Entity_Type__r.Name\"/><field id=\"Birthdate\"/><field id=\"ints__Social_Security_Number__c\"/><field id=\"MailingCity\"/><field id=\"MailingCountry\"/><field id=\"MailingState\"/><field id=\"MailingStreet\"/><field id=\"MailingPostalCode\"/><field id=\"Email\"/><field id=\"MobilePhone\"/><field id=\"OtherPhone\"/><field id=\"HomePhone\"/><field id=\"MailingAddress\"/><field id=\"OtherCity\"/><field id=\"OtherCountry\"/><field id=\"OtherGeocodeAccuracy\"/><field id=\"OtherState\"/><field id=\"OtherStreet\"/><field id=\"OtherPostalCode\"/></fields><conditions logic=\"1 OR 2\"><condition type=\"blank\" value=\"null\" field=\"Id\" operator=\"=\" enclosevalueinquotes=\"false\"/><condition type=\"modelmerge\" value=\"\" field=\"AccountId\" operator=\"=\" model=\"NewPartyModel\" enclosevalueinquotes=\"true\" mergefield=\"clcommon__Account__r.Id\" novaluebehavior=\"noquery\" state=\"filterableoff\" inactive=\"true\" name=\"AccountId\"/></conditions><actions/></model><model id=\"NewBusinessInfoModel\" limit=\"1\" query=\"false\" createrowifnonefound=\"false\" type=\"\" sobject=\"genesis__Business_Information__c\" datasource=\"salesforce\"><fields><field id=\"genesis__Business_Category__c\"/><field id=\"genesis__Business_City__c\"/><field id=\"genesis__Business_Description__c\"/><field id=\"Name\"/><field id=\"genesis__Business_Legal_Name__c\"/><field id=\"genesis__Business_State__c\"/><field id=\"genesis__Business_Street__c\"/><field id=\"genesis__Business_Zipcode__c\"/><field id=\"genesis__Date_Business_Established__c\"/><field id=\"genesis__DBA_Name__c\"/><field id=\"genesis__Email__c\"/><field id=\"genesis__State_of_Incorporation__c\"/><field id=\"genesis__Mailing_City__c\"/><field id=\"genesis__Mailing_State__c\"/><field id=\"genesis__Mailing_Street__c\"/><field id=\"genesis__Mailing_Zipcode__c\"/><field id=\"genesis__Telephone__c\"/><field id=\"genesis__Organization_ID_Number__c\"/><field id=\"genesis__Non_Profit_Organization__c\"/><field id=\"genesis__Tax_ID__c\"/><field id=\"genesis__NAICS_Code__c\"/><field id=\"genesis__NAICS_Description__c\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"Id\" operator=\"=\" model=\"NewAccountModel\" enclosevalueinquotes=\"true\" mergefield=\"Id\" novaluebehavior=\"deactivate\" state=\"filterableoff\" inactive=\"true\" name=\"Id\"/></conditions><actions/></model><model id=\"CollateralOwnerModel\" limit=\"\" query=\"false\" createrowifnonefound=\"false\" adapter=\"salesforce\" type=\"\" sobject=\"clcommon__Collateral_Owner__c\" doclone=\"\"><fields><field id=\"clcommon__Collateral__c\"/><field id=\"clcommon__Collateral__r.Name\"/><field id=\"clcommon__Account__c\"/><field id=\"clcommon__Account__r.Name\"/><field id=\"clcommon__Ownership__c\"/><field id=\"clcommon__Collateral__r.clcommon__Collateral_Type__r.Name\"/><field id=\"clcommon__Collateral__r.clcommon__Collateral_Category__r.Name\"/><field id=\"clcommon__Collateral__r.clcommon__Collateral_Category__c\"/><field id=\"clcommon__Collateral__r.clcommon__Description__c\"/><field id=\"clcommon__Collateral__r.clcommon__Collateral_Type__c\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"clcommon__Account__c\" operator=\"=\" model=\"NewAccountModel\" enclosevalueinquotes=\"true\" mergefield=\"Id\" novaluebehavior=\"deactivate\" state=\"filterableoff\" inactive=\"true\" name=\"clcommon__Account__c\"/></conditions><actions/></model><model id=\"NewPartyModelClone\" limit=\"1\" query=\"false\" createrowifnonefound=\"false\" type=\"\" sobject=\"clcommon__Party__c\" datasource=\"salesforce\"><fields><field id=\"clcommon__Account__c\"/><field id=\"clcommon__Account__r.Name\"/><field id=\"genesis__Application__c\"/><field id=\"genesis__Application__r.Name\"/><field id=\"clcommon__Contact__c\"/><field id=\"clcommon__Contact__r.Name\"/><field id=\"genesis__Is_Internal_User__c\"/><field id=\"genesis__Party_Name__c\"/><field id=\"Name\"/><field id=\"clcommon__Type__c\"/><field id=\"clcommon__Type__r.Name\"/><field id=\"clcommon__Signing_on_Behalf_of__c\"/><field id=\"clcommon__Signing_on_Behalf_of__r.Name\"/><field id=\"clcommon__Signer_Capacity__c\"/></fields><conditions logic=\"\"><condition type=\"param\" value=\"id\" field=\"genesis__Application__c\" operator=\"=\" userinfotype=\"userid\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/><condition type=\"modelmerge\" value=\"\" field=\"clcommon__Account__c\" operator=\"=\" model=\"NewPartyModel\" enclosevalueinquotes=\"true\" mergefield=\"clcommon__Account__c\" novaluebehavior=\"deactivate\" state=\"filterableoff\" inactive=\"true\" name=\"clcommon__Account__c\"/></conditions><actions/></model><model id=\"NewContactModelForExistingRel\" limit=\"1\" query=\"true\" createrowifnonefound=\"true\" type=\"\" sobject=\"Contact\" datasource=\"salesforce\"><fields><field id=\"FirstName\"/><field id=\"LastName\"/><field id=\"genesis__SSN__c\"/><field id=\"clcommon__Legal_Entity_Type__c\"/><field id=\"clcommon__Legal_Entity_Type__r.Name\"/><field id=\"Birthdate\"/><field id=\"ints__Social_Security_Number__c\"/><field id=\"MailingCity\"/><field id=\"MailingCountry\"/><field id=\"MailingState\"/><field id=\"MailingStreet\"/><field id=\"MailingPostalCode\"/><field id=\"Email\"/><field id=\"MobilePhone\"/><field id=\"OtherPhone\"/><field id=\"HomePhone\"/><field id=\"MailingAddress\"/><field id=\"OtherCity\"/><field id=\"OtherCountry\"/><field id=\"OtherGeocodeAccuracy\"/><field id=\"OtherState\"/><field id=\"OtherStreet\"/><field id=\"OtherPostalCode\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"AccountId\" operator=\"=\" model=\"NewPartyModel\" enclosevalueinquotes=\"true\" mergefield=\"clcommon__Account__c\" novaluebehavior=\"noquery\" state=\"filterableoff\" inactive=\"true\" name=\"Id\"/></conditions><actions/></model></models><components><grid uniqueid=\"sk-89TkS-139\"><divisions><division behavior=\"flex\" minwidth=\"100%\" ratio=\"1\" verticalalign=\"top\"><components><progressindicator__progress_indicator id-index=\"5\" future-color=\"#dddddd\" current-color=\"#1cbdd4\" done-color=\"#2d5074\" mode=\"tabwiz\" uniqueid=\"sk-89WOF-144\" friendId=\"partywizard\"><steps><step label=\"Select Party\" data-id=\"1\"><components/></step><step label=\"Party Type\" data-id=\"3\"><components/></step></steps></progressindicator__progress_indicator></components></division><division behavior=\"flex\" verticalalign=\"top\" minwidth=\"100%\" ratio=\"1\"><components><wizard deferstepcontentsrendering=\"false\" uniqueid=\"partywizard\" buttonslocation=\"top\"><steps><step stepid=\"step1\" steplabel=\"\"><components><grid uniqueid=\"sk-8Jm2d-557\"><divisions><division behavior=\"flex\" minwidth=\"65%\" ratio=\"1\" verticalalign=\"top\"><components><pagetitle model=\"NewPartyModel\" uniqueid=\"title1\" cssclass=\"\"><actions/><renderconditions logictype=\"and\"/><subtitle>Select Existing Relationship</subtitle></pagetitle></components></division><division behavior=\"flex\" verticalalign=\"top\" minwidth=\"35%\" ratio=\"1\"><components/></division></divisions><styles><styleitem type=\"background\" bgtype=\"none\"/></styles></grid></components><actions><action type=\"multi\" label=\"Next\" stepid=\"step2\" window=\"self\" icon=\"fa-arrow-right\" uniqueid=\"step1button\"><hotkeys/><actions><action type=\"custom\" snippet=\"ExistingRelationship\"/><action type=\"custom\" snippet=\"moveToStep2\"/><action type=\"navigateToStep\" stepid=\"step2\"/></actions></action></actions></step><step stepid=\"step2\" steplabel=\"\"><components><pagetitle model=\"NewPartyModel\" uniqueid=\"errorTitle2\"><actions/></pagetitle><grid uniqueid=\"sk-8KgBw-575\"><divisions><division behavior=\"flex\" minwidth=\"65%\" ratio=\"1\" verticalalign=\"top\"><components><pagetitle model=\"NewPartyModel\" uniqueid=\"title2\"><actions/><renderconditions logictype=\"and\"/></pagetitle><basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"NewPartyModel\" uniqueid=\"sk-453TM-1358\" mode=\"edit\" layout=\"\"><columns><column width=\"100%\"><sections><section title=\"Section B\" collapsible=\"no\" showheader=\"false\"><fields><field id=\"clcommon__Account__c\" valuehalign=\"\" type=\"\" optionsource=\"\" pagesize=\"5\" uniqueid=\"sk-bF7-605\"><filters/><label>Party</label><searchfields/><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/></field></fields></section></sections></column></columns><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"false\" fieldmodel=\"NewPartyModel\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"skipandnorender\" field=\"IndividualRelationship\" value=\"true\"/><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"false\" fieldmodel=\"NewPartyModel\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"skipandnorender\" field=\"ExistingRelationship\" value=\"true\"/></renderconditions></basicfieldeditor><basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"NewPartyModel\" uniqueid=\"sk-8bknK-172\" mode=\"edit\"><columns><column width=\"100%\"><sections><section title=\"\" collapsible=\"no\" showheader=\"false\"><fields><field id=\"clcommon__Account__c\" required=\"true\" optionsource=\"\" pagesize=\"5\" uniqueid=\"sk-bF7-614\"><searchfields/><filters/><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/><label>Party</label></field></fields></section></sections></column></columns><renderconditions logictype=\"and\"/></basicfieldeditor></components></division><division behavior=\"flex\" verticalalign=\"top\" minwidth=\"35%\" ratio=\"1\"><components/></division><division behavior=\"flex\" verticalalign=\"top\" minwidth=\"100px\" ratio=\"1\"><components/></division></divisions><styles><styleitem type=\"background\" bgtype=\"none\"/></styles></grid></components><actions><action type=\"multi\" label=\"Next\" stepid=\"step3\" window=\"self\" icon=\"fa-arrow-right\" snippet=\"queryAccount\" uniqueid=\"sk-bF7-628\"><renderconditions logictype=\"and\"><rendercondition type=\"blank\" fieldmodel=\"NewPartyModel\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"skipandnorender\" sourceuserinfotype=\"profilename\" sourceproperty=\"hasRows\" operator=\"!=\" field=\"clcommon__Account__c\" fieldtargetobjects=\"Account\" value=\"null\" enclosevalueinquotes=\"false\"/></renderconditions><enableconditions/><actions><action type=\"custom\" snippet=\"queryAccount\"/></actions></action></actions></step><step stepid=\"step3\" steplabel=\"\"><components><basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"NewPartyModel\" uniqueid=\"finalTitlePanel\" mode=\"edit\" layout=\"\"><columns layoutmode=\"fixed\"><column width=\"65%\"><sections><section title=\"\" collapsible=\"no\"><fields><field id=\"clcommon__Type__c\" valuehalign=\"\" type=\"\" required=\"true\" cssclass=\"clorequired\" optionsource=\"\" uniqueid=\"sk-bF7-638\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions logictype=\"and\"/><searchfields/></field><field uniqueid=\"sk-2erc-533\" id=\"Guarantor_Value__c\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"><rendercondition type=\"fieldvalue\" enclosevalueinquotes=\"true\" fieldmodel=\"NewPartyModel\" sourcetype=\"fieldvalue\" sourceproperty=\"isNew\" operator=\"=\" field=\"clcommon__Type__c\" fieldtargetobjects=\"clcommon__Party_Type__c\" value=\"a4y0O0000004N7eQAE\"/></renderconditions><enableconditions/></field></fields><renderconditions logictype=\"and\"/></section></sections><renderconditions logictype=\"and\"/></column></columns><renderconditions logictype=\"and\"/></basicfieldeditor><basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"NewPartyModel\" uniqueid=\"sk-y3Ydi-437\" mode=\"edit\"><columns><column width=\"100%\"><sections><section title=\"\" collapsible=\"no\" showheader=\"false\"><fields><field id=\"clcommon__Signer_Capacity__c\" valuehalign=\"\" type=\"\" required=\"true\" readonly=\"false\" uniqueid=\"sk-bF7-647\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/></field><field id=\"clcommon__Signing_on_Behalf_of__c\" valuehalign=\"\" type=\"\" readonly=\"false\" required=\"true\" uniqueid=\"sk-bF7-650\"/></fields></section></sections></column></columns><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"NewPartyModel\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"deactivate\" field=\"clcommon__Type__r.Name\" value=\"SIGNER\"/></renderconditions></basicfieldeditor></components><actions><action uniqueid=\"sk-8AOZg-223\" type=\"navigate\" stepid=\"step2\" label=\"Previous\" icon=\"fa-arrow-left\" window=\"self\"/><action type=\"multi\" label=\"Save\" stepid=\"step3\" uniqueid=\"sk-3-FU-866\" window=\"self\"><actions><action type=\"custom\" snippet=\"saveUpdateParty\"/><action type=\"closeAllPopups\"/><action type=\"custom\" snippet=\"refresh\"/></actions><renderconditions logictype=\"and\"/><enableconditions/></action></actions></step></steps><renderconditions logictype=\"and\"/></wizard></components></division></divisions><styles><styleitem type=\"background\" bgtype=\"none\"/></styles></grid></components><resources><labels/><javascript><jsitem location=\"staticresource\" name=\"CLSNGUIComponent\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"messageUtils.js\">var params = arguments[0],\n  $ = skuid.$;\n</jsitem><jsitem location=\"staticresource\" name=\"CLSNGUIComponent\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"commonUtils.js\">var params = arguments[0],\n    $ = skuid.$;\n</jsitem><jsitem location=\"staticresource\" name=\"CLSNGUIComponent\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"clsRemoteActions.js\">var params = arguments[0],\n  $ = skuid.$;\n</jsitem><jsitem location=\"inlinesnippet\" name=\"NewRelationship\" cachelocation=\"false\">var params = arguments[0],\n  $ = skuid.$;\n\n$('#newRelation').addClass('selected-btn');\n$('#existingRelation').removeClass('selected-btn');\n\nvar newPartyModel = skuid.model.getModel('NewPartyModel');\nvar newPartyRow = newPartyModel.data[0];\nif(!newPartyRow){\n    var newRow = newPartyModel.createRow({\n        additionalConditions: [\n            { field: 'NewRelationship', value:true },\n            { field: 'ExistingRelationship', value: false },\n        ]\n    });\n}else{\n    newPartyModel.updateRow(newPartyRow ,{\n                            NewRelationship : true ,\n                            ExistingRelationship : false,\n                            BusinessRelationship : false ,\n                            IndividualRelationship : false,\n                            clcommon__Account__c : null\n                        }\n    );\n}</jsitem><jsitem location=\"inlinesnippet\" name=\"ExistingRelationship\" cachelocation=\"false\">var params = arguments[0],\n  $ = skuid.$;\n\n$('#newRelation').removeClass('selected-btn');\n$('#existingRelation').addClass('selected-btn');\nvar newPartyModel = skuid.model.getModel('NewPartyModel');\nvar newPartyRow = newPartyModel.data[0];\nif(!newPartyRow){\n    var newRow = newPartyModel.createRow({\n        additionalConditions: [\n            { field: 'NewRelationship', value:false },\n            { field: 'ExistingRelationship', value: true },\n        ]\n    });\n}else{\n    var rowUpdates = {};\n    rowUpdates['NewRelationship'] = false;\n    rowUpdates['ExistingRelationship'] = true;\n    rowUpdates['BusinessRelationship'] = false;\n    rowUpdates['IndividualRelationship'] = false;\n    rowUpdates['clcommon__Account__c'] = null;\n    newPartyModel.updateRow( newPartyRow , rowUpdates);\n}</jsitem><jsitem location=\"inlinesnippet\" name=\"moveToStep2\" cachelocation=\"false\">var params = arguments[0],\n    $ = skuid.$;\n\nvar newPartyModel = skuid.model.getModel('NewPartyModel');\nvar newPartyRow = newPartyModel.data[0];\nif(!(newPartyRow &amp;&amp; (newPartyRow.NewRelationship || newPartyRow.ExistingRelationship))){\n    $('#newRelation').addClass('selected-btn');\n    $('#existingRelation').removeClass('selected-btn');\n    var newRow = newPartyModel.createRow({\n        additionalConditions: [\n            { field: 'NewRelationship', value:true },\n            { field: 'ExistingRelationship', value: false },\n        ]\n    });\n}\n</jsitem><jsitem location=\"inlinesnippet\" name=\"selectBusinessRelation\" cachelocation=\"false\">var params = arguments[0],\n  $ = skuid.$;\n\n$('#businessRelation').addClass('selected-btn');\n$('#indiividualRelation').removeClass('selected-btn');\nvar newPartyModel = skuid.model.getModel('NewPartyModel');\nnewPartyModel.updateRow(newPartyModel.data[0] ,{\n                            BusinessRelationship : true ,\n                            IndividualRelationship : false,\n                            clcommon__Account__c : null}\n);</jsitem><jsitem location=\"inlinesnippet\" name=\"queryAccount\" cachelocation=\"false\">var params = arguments[0],\n  step = params.step,\n    stepEditor = step.editor,\n    $ = skuid.$;\n\nvar newPartyModel = skuid.model.getModel('NewPartyModel');\nvar newPartyRow = newPartyModel.data[0];\n// if nothing is selected and user moves forward\nif(newPartyRow.NewRelationship &amp;&amp; (!(newPartyRow.BusinessRelationship || newPartyRow.IndividualRelationship))){\n    $('#businessRelation').addClass('selected-btn');\n    $('#indiividualRelation').removeClass('selected-btn');\n    newPartyRow.BusinessRelationship = true;\n    newPartyRow.clcommon__Account__c = null;\n}\n\n//fetch model and cancel any changes\nvar newAccountModel = skuid.model.getModel('NewAccountModel');\nnewAccountModel.cancel();\n\nvar newCollateralOwnersModel = skuid.model.getModel('CollateralOwnerModel');\nnewCollateralOwnersModel.cancel();\n\nvar newBIModel = skuid.model.getModel('NewBusinessInfoModel');\nnewBIModel.cancel();\n\nvar newPartyModelClone = skuid.model.getModel('NewPartyModelClone');\nnewPartyModelClone.cancel();\n\nvar newContactModelForExistingRel = skuid.model.getModel('NewContactModelForExistingRel');\nnewContactModelForExistingRel.cancel();\n\nvar newContactModel = skuid.model.getModel('NewContactModel');\nnewContactModel.cancel();\n\n// validate\nif(newPartyRow.ExistingRelationship){\n    if(!newPartyRow.clcommon__Account__c){\n        var pageTitle = $('#errorTitle2');\n        var editor = pageTitle.data('object').editor;\n        editor.handleMessages(\n            [\n              {\n                  message: 'Please select an existing account',\n                  severity: 'ERROR'\n              },\n            ]\n        );\n        return;\n    }\n}\n\n//fetch conditions\nvar accountIdCondition = newAccountModel.getConditionByName('Id');\nvar partyAccountIdCondition = newPartyModelClone.getConditionByName('clcommon__Account__c');\nvar coAccountIdCondition = newCollateralOwnersModel.getConditionByName('clcommon__Account__c');\nvar biIdCondition = newBIModel.getConditionByName('Id');\nvar newContactModelIdCondition = newContactModel.getConditionByName('AccountId');\n\n// set and activate condtions\nif(newPartyRow.clcommon__Account__c){\n    newAccountModel.setCondition(accountIdCondition,newPartyRow.clcommon__Account__c);\n    newPartyModelClone.setCondition(partyAccountIdCondition,newPartyRow.clcommon__Account__c);\n    newCollateralOwnersModel.setCondition(coAccountIdCondition,newPartyRow.clcommon__Account__c);\n    newContactModel.setCondition(newContactModelIdCondition,newPartyRow.clcommon__Account__c);\n}else{\n    newAccountModel.setCondition(accountIdCondition,'');\n    newPartyModelClone.setCondition(partyAccountIdCondition,'');\n    newCollateralOwnersModel.setCondition(coAccountIdCondition,'');\n    newContactModel.setCondition(newContactModelIdCondition,'');\n}\n\n//query models\nskuid.model.updateData([newAccountModel, newCollateralOwnersModel, newPartyModelClone, newContactModelForExistingRel, newContactModel],function(){\n    createNewAccountRow(newAccountModel);\n    createNewCORow(newCollateralOwnersModel);\n    createNewContactRow(newContactModel);\n    if(!newPartyRow.NewRelationship &amp;&amp; newPartyModelClone.data &amp;&amp; newPartyModelClone.data.length == 1){\n\n    }else{\n        newPartyModel.updateRow(newPartyRow,{\n                                    clcommon__Type__c: null,\n                                    clcommon__Signer_Capacity__c : null,\n                                    clcommon__Signing_on_Behalf_of__c : null,\n                                });\n    }\n\n    //query bi for account\n    if(newAccountModel.data &amp;&amp; newAccountModel.data.length &gt; 0 &amp;&amp; newAccountModel.data[0].genesis__Business_Information__c){\n        newBIModel.setCondition(biIdCondition,newAccountModel.data[0].genesis__Business_Information__c);\n    }else{\n        newBIModel.setCondition(biIdCondition,'');\n    }\n\n    skuid.model.updateData([newBIModel],function(){\n        createNewBIRow(newBIModel);\n        moveToNextStepPls();\n    });\n});\n\nfunction createNewAccountRow(newAccountModel){\n    if(newAccountModel.data &amp;&amp; newAccountModel.data.length &lt; 1){\n        var newRow = newAccountModel.createRow({\n            additionalConditions: [\n                { field: 'BusinessRelationship', value:true },\n                { field: 'IndividualRelationship', value:false },\n                //{ field: 'Name', value:'Set Account Name' },\n            ]\n        });\n    }\n}\n\nfunction createNewContactRow(newContactModel){\n    if(newContactModel.data &amp;&amp; newContactModel.data.length &lt; 1){\n        var newRow = newContactModel.createRow({\n            additionalConditions: [\n                { field: 'BusinessRelationship', value:false },\n                { field: 'IndividualRelationship', value:true }\n\n            ]\n        });\n    }\n}\n\nfunction createNewCORow(newCollateralOwnersModel){\n    if(newCollateralOwnersModel.data &amp;&amp; newCollateralOwnersModel.data.length &lt; 1){\n        var newRow = newCollateralOwnersModel.createRow({\n            additionalConditions: [\n                { field: 'clcommon__Ownership__c', value: 100 },\n                { field: 'clcommon__Collateral__c', value: null},\n            ]\n        });\n    }\n}\n\nfunction createNewBIRow(newBIModel){\n    if(newBIModel.data &amp;&amp; newBIModel.data.length &lt; 1){\n        var newRow = newBIModel.createRow({\n            additionalConditions: [\n                //{ field: 'genesis__Business_Legal_Name__c', value:'Set Business Info' },\n            ]\n        });\n    }\n}\n\nfunction moveToNextStepPls(){\n    var wizard = $('.nx-wizard').data('object');\n    var currentStep = wizard.steps[wizard.currentstep];\n    currentStep.navigate('step3');\n}</jsitem><jsitem location=\"inlinesnippet\" name=\"selectIndividualRelation\" cachelocation=\"false\">var params = arguments[0],\n  $ = skuid.$;\n$('#businessRelation').removeClass('selected-btn');\n$('#indiividualRelation').addClass('selected-btn');\nvar newPartyModel = skuid.model.getModel('NewPartyModel');\nnewPartyModel.updateRow(newPartyModel.data[0] ,{\n                            BusinessRelationship : false ,\n                            IndividualRelationship : true,\n                            clcommon__Account__c : null\n                        }\n    );</jsitem><jsitem location=\"inlinesnippet\" name=\"moveToStep4\" cachelocation=\"false\">var params = arguments[0],\n  step = params.step,\n    stepEditor = step.editor,\n    $ = skuid.$;\n\nvar newPartyModel = skuid.model.getModel('NewPartyModel');\nvar newPartyRow = newPartyModel.data[0];\nvar models;\n\nvar pageTitle = $('#errorTitle3');\nvar editor = pageTitle.data('object').editor;\n\nif(newPartyRow.BusinessRelationship){\n    models = [\n        skuid.model.getModel(\"NewAccountModel\"),\n        skuid.model.getModel(\"NewBusinessInfoModel\")\n    ];\n}else{\n    models = [\n        skuid.model.getModel(\"NewContactModel\"),\n        skuid.model.getModel(\"NewBusinessInfoModel\")\n    ];\n}\nvar vres = validateAllRequiredFields($,editor,models);\nif(!vres){\n    return vres;\n}\n</jsitem><jsitem location=\"inlinesnippet\" name=\"saveUpdateParty\" cachelocation=\"false\">var params = arguments[0],\n$ = skuid.$;\n\nskuid.$('.nx-wizard-step .ui-button:visible').has('.ui-button-text:contains(Save)').button('disable');\nvar newPartyModel = skuid.model.getModel('NewPartyModel');\nvar newPartyRow = newPartyModel.data[0];\n\nvar newAccountModel = skuid.model.getModel('NewAccountModel');\nvar newAccountRow = newAccountModel.data[0];\nconsole.log('newAccountRow ##',newAccountRow);\n\nvar newContactModel = skuid.model.getModel('NewContactModel');\nvar newContactRow = newContactModel.data[0];\nconsole.log('newContactRow ## ',newContactRow);\n\nvar businessInfoModel = skuid.model.getModel('NewBusinessInfoModel');\nvar businessInfoRow = businessInfoModel.data[0];\n\nvar collateralOwnerModel = skuid.model.getModel('CollateralOwnerModel');\nvar collData = [];\ncollateralOwnerModel.data.forEach(function (colDataObj){\n    if(!collateralOwnerModel.isRowMarkedForDeletion(colDataObj) &amp;&amp; colDataObj.clcommon__Collateral__c){\n        collData.push(colDataObj);\n    }\n});\ncollateralOwnerModel.data = collData;\n\nvar pageTitle = $('#finalTitlePanel');\nvar editor = pageTitle.data('object').editor;\nif(!newPartyRow.clcommon__Type__c){\n    editor.handleMessages(\n        [\n           {\n              message: 'Select Party Type for Party.',\n              severity: 'ERROR'\n           },\n        ]\n    );\n    skuid.$('.nx-wizard-step .ui-button:visible').has('.ui-button-text:contains(Save)').button('enable');\n    return;\n}\nvar partyArgs = {};\n\nif(newPartyRow.NewRelationship) {\n    if(newPartyRow.IndividualRelationship){\n        partyArgs[0] = newContactModel;\n        partyArgs[1] = null;\n    } else {\n        partyArgs[0] = null;\n        partyArgs[1] = newAccountModel;\n    }\n} else {\n    if(newPartyRow.IndividualRelationship){\n        partyArgs[0] = newContactModel;\n        partyArgs[1] = null;\n    } else {\n        partyArgs[0] = null;\n        partyArgs[1] = newAccountModel;\n    }\n}\n// if(newPartyRow.IndividualRelationship){\n//     partyArgs[0] = newContactModel;\n//     partyArgs[1] = null;\n// }\n// if(newPartyRow.BusinessRelationship || newPartyRow.ExistingRelationship){\n//     partyArgs[0] = null;\n//     partyArgs[1] = newAccountModel;\n// }\n\nvar bModel = businessInfoModel;\nif (Object.keys(businessInfoModel.data[0]).length &lt;= 2){\n    bModel = null;\n}\n\nvar res = saveParty(newPartyModel,partyArgs[0],partyArgs[1],bModel,collateralOwnerModel);\nvar resObj = JSON.parse(res);\nif(resObj.status == 'SUCCESS'){\n    editor.handleMessages(\n        [\n          {\n              message: 'Record is successfully saved!',\n              severity: 'INFO'\n          },\n        ]\n    );\n    closeTopLevelDialogAndRefresh({iframeIds: ['document-iframe', 'party-iframe', 'deal-dashboard-iframe,document-iframe', 'deal-dashboard-iframe,party-iframe']});\n}else{\n    $(\"#PartySaveButton\").button('enable');\n    editor.handleMessages(\n        [\n          {\n              message: resObj.errorMessage,\n              severity: 'ERROR'\n          },\n        ]\n    );\n}\n</jsitem><jsitem location=\"inline\" name=\"pageLoadJs\" cachelocation=\"false\" url=\"\">(function(skuid){\n\tvar $ = skuid.$;\n\t$(document.body).one('pageload',function(){\n// \t    alert(2);\n      $('#step1button').click();\n\t    \n// \t\tvar myModel = skuid.model.getModel('MyModelId');\n// \t\tvar myComponent = skuid.component.getById('MyComponentUniqueId');\n\t});\n})(skuid);</jsitem><jsitem location=\"inlinesnippet\" name=\"refresh\" cachelocation=\"false\">var params = arguments[0],\n\t$ = skuid.$;\nwindow.location.reload();</jsitem></javascript><css><cssitem location=\"inline\" name=\"partyWizardCss\" cachelocation=\"false\">.selected-btn {\n    background: #16325C!important; /* Or some other color */\n}\n.clorequired{\n\n}\n.progress-indicator {\n    margin-bottom: 20px;\n}\n.progress-indicator .progress-chunk .progress-text {\n    line-height: 32px;\n    font-size: 12px;\n}\n.progress-indicator div {\n    padding: 0px;\n}\n.progress-text {\n    padding: 0px;\n    width: 90px;\n}\n.text-content {\n    font-size: 12px;\n    line-height: 12px;\n}\n.progress-triangle-outline {\n    /* display: none; */\n    border-left: 25px solid #ffffff;\n}\n.progress-indicator .progress-chunk.current .progress-triangle {\n    border-left: 20px solid #1cbdd4;\n}\n.progress-indicator .progress-chunk.done .progress-triangle {\n    border-left: 20px solid #2d5074;\n}\n.progress-indicator .progress-chunk .progress-triangle {\n    border-left: 20px solid #dddddd;\n}\n.progress-indicator .progress-chunk.current .progress-triangle-outline {\n    border-left: 22px solid #ffffff;\n    transform: translate(100%, -50%);\n}\n.progress-indicator .progress-chunk.done .progress-triangle-outline {\n    border-left: 22px solid #ffffff;\n    transform: translate(100%, -50%);\n}\n.progress-indicator .progress-chunk .progress-triangle-outline {\n    border-left: 22px solid #ffffff;\n    transform: translate(100%, -50%);\n}\n.nx-pagetitle-subtitle {\n    position: fixed;\n    top: 70px;\n    font-size: 12px;\n    color: #121212;\n}\n#partywizard {\n    margin-top: 20px;\n}\n.nx-page {\n    overflow: hidden;\n}\n.ui-dialog-title {\n    font-size: 14px;\n}\n.ui-dialog .ui-widget .ui-widget-content .ui-corner-all .ui-front div {\n    overflow: none;\n}</cssitem><cssitem location=\"staticresource\" name=\"CLSStyleSheetPack\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"cls-picker.css\"/></css><actionsequences uniqueid=\"sk-2erc-527\"/></resources><styles><styleitem type=\"background\" bgtype=\"none\"/></styles></skuidpage>","skuid__Layout2__c":null,"skuid__Layout3__c":null,"skuid__Layout4__c":null,"skuid__Layout5__c":null},{"attributes":{"type":"skuid__Page__c","url":"/services/data/v42.0/sobjects/skuid__Page__c/a8n0O000000bzfmQAA"},"Id":"a8n0O000000bzfmQAA","Name":"EditBorrowingStructure","skuid__Type__c":"Desktop","skuid__UniqueId__c":"ngUi_EditBorrowingStructure","skuid__Module__c":"ngUi","skuid__Composer_Settings__c":null,"skuid__MasterPage__c":null,"skuid__MasterPage__r":null,"skuid__IsMaster__c":false,"skuid__Layout__c":"<skuidpage personalizationmode=\"server\" showsidebar=\"false\" showheader=\"false\">\n  <models>\n    <model id=\"EditNGParty\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" sobject=\"clcommon__Party__c\" datasource=\"salesforce\">\n      <fields>\n        <field id=\"clcommon__Account__c\"/>\n        <field id=\"clcommon__Account__r.Name\"/>\n        <field id=\"clcommon__Contact__c\"/>\n        <field id=\"clcommon__Contact__r.Name\"/>\n        <field id=\"genesis__Party_Name__c\"/>\n        <field id=\"Name\"/>\n        <field id=\"clcommon__Type__c\"/>\n        <field id=\"clcommon__Type__r.Name\"/>\n        <field id=\"clcommon__Signer_Capacity__c\"/>\n        <field id=\"clcommon__Signing_on_Behalf_of__c\"/>\n        <field id=\"clcommon__Signing_on_Behalf_of__r.Name\"/>\n        <field id=\"Id\"/>\n      <field id=\"genesis__Application__c\"/><field id=\"genesis__Application__r.Name\"/><field id=\"Guarantor_Value__c\"/></fields>\n      <conditions>\n        <condition type=\"param\" value=\"id\" field=\"Id\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"noquery\"/>\n      </conditions>\n      <actions/>\n    </model>\n    <model id=\"EditNGPartyAccount\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" sobject=\"Account\" datasource=\"salesforce\">\n      <fields>\n        <field id=\"Description\"/>\n        <field id=\"Name\"/>\n        <field id=\"genesis__Business_Information__c\"/>\n        <field id=\"genesis__Business_Information__r.Name\"/>\n        <field id=\"Phone\"/>\n        <field id=\"Fax\"/>\n        <field id=\"clcommon__Legal_Entity_Type__c\"/>\n        <field id=\"clcommon__Legal_Entity_Type__r.Name\"/>\n        <field id=\"Sic\"/>\n        <field id=\"SicDesc\"/>\n        <field id=\"BillingStreet\"/>\n        <field id=\"BillingCity\"/>\n        <field id=\"BillingState\"/>\n        <field id=\"BillingPostalCode\"/>\n        <field id=\"BillingCountry\"/>\n        <field id=\"ShippingStreet\"/>\n        <field id=\"ShippingCity\"/>\n        <field id=\"ShippingState\"/>\n        <field id=\"ShippingPostalCode\"/>\n        <field id=\"ShippingCountry\"/>\n      <field id=\"cllease__Bank_Account__r.Name\" overridemetadata=\"true\" ogdisplaytype=\"STRING\" displaytype=\"TEXT\" defaultvaluetype=\"fieldvalue\"/><field id=\"cllease__Bank_Account__r.cllease__Bank_Account_Number__c\"/><field id=\"clcommon__Email__c\"/></fields>\n      <conditions>\n        <condition type=\"modelmerge\" value=\"\" field=\"Id\" operator=\"=\" model=\"EditNGParty\" enclosevalueinquotes=\"true\" mergefield=\"clcommon__Account__c\" novaluebehavior=\"noquery\"/>\n      </conditions>\n      <actions/>\n    </model>\n    <model id=\"EditNGPartyContact\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" type=\"\" sobject=\"Contact\" datasource=\"salesforce\">\n      <fields>\n        <field id=\"LastName\"/>\n        <field id=\"FirstName\"/>\n        <field id=\"genesis__SSN__c\"/>\n        <field id=\"clcommon__Legal_Entity_Type__c\"/>\n        <field id=\"clcommon__Legal_Entity_Type__r.Name\"/>\n        <field id=\"Birthdate\"/>\n        <field id=\"Email\"/>\n        <field id=\"ints__Social_Security_Number__c\"/>\n        <field id=\"MobilePhone\"/>\n        <field id=\"OtherPhone\"/>\n        <field id=\"MailingStreet\"/>\n        <field id=\"MailingCity\"/>\n        <field id=\"MailingState\"/>\n        <field id=\"MailingPostalCode\"/>\n        <field id=\"MailingCountry\"/>\n        <field id=\"OtherStreet\"/>\n        <field id=\"OtherCity\"/>\n        <field id=\"OtherState\"/>\n        <field id=\"OtherPostalCode\"/>\n        <field id=\"OtherCountry\"/>\n      <field id=\"cllease__Bank_Account__r.cllease__Bank_Account_Number__c\"/><field id=\"cllease__Bank_Account__r.Name\" overridemetadata=\"true\" ogdisplaytype=\"STRING\" displaytype=\"TEXT\"/><field id=\"Phone\"/><field id=\"AccountId\"/><field id=\"Account.Name\"/><field id=\"Account.clcommon__Email__c\"/></fields>\n      <conditions>\n        <condition type=\"modelmerge\" value=\"\" field=\"AccountId\" operator=\"=\" model=\"EditNGParty\" enclosevalueinquotes=\"true\" mergefield=\"clcommon__Account__c\" novaluebehavior=\"noquery\"/>\n      </conditions>\n      <actions/>\n    </model>\n    <model id=\"EditNGAccountBusinessInfo\" limit=\"\" query=\"true\" createrowifnonefound=\"true\" sobject=\"genesis__Business_Information__c\" datasource=\"salesforce\">\n      <fields>\n        <field id=\"genesis__Business_Category__c\"/>\n        <field id=\"genesis__Business_City__c\"/>\n        <field id=\"genesis__Business_Description__c\"/>\n        <field id=\"Name\"/>\n        <field id=\"genesis__Business_Legal_Name__c\"/>\n        <field id=\"genesis__Business_State__c\"/>\n        <field id=\"genesis__Business_Zipcode__c\"/>\n        <field id=\"genesis__Business_Street__c\"/>\n        <field id=\"genesis__Customer_Number__c\"/>\n        <field id=\"genesis__Date_Business_Established__c\"/>\n        <field id=\"genesis__DBA_Name__c\"/>\n        <field id=\"genesis__Email__c\"/>\n        <field id=\"genesis__Mailing_State__c\"/>\n        <field id=\"genesis__Mailing_City__c\"/>\n        <field id=\"genesis__Mailing_Street__c\"/>\n        <field id=\"genesis__Mailing_Zipcode__c\"/>\n        <field id=\"genesis__Non_Profit_Organization__c\"/>\n        <field id=\"genesis__Organization_ID_Number__c\"/>\n        <field id=\"genesis__Required_Number_of_Signers__c\"/>\n        <field id=\"genesis__State_of_Incorporation__c\"/>\n        <field id=\"SystemModstamp\"/>\n        <field id=\"genesis__Telephone__c\"/>\n        <field id=\"genesis__Tax_ID__c\"/>\n        <field id=\"genesis__NAICS_Code__c\"/>\n        <field id=\"genesis__NAICS_Description__c\"/>\n      </fields>\n      <conditions>\n        <condition type=\"modelmerge\" value=\"\" field=\"Id\" operator=\"=\" model=\"EditNGPartyAccount\" enclosevalueinquotes=\"true\" mergefield=\"genesis__Business_Information__c\" novaluebehavior=\"noquery\"/>\n      </conditions>\n      <actions/>\n    </model>\n    <model id=\"EditNGCollateralOwner\" limit=\"20\" query=\"true\" createrowifnonefound=\"true\" adapter=\"salesforce\" type=\"\" sobject=\"clcommon__Collateral_Owner__c\">\n      <fields>\n        <field id=\"clcommon__Account__c\"/>\n        <field id=\"clcommon__Account__r.Name\"/>\n        <field id=\"clcommon__Collateral__c\"/>\n        <field id=\"clcommon__Collateral__r.Name\"/>\n        <field id=\"clcommon__Ownership__c\"/>\n      </fields>\n      <conditions>\n        <condition type=\"modelmerge\" value=\"\" field=\"clcommon__Account__c\" operator=\"=\" model=\"EditNGParty\" enclosevalueinquotes=\"true\" mergefield=\"clcommon__Account__c\" novaluebehavior=\"deactivate\"/>\n      </conditions>\n      <actions/>\n    </model>\n  </models>\n  <components>\n    <pagetitle uniqueid=\"EditPartyTitlePanel\" model=\"EditNGParty\">\n      <actions>\n        <action type=\"multi\" label=\"Save\" uniqueid=\"sk-23rj-204\">\n          <actions>\n            <action type=\"custom\" snippet=\"UpdateParty\"/>\n          <action type=\"blockUI\" message=\"Saving....\" timeout=\"1000\"/></actions>\n        </action>\n        <action type=\"multi\" label=\"Cancel\" secondary=\"true\" uniqueid=\"sk-23rj-207\">\n          <actions>\n            \n          <action type=\"blockUI\" message=\"Closing....\" timeout=\"1500\"/><action type=\"closeTopmostPopup\"/></actions>\n        </action>\n      </actions>\n    </pagetitle>\n    <basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"EditNGPartyAccount\" uniqueid=\"sk-387-Az-443\" mode=\"edit\">\n      <columns>\n        <column width=\"100%\">\n          <sections>\n            <section title=\"Account Details\" collapsible=\"no\">\n              <fields>\n                <columns layoutmode=\"fixed\" uniqueid=\"sk-23rj-249\">\n                  <column width=\"50%\">\n                    <sections>\n                      <section title=\"New Section\" collapsible=\"no\" showheader=\"false\">\n                        <fields>\n                          <field id=\"Name\" readonly=\"false\" uniqueid=\"sk-23rj-220\"/>\n                          \n                          \n                          <field id=\"cllease__Bank_Account__r.cllease__Bank_Account_Number__c\" valuehalign=\"\" type=\"\" uniqueid=\"sk-23rj-229\"/><field id=\"cllease__Bank_Account__r.Name\" valuehalign=\"\" type=\"\" uniqueid=\"sk-23rj-232\"/>\n                        </fields>\n                      </section>\n                    </sections>\n                  </column>\n                  <column width=\"50%\">\n                    <sections>\n                      <section title=\"New Section\" collapsible=\"no\" showheader=\"false\">\n                        <fields>\n                          <field id=\"clcommon__Legal_Entity_Type__c\" required=\"true\" readonly=\"false\" uniqueid=\"sk-23rj-238\">\n                            <filters>\n                              <filter type=\"multiple\" operator=\"not in\" value=\"\" enclosevalueinquotes=\"true\" field=\"Name\">\n                                <values>\n                                  <value>Sole Proprietorship</value>\n                                  <value>Individual</value>\n                                </values>\n                              </filter>\n                            </filters>\n                            <renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/>\n                            <enableconditions/>\n                          </field><field uniqueid=\"sk-3CSy-487\" id=\"clcommon__Email__c\"/>\n                          <field id=\"Phone\" valuehalign=\"\" type=\"\" readonly=\"false\" uniqueid=\"sk-23rj-241\"/>\n                          \n                          <field id=\"Sic\" readonly=\"false\" uniqueid=\"sk-23rj-244\"/>\n                          \n                        </fields>\n                      </section>\n                    </sections>\n                    <renderconditions logictype=\"and\"/>\n                  </column>\n                </columns>\n              </fields>\n            </section>\n          </sections>\n        </column>\n      </columns>\n      <renderconditions logictype=\"and\">\n        \n      </renderconditions>\n    </basicfieldeditor>\n    \n    <basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"EditNGPartyAccount\" uniqueid=\"sk-2Kt6Yd-425\" mode=\"edit\">\n      <columns>\n        <column width=\"50%\">\n          <sections>\n            <section title=\"Business Address\" collapsible=\"no\">\n              <fields>\n                <field id=\"BillingStreet\" valuehalign=\"\" type=\"\" displayrows=\"3\" uniqueid=\"sk-23rj-306\"/>\n                <field id=\"BillingCity\" uniqueid=\"sk-23rj-309\"/>\n                <field id=\"BillingState\" valuehalign=\"\" type=\"\" uniqueid=\"sk-23rj-312\"/>\n                <field id=\"BillingPostalCode\" uniqueid=\"sk-23rj-315\"/>\n                <field id=\"BillingCountry\" uniqueid=\"sk-23rj-318\"/>\n              </fields>\n            </section>\n          </sections>\n        </column>\n        <column width=\"50%\">\n          <sections>\n            <section title=\"Shipping Address\" collapsible=\"no\">\n              <fields>\n                <field id=\"ShippingStreet\" valuehalign=\"\" type=\"\" displayrows=\"3\" uniqueid=\"sk-23rj-324\"/>\n                <field id=\"ShippingCity\" uniqueid=\"sk-23rj-327\"/>\n                <field id=\"ShippingState\" uniqueid=\"sk-23rj-330\"/>\n                <field id=\"ShippingPostalCode\" uniqueid=\"sk-23rj-333\"/>\n                <field id=\"ShippingCountry\" uniqueid=\"sk-23rj-336\"/>\n              </fields>\n            </section>\n          </sections>\n        </column>\n      </columns>\n      <renderconditions logictype=\"and\">\n        \n      </renderconditions>\n    </basicfieldeditor>\n    \n    <basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"EditNGParty\" uniqueid=\"sk-388yPR-137\" mode=\"edit\">\n      <columns>\n        <column width=\"50%\">\n          <sections>\n            <section title=\"Role and ownership\" collapsible=\"no\">\n              <fields>\n                <field id=\"clcommon__Type__c\" required=\"true\" optionsource=\"\" pagesize=\"5\" uniqueid=\"sk-23rj-432\">\n                  <renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/>\n                  <enableconditions/>\n                  <searchfields/>\n                  <filters/>\n                </field><field uniqueid=\"sk-2eqE-458\" id=\"Guarantor_Value__c\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"EditNGParty\" sourcetype=\"fieldvalue\" field=\"clcommon__Type__c\" fieldtargetobjects=\"clcommon__Party_Type__c\" value=\"a4y0O0000004N7eQAE\"/></renderconditions><enableconditions/></field>\n              </fields>\n            </section>\n          </sections>\n        </column>\n        <column width=\"100%\">\n          <sections>\n            <section title=\"New Section\" collapsible=\"no\" showheader=\"false\">\n              <fields><field id=\"clcommon__Signer_Capacity__c\" required=\"true\" uniqueid=\"sk-23rj-438\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/></field><field id=\"clcommon__Signing_on_Behalf_of__c\" valuehalign=\"\" type=\"\" required=\"true\" uniqueid=\"sk-23rj-441\"/>\n                \n                \n              </fields>\n            </section>\n          </sections>\n          <renderconditions logictype=\"and\">\n            <rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"EditNGParty\" sourcetype=\"fieldvalue\" field=\"clcommon__Type__r.Name\" value=\"SIGNER\"/>\n          </renderconditions>\n        </column>\n      </columns>\n      <renderconditions logictype=\"and\"/>\n    </basicfieldeditor>\n    <skootable showconditions=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" searchmethod=\"server\" searchbox=\"true\" showexportbuttons=\"false\" pagesize=\"10\" createrecords=\"true\" model=\"EditNGCollateralOwner\" buttonposition=\"\" mode=\"edit\" uniqueid=\"sk-38CjRP-461\">\n      <fields>\n        <field id=\"clcommon__Collateral__c\" uniqueid=\"fi-2cd90A-428\"/>\n        <field id=\"clcommon__Ownership__c\" uniqueid=\"fi-2cd90A-429\"/>\n      </fields>\n      <rowactions>\n        <action type=\"delete\"/>\n      </rowactions>\n      <massactions usefirstitemasdefault=\"true\"/>\n      <views>\n        <view type=\"standard\"/>\n      </views>\n      <renderconditions logictype=\"and\">\n        <rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"EditNGParty\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"skipandnorender\" field=\"clcommon__Type__r.Name\" value=\"GRANTOR\"/>\n      </renderconditions>\n    </skootable>\n  </components>\n  <resources>\n    <labels/>\n    <javascript>\n      <jsitem location=\"staticresource\" name=\"CLSNGUIComponent\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"commonUtils.js\">var params = arguments[0],\n  $ = skuid.$;\n</jsitem>\n      <jsitem location=\"staticresource\" name=\"CLSNGUIComponent\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"clsRemoteActions.js\">var params = arguments[0],\n  $ = skuid.$;\n</jsitem>\n      <jsitem location=\"staticresource\" name=\"CLSNGUIComponent\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"messageUtils.js\">var params = arguments[0],\n  $ = skuid.$;\n</jsitem>\n      <jsitem location=\"inlinesnippet\" name=\"UpdateParty\" cachelocation=\"false\">var params = arguments[0],\n$ = skuid.$;\n\nvar pageTitle = $('#EditPartyTitlePanel');\nvar editor = pageTitle.data('object').editor;\n\n\n/*\n    Handle error messages\n\n    For printing error messages: use return functionName() as syntax\n    For printing non error(INFO,WARNING) messages: use functionName() as syntax without any 'return' preceding function name\n*/\nvar displayMessage = function (message, severity) {\n\n    if(severity == 'ERROR') {\n        console.log('error');\n        editor.handleMessages([\n            {\n                message: message,\n                severity: severity.toUpperCase()\n            }\n        ]);\n\n        return false;\n    } else {\n        console.log('info');\n        editor.handleMessages([\n            {\n                message: message,\n                severity: severity.toUpperCase()\n            }\n        ]);\n\n        //return true;\n    }\n};\n\nvar newPartyModel = skuid.model.getModel('EditNGParty');\nvar newPartyRow = newPartyModel.data[0];\n\nvar newAccountModel = skuid.model.getModel('EditNGPartyAccount');\nvar newAccountRow = newAccountModel.data[0];\n\nvar newContactModel = skuid.model.getModel('EditNGPartyContact');\nvar newContactRow = newContactModel.data[0];\n\nvar businessInfoModel = skuid.model.getModel('EditNGAccountBusinessInfo');\nvar businessInfoRow = businessInfoModel.data[0];\n\nvar collateralOwnerModel = skuid.model.getModel('EditNGCollateralOwner');\nvar collData = [];\ncollateralOwnerModel.data.forEach(function (colDataObj){\n    if(!collateralOwnerModel.isRowMarkedForDeletion(colDataObj) &amp;&amp; colDataObj.clcommon__Collateral__c){\n        collData.push(colDataObj);\n    }\n});\ncollateralOwnerModel.data = collData;\n\n\n\nif(!newPartyRow.clcommon__Type__c){\n    return displayMessage('Select Party Type for Party.','ERROR');\n}\n\nvar partyArgs = {};\nif(newContactRow &amp;&amp; newContactRow.LastName){\n    partyArgs[0] = newContactModel;\n\n   /* if(newContactRow.clcommon__Legal_Entity_Type__c === undefined || newContactRow.clcommon__Legal_Entity_Type__c === '') {\n        return displayMessage('Select Legal Entity Type for Contact.','ERROR');\n    }*/\n}else{\n    partyArgs[0] = null;\n}\nif(newAccountRow &amp;&amp; newAccountRow.Name){\n    partyArgs[1] = newAccountModel;\n\n   /* if(newAccountRow.clcommon__Legal_Entity_Type__c === undefined || newAccountRow.clcommon__Legal_Entity_Type__c === '') {\n        return displayMessage('Select Legal Entity Type for Account.','ERROR');\n    }*/\n}else{\n    partyArgs[1] = null;\n}\n\n\nvar bModel = businessInfoModel;\nif (Object.keys(businessInfoModel.data[0]).length &lt;= 2){\n    bModel = null;\n}\n\nvar res = saveParty(newPartyModel,partyArgs[0],partyArgs[1],bModel,collateralOwnerModel);\nvar resObj = JSON.parse(res);\nif(resObj.status == 'SUCCESS'){\n    displayMessage('Record is successfully saved!','INFO');\n    closeTopLevelDialogAndRefresh({iframeIds: ['deal-dashboard-iframe,relationship-iframe']});\n}else{\n    $(\"#PartySaveButton\").button('enable');\n    return displayMessage(resObj.errorMessage,'ERROR');\n\n}\n//var id = newPartyRow.genesis__Application__c;\n//parent.location = '/'+id+'?skuidonly=1';</jsitem>\n      <jsitem location=\"inlinesnippet\" name=\"CloseDialog\" cachelocation=\"false\">var params = arguments[0],\n  $ = skuid.$;\n\ncloseTopLevelDialogAndRefresh();</jsitem>\n    </javascript>\n    <css>\n      <cssitem location=\"staticresource\" name=\"CLSStyleSheetPack\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"cls-picker.css\"/>\n    </css>\n  <actionsequences uniqueid=\"sk-2eqD-452\"/></resources>\n  <styles>\n    <styleitem type=\"background\" bgtype=\"none\"/>\n  </styles>\n</skuidpage>","skuid__Layout2__c":null,"skuid__Layout3__c":null,"skuid__Layout4__c":null,"skuid__Layout5__c":null},{"attributes":{"type":"skuid__Page__c","url":"/services/data/v42.0/sobjects/skuid__Page__c/a8n0O000000bzfvQAA"},"Id":"a8n0O000000bzfvQAA","Name":"PartyRelationshipDetails","skuid__Type__c":"Desktop","skuid__UniqueId__c":"ngUi_PartyRelationshipDetails","skuid__Module__c":"ngUi","skuid__Composer_Settings__c":null,"skuid__MasterPage__c":null,"skuid__MasterPage__r":null,"skuid__IsMaster__c":false,"skuid__Layout__c":"<skuidpage unsavedchangeswarning=\"yes\" personalizationmode=\"server\" showsidebar=\"false\" showheader=\"false\" theme=\"CLS UI Theme\"><models><model id=\"NGParty\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" sobject=\"clcommon__Party__c\" datasource=\"salesforce\"><fields><field id=\"Id\"/><field id=\"clcommon__Account__r.Name\"/><field id=\"Name\"/><field id=\"clcommon__Account__r.genesis__Business_Information__r.genesis__Mailing_City__c\"/><field id=\"clcommon__Account__r.genesis__Business_Information__r.genesis__Mailing_State__c\"/><field id=\"clcommon__Account__r.genesis__Business_Information__r.genesis__Mailing_Street__c\"/><field id=\"clcommon__Account__r.genesis__Business_Information__r.genesis__Mailing_Zipcode__c\"/><field id=\"clcommon__Account__r.genesis__Business_Information__r.genesis__Telephone__c\"/><field id=\"clcommon__Account__r.genesis__Business_Information__r.genesis__Email__c\"/><field id=\"clcommon__Type__r.Name\"/><field id=\"genesis__Credit_Report__r.Id\"/><field id=\"genesis__Credit_Report__r.genesis__FICO__c\"/><field id=\"genesis__Credit_Report__c\"/><field id=\"genesis__Credit_Report__r.Name\"/><field id=\"clcommon__Account__c\"/><field id=\"genesis__Credit_Report__r.ints__Credit_Report_Attachment__c\"/><field id=\"genesis__Application__c\"/><field id=\"genesis__Application__r.Name\"/><field id=\"clcommon__Contact__c\"/><field id=\"clcommon__Contact__r.Name\"/><field id=\"clcommon__Account__r.genesis__Business_Information__c\"/><field id=\"clcommon__Account__r.genesis__Business_Information__r.Name\"/><field id=\"clcommon__Account__r.genesis__Business_Information__r.genesis__Tax_ID__c\"/><field id=\"genesis__Credit_Report__r.genesis__Delinquencies__c\"/><field id=\"genesis__Credit_Report__r.genesis__Bankruptcies__c\"/><field id=\"genesis__Credit_Report__r.genesis__Open_Accounts__c\"/><field id=\"genesis__Credit_Report__r.genesis__Closed_Accounts__c\"/><field id=\"genesis__Application__r.RecordType.Name\"/><field id=\"clcommon__Type__c\"/><field id=\"clcommon__Account__r.ShippingCity\"/><field id=\"clcommon__Account__r.ShippingStreet\"/><field id=\"clcommon__Account__r.ShippingState\"/><field id=\"clcommon__Account__r.ShippingPostalCode\"/><field id=\"clcommon__Account__r.clcommon__Legal_Entity_Type__c\"/><field id=\"clcommon__Account__r.clcommon__Legal_Entity_Type__r.Name\"/><field id=\"clcommon__Contact__r.MailingCity\"/><field id=\"clcommon__Contact__r.MailingCountry\"/><field id=\"clcommon__Contact__r.MobilePhone\"/><field id=\"clcommon__Contact__r.MailingStreet\"/><field id=\"clcommon__Contact__r.MailingPostalCode\"/><field id=\"clcommon__Contact__r.MailingState\"/><field id=\"clcommon__Contact__r.AccountId\"/><field id=\"clcommon__Contact__r.Account.Name\"/><field id=\"clcommon__Contact__r.Account.clcommon__Legal_Entity_Type__c\"/><field id=\"clcommon__Contact__r.Account.clcommon__Legal_Entity_Type__r.Name\"/><field id=\"clcommon__Contact__r.OtherAddress\"/><field id=\"clcommon__Contact__r.OtherCity\"/><field id=\"clcommon__Contact__r.OtherPhone\"/><field id=\"clcommon__Contact__r.OtherState\"/><field id=\"clcommon__Contact__r.OtherStreet\"/><field id=\"clcommon__Contact__r.OtherPostalCode\"/><field id=\"clcommon__Contact__r.genesis__SSN__c\"/><field id=\"clcommon__Account__r.BillingAddress\"/><field id=\"clcommon__Account__r.BillingCity\"/><field id=\"clcommon__Account__r.BillingCountry\"/><field id=\"clcommon__Account__r.BillingState\"/><field id=\"clcommon__Account__r.BillingStreet\"/><field id=\"clcommon__Account__r.BillingPostalCode\"/><field id=\"clcommon__Contact__r.FirstName\"/><field id=\"clcommon__Contact__r.HomePhone\"/><field id=\"clcommon__Contact__r.LastName\"/><field id=\"clcommon__Contact__r.clcommon__Legal_Entity_Type__c\"/><field id=\"clcommon__Contact__r.clcommon__Legal_Entity_Type__r.Name\"/><field id=\"clcommon__Contact__r.MailingAddress\"/><field id=\"clcommon__Contact__r.OtherCountry\"/><field id=\"clcommon__Contact__r.Email\"/><field id=\"clcommon__Contact__r.Birthdate\"/><field id=\"clcommon__Account__r.Phone\"/><field id=\"clcommon__Account__r.Sic\"/><field id=\"clcommon__Account__r.SicDesc\"/><field id=\"IsIndividual\" uionly=\"true\" displaytype=\"FORMULA\" label=\"Is Individual\" ogdisplaytype=\"TEXT\" readonly=\"true\" returntype=\"BOOLEAN\"><formula>UPPER({{clcommon__Account__r.clcommon__Legal_Entity_Type__r.Name}}) == 'INDIVIDUAL' || UPPER({{clcommon__Account__r.clcommon__Legal_Entity_Type__r.Name}}) == 'SOLE PROPRIETORSHIP'</formula></field><field id=\"clcommon__Account__r.cllease__Bank_Account__r.Name\"/><field id=\"clcommon__Account__r.cllease__Bank_Account__r.cllease__Bank_Account_Number__c\"/><field id=\"clcommon__Account__r.cnotify__Email__c\"/><field id=\"clcommon__Account__r.ints__Email__c\"/><field id=\"clcommon__Account__r.clcommon__Email__c\"/><field id=\"clcommon__Account__r.AccountNumber\"/><field id=\"Guarantor_Value__c\"/></fields><conditions><condition type=\"param\" value=\"id\" field=\"Id\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"noquery\"/></conditions><actions/></model><model id=\"NewCreditReportScoreModel\" limit=\"\" query=\"true\" createrowifnonefound=\"false\" type=\"\" sobject=\"ints__Credit_Report_Score__c\" datasource=\"salesforce\"><fields><field id=\"genesis__Score__c\"/><field id=\"ints__ModelNameType__c\"/><field id=\"Name\"/><field id=\"Id\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"ints__CreditReport__c\" operator=\"=\" model=\"NGParty\" enclosevalueinquotes=\"true\" mergefield=\"genesis__Credit_Report__c\" novaluebehavior=\"noquery\"/></conditions><actions/></model><model id=\"CreditReportHistory\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" type=\"\" sobject=\"ints__Credit_Report__c\" datasource=\"salesforce\"><fields/><conditions/><actions/></model><model id=\"OtherPartiesForSameAccount\" limit=\"\" query=\"true\" createrowifnonefound=\"false\" type=\"\" sobject=\"clcommon__Party__c\" datasource=\"salesforce\"><fields><field id=\"clcommon__Account__c\"/><field id=\"clcommon__Account__r.Name\"/><field id=\"genesis__Application__c\"/><field id=\"genesis__Application__r.Name\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"clcommon__Account__c\" operator=\"=\" model=\"NGParty\" enclosevalueinquotes=\"true\" mergefield=\"clcommon__Account__c\" novaluebehavior=\"noquery\"/><condition type=\"modelmerge\" value=\"\" field=\"genesis__Application__c\" operator=\"!=\" model=\"NGParty\" enclosevalueinquotes=\"true\" mergefield=\"genesis__Application__c\" novaluebehavior=\"noquery\"/></conditions><actions/></model><model id=\"Opportunities\" limit=\"5\" query=\"true\" createrowifnonefound=\"false\" type=\"\" sobject=\"genesis__Applications__c\" datasource=\"salesforce\"><fields><field id=\"Name\"/><field id=\"genesis__Expected_Close_Date__c\"/><field id=\"genesis__Overall_Status__c\"/><field id=\"Id\"/><field id=\"AppURL\" uionly=\"true\" displaytype=\"URL\" label=\"Loan Opportunity\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"Id\" operator=\"in\" model=\"OtherPartiesForSameAccount\" enclosevalueinquotes=\"true\" mergefield=\"genesis__Application__c\" novaluebehavior=\"noquery\"/></conditions><actions/></model><model id=\"PartiesContact\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" sobject=\"Contact\" datasource=\"salesforce\"><fields><field id=\"Name\"/><field id=\"AccountId\"/><field id=\"Account.Name\"/><field id=\"Id\"/><field id=\"MailingAddress\"/><field id=\"MailingCity\"/><field id=\"MailingCountry\"/><field id=\"MailingState\"/><field id=\"MailingStreet\"/><field id=\"MailingPostalCode\"/><field id=\"OtherPhone\"/><field id=\"OtherState\"/><field id=\"OtherStreet\"/><field id=\"OtherPostalCode\"/><field id=\"OtherCountry\"/><field id=\"OtherCity\"/><field id=\"OtherAddress\"/><field id=\"Birthdate\"/><field id=\"Email\"/><field id=\"FirstName\"/><field id=\"LastName\"/><field id=\"clcommon__Legal_Entity_Type__c\"/><field id=\"clcommon__Legal_Entity_Type__r.Name\"/><field id=\"MobilePhone\"/><field id=\"genesis__SSN__c\"/><field id=\"ints__Social_Security_Number__c\"/><field id=\"MiddleName\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"AccountId\" operator=\"=\" model=\"NGParty\" enclosevalueinquotes=\"true\" mergefield=\"clcommon__Account__c\" novaluebehavior=\"noquery\"/><condition type=\"blank\" value=\"null\" field=\"AccountId\" operator=\"!=\" enclosevalueinquotes=\"false\"/></conditions><actions/></model><model id=\"FinancialAccounts\" limit=\"\" query=\"true\" createrowifnonefound=\"false\" type=\"\" sobject=\"staging__Interface_Bank_Account__c\" datasource=\"salesforce\"><fields><field id=\"staging__Bank_Account_Number__c\"/><field id=\"staging__Account_Type__c\"/><field id=\"staging__Active__c\"/><field id=\"staging__Opened_Date__c\"/><field id=\"staging__Current_Balance__c\"/></fields><conditions><condition type=\"blank\" value=\"null\" field=\"staging__Account__c\" operator=\"!=\" enclosevalueinquotes=\"false\"/><condition type=\"modelmerge\" value=\"\" field=\"staging__Account__c\" operator=\"=\" model=\"NGParty\" enclosevalueinquotes=\"true\" mergefield=\"clcommon__Account__c\" novaluebehavior=\"noquery\"/></conditions><actions/></model><model id=\"OriginalApplication\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" sobject=\"genesis__Applications__c\" datasource=\"salesforce\"><fields><field id=\"Name\"/><field id=\"Id\"/><field id=\"RecordTypeId\"/><field id=\"RecordType.Name\"/></fields><conditions/><actions/></model><model id=\"ExistingContractsForParty\" limit=\"\" query=\"true\" createrowifnonefound=\"false\" type=\"\" sobject=\"staging__Interface_Contract__c\" datasource=\"salesforce\" doclone=\"\"><fields><field id=\"staging__Principal_Balance__c\"/><field id=\"staging__Opened_Date__c\"/><field id=\"Name\"/><field id=\"genesis__CL_Product__c\"/><field id=\"genesis__CL_Product__r.Name\"/><field id=\"staging__Loan_Status__c\"/></fields><conditions/><actions/></model><model id=\"PRD_ApplicableFinancialStatementTemplate\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"clcommon__Financial_Statement_Template__c\" orderby=\"ID ASC\"><fields><field id=\"Id\"/></fields><conditions/><actions/></model></models><components><grid uniqueid=\"sk-3uyyZv-428\"><divisions><division behavior=\"flex\" minwidth=\"100px\" ratio=\"1\"><components><wrapper uniqueid=\"relationship-dashboard-details\"><components><panelset type=\"custom\" uniqueid=\"sk-13B0QE-815\" scroll=\"\"><panels><panel width=\"100%\"><components><wrapper uniqueid=\"partyDetailPageId\" cssclass=\"cls-dashboard-section\"><components><pagetitle model=\"NGParty\" uniqueid=\"sk-2YPdvZ-91\"><actions><action type=\"multi\" label=\"Delete\" cssclass=\"iconic-button iconic-button-delete\" uniqueid=\"sk-2eg7-225\"><actions><action type=\"custom\" snippet=\"deletePartyConfirmation\"/></actions></action><action type=\"multi\" label=\"Copy Party\" icon=\"fa-copy\" cssclass=\"iconic-button iconic-button-copy\" uniqueid=\"sk-2eg7-228\"><actions><action type=\"custom\" snippet=\"LaunchCopyPartyDialog\"/></actions><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"NGParty\" sourcetype=\"fieldvalue\" field=\"genesis__Application__r.RecordType.Name\" value=\"Package\"/></renderconditions><enableconditions/><hotkeys/></action><action type=\"multi\" label=\"Edit\" uniqueid=\"sk-3CPg-865\"><actions><action type=\"showPopup\"><popup title=\"Edit Party\" width=\"90%\"><components><includepanel type=\"skuid\" uniqueid=\"sk-3mD3-514\" querystring=\"?id={{$Model.NGParty.data.0.Id}}\" pagename=\"EditBorrowingStructure\" module=\"ngUi\"/></components></popup></action></actions></action></actions><maintitle>Party Details</maintitle></pagetitle><basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"NGParty\" uniqueid=\"sk-3OAD1-606\" mode=\"readonly\" layout=\"\"><columns><column width=\"100%\"><sections><section title=\"Section A\" collapsible=\"no\" showheader=\"false\"><fields><field id=\"clcommon__Account__r.Name\" valuehalign=\"\" type=\"\" readonly=\"true\" uniqueid=\"sk-2eg7-240\"/><field id=\"clcommon__Account__r.clcommon__Email__c\" valuehalign=\"\" type=\"\" uniqueid=\"sk-2eg7-243\"/><field id=\"clcommon__Account__r.genesis__Business_Information__r.genesis__Tax_ID__c\" valuehalign=\"\" type=\"\" readonly=\"true\" uniqueid=\"sk-2eg7-246\"/><field id=\"clcommon__Type__r.Name\" valuehalign=\"\" type=\"\" uniqueid=\"sk-2eg7-249\"><label>Relationship Type</label></field><field id=\"clcommon__Account__r.AccountNumber\" uniqueid=\"sk-2eg7-252\"/><field id=\"clcommon__Account__r.Phone\" valuehalign=\"\" type=\"\" readonly=\"true\" uniqueid=\"sk-2eg7-255\"/><field id=\"clcommon__Contact__r.OtherPhone\" uniqueid=\"sk-2eg7-258\"/><field id=\"clcommon__Account__r.clcommon__Legal_Entity_Type__r.Name\" readonly=\"false\" uniqueid=\"sk-2eg7-261\" required=\"false\"><label>Legal Entity Type</label></field><field id=\"clcommon__Account__r.Sic\" valuehalign=\"\" type=\"\" readonly=\"true\" uniqueid=\"sk-2eg7-264\"/><field id=\"clcommon__Account__r.cllease__Bank_Account__r.Name\" valuehalign=\"\" type=\"\" uniqueid=\"sk-2eg7-267\"/><field id=\"clcommon__Account__r.cllease__Bank_Account__r.cllease__Bank_Account_Number__c\" readonly=\"false\" uniqueid=\"sk-2eg7-270\"/><field type=\"COMBO\" valuehalign=\"\" editmodebehavior=\"autopopup\" allowhtml=\"false\" readonly=\"true\" uniqueid=\"sk-2eg7-276\"><label>Shipping Address</label><template>{{clcommon__Account__r.ShippingStreet}}\n                                                                                            {{clcommon__Account__r.ShippingCity}}\n                                                                                            {{clcommon__Account__r.ShippingState}}\n                                                                                            {{clcommon__Account__r.ShippingPostalCode}}\n                                                                                            {{clcommon__Account__r.BillingCountry}}</template><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/></field><field type=\"COMBO\" valuehalign=\"\" editmodebehavior=\"autopopup\" readonly=\"true\" uniqueid=\"sk-2eg7-279\"><label>Billing Address</label><template>{{clcommon__Account__r.BillingStreet}}\n                                                                                                {{clcommon__Account__r.BillingCity}}\n                                                                                                {{clcommon__Account__r.BillingState}}\n                                                                                                {{clcommon__Account__r.BillingPostalCode}}\n                                                                                                {{clcommon__Account__r.BillingCountry}}</template></field></fields></section></sections></column></columns><renderconditions logictype=\"and\" logic=\"\"/></basicfieldeditor><basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"NGParty\" uniqueid=\"sk-2eqo-506\" mode=\"readonly\"><columns><column width=\"100%\" uniqueid=\"sk-2eqo-502\"><sections><section title=\"New Section\" collapsible=\"no\" uniqueid=\"sk-2eqv-542\" showheader=\"false\"><fields><field uniqueid=\"sk-2er4-585\" id=\"clcommon__Type__c\"/><field uniqueid=\"sk-2eqz-556\" id=\"Guarantor_Value__c\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"NGParty\" sourcetype=\"fieldvalue\" field=\"clcommon__Type__c\" fieldtargetobjects=\"clcommon__Party_Type__c\" value=\"a4y0O0000004N7eQAE\"/></renderconditions><enableconditions/></field></fields></section></sections></column></columns></basicfieldeditor></components><styles><styleitem type=\"background\"/><styleitem type=\"border\"/><styleitem type=\"size\"/></styles><renderconditions logictype=\"and\"/></wrapper></components></panel></panels><renderconditions logictype=\"and\"/></panelset></components><styles><styleitem type=\"background\"/><styleitem type=\"border\"/><styleitem type=\"size\"/></styles><renderconditions logictype=\"and\"/></wrapper></components></division></divisions><styles><styleitem type=\"background\" bgtype=\"color\"><styles><styleitem property=\"background-color\" value=\"white\"/></styles></styleitem></styles></grid></components><resources><labels/><javascript><jsitem location=\"staticresource\" name=\"CLSNGUIComponent\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"commonUtils.js\">var params = arguments[0],\n                    $ = skuid.$;\n                </jsitem><jsitem location=\"staticresource\" name=\"CLSNGUIComponent\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"partyDashboardDetailsComponent.js\">var params = arguments[0],\n                    $ = skuid.$;\n                </jsitem><jsitem location=\"staticresource\" name=\"CLSNGUIComponent\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"messageUtils.js\">var params = arguments[0],\n                    $ = skuid.$;\n                </jsitem><jsitem location=\"staticresource\" name=\"CLSNGUIComponent\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"windowCallbacks.js\">var params = arguments[0],\n                    $ = skuid.$;\n                </jsitem><jsitem location=\"inlinesnippet\" name=\"CreditScoreSimpleView\" cachelocation=\"false\">var params = arguments[0],\n        $ = skuid.$;\n    \n    var simpleView = {\n        render: function(item) {\n            item.element.html('&lt;div class=\"credit-score-row\"&gt;&lt;span class=\"credit-score-value\"&gt;'+item.row.genesis__Score__c+'&lt;/span&gt;&lt;span class=\"credit-score-type\"&gt;'+item.row.ints__ModelNameType__c+'&lt;/span&gt;');\n        }\n    };\n    \n    return simpleView;</jsitem><jsitem location=\"inlinesnippet\" name=\"LaunchCreditReportView\" cachelocation=\"false\">var params = arguments[0],\n        $ = skuid.$;\n    \n    var party = skuid.model.getModel('NGParty');\n    var url = party.getFirstRow().genesis__Credit_Report__r.ints__Credit_Report_Attachment__c;\n    var reportId = url.substring(url.lastIndexOf('/')+1);\n    var title = 'Credit Report';\n    var iframeUrl = '/servlet/servlet.FileDownload?file=' + reportId;\n            \n    openTopLevelDialog({\n        title: title,\n        iframeUrl: iframeUrl\n    });\n</jsitem><jsitem location=\"inlinesnippet\" name=\"DisplayDefaultZero\" cachelocation=\"false\">var field = arguments[0],\n    value = arguments[1],\n    $ = skuid.$;\n\nvalue = value === null ? 0 : value;\nvar renderer = skuid.ui.fieldRenderers[field.metadata.displaytype];\nrenderer.readonly(field, value);</jsitem><jsitem location=\"inlinesnippet\" name=\"generateMessageCreditPullConfirmation\" cachelocation=\"false\">var params = arguments[0],\n    $ = skuid.$;\n\nvar partyModel = skuid.model.getModel('NGParty');\nvar party = partyModel.data[0];\n\nvar contactModel = skuid.model.getModel('PartiesContact');\nvar contact = contactModel.data[0];\n\nvar appId = party.genesis__Application__c;\nvar partyId = contact.Id;\nvar partyName = party.clcommon__Account__r.Name;\n\nvar title = 'Get Credit Report of ' + partyName;\nvar message = '&lt;p&gt;Are you sure you want to get the credit report of &lt;strong&gt;' \n                + partyName + '&lt;/strong&gt;?&lt;/p&gt;';\nvar cancelText = \"No, do not get it.\";\nvar okText = \"Yes, Continue.\";\nvar okAction = {\n    func: 'getCreditReport',\n    parameters: [appId, partyId, partyName]\n};\n\nopenTopLevelConfirmation({\n    title: title,\n    message: message,\n    cancelText: cancelText,\n    okText: okText,\n    okAction: okAction\n});\n</jsitem><jsitem location=\"inlinesnippet\" name=\"LaunchCreditHistoryView\" cachelocation=\"false\">var params = arguments[0],\n    $ = skuid.$;\n\nvar party = skuid.model.getModel('NGParty');\nvar model = party.getFirstRow();\nvar partyId = model.Id;\nvar partyName = model.clcommon__Account__r.Name;\nvar title = 'Credit Report History of ' + partyName;\nvar skuidPage = 'CreditHistoryPage';\nvar iframeUrl = '/apex/skuid__ui?page=' + skuidPage + '&amp;id=' + partyId;\n\nopenTopLevelDialog({\n    title: title,\n    iframeUrl: iframeUrl\n});</jsitem><jsitem location=\"inlinesnippet\" name=\"LaunchEditPartyDialog\" cachelocation=\"false\">var params = arguments[0],\n    $ = skuid.$;\n\nvar party = skuid.model.getModel('NGParty');\nvar model = party.getFirstRow();\nvar partyId = model.Id;\nvar partyName = model.clcommon__Account__r.Name;\nvar title = 'Edit ' + partyName;\nvar skuidPage = 'EditBorrowingStructure';\nvar iframeUrl = '/apex/skuid__ui?page=' + skuidPage + '&amp;id=' + partyId;\n\nopenTopLevelDialog({\n    title: title,\n    iframeUrl: iframeUrl\n});\n</jsitem><jsitem location=\"inlinesnippet\" name=\"RenderColumnWIthExternalLink\" cachelocation=\"false\">var field = arguments[0],\n    value = arguments[1],\n    $ = skuid.$;\n\nvar url = '/' + field.row.Id;\nfield.element.html('&lt;a href=\"' + url + '\" target=\"_blank\"&gt;' + value + '&lt;/a&gt;');\n</jsitem><jsitem location=\"inlinesnippet\" name=\"RenderAccountStatusColumn\" cachelocation=\"false\">var field = arguments[0],\n    value = arguments[1],\n    $ = skuid.$;\n\nvar message = value ? 'Active' : 'Not Active';\n\nfield.element.text(message);</jsitem><jsitem location=\"inlinesnippet\" name=\"LaunchCovenants\" cachelocation=\"false\">var params = arguments[0],\n    $ = skuid.$;\n\nvar partyRow = skuid.model.getModel('NGParty').data[0];\nvar partyId = partyRow.Id;\nvar title = 'Active Covenants for ' + partyRow.clcommon__Account__r.Name;\nvar skuidPage = 'RelationshipCovenant';\n\nvar iframeUrl = '/apex/skuid__ui?page=' + skuidPage + '&amp;id=' + partyId;\n\nopenTopLevelDialog({\n    title: title,\n    iframeUrl: iframeUrl\n});</jsitem><jsitem location=\"inlinesnippet\" name=\"LaunchCopyPartyDialog\" cachelocation=\"false\">var params = arguments[0],\n    $ = skuid.$;\n    \nvar partyRow = skuid.model.getModel('NGParty').getFirstRow();\nvar title = 'Copy ';\nif(partyRow.clcommon__Account__r &amp;&amp; partyRow.clcommon__Account__r.Name){\n    title = title + partyRow.clcommon__Account__r.Name + ' to Applications';\n}\nvar skuidPage = 'CopyParty';\nvar iframeUrl = '/apex/skuid__ui?page=' + skuidPage + '&amp;id=' + partyRow.Id;\nopenTopLevelDialog({\n    title: title,\n    iframeUrl: iframeUrl\n});</jsitem><jsitem location=\"inlinesnippet\" name=\"deletePartyConfirmation\" cachelocation=\"false\">var params = arguments[0],\n    $ = skuid.$;\n\nvar partyModel = skuid.model.getModel('NGParty');\nvar party = partyModel.data[0];\nvar partyId = party.Id;\nvar title = 'Delete Party ';\nif(party.clcommon__Account__r &amp;&amp; party.clcommon__Account__r.Name){\n    title = title + party.clcommon__Account__r.Name;\n}\nif(party.clcommon__Type__r &amp;&amp; party.clcommon__Type__r.Name){\n    title = title + ' ' + party.clcommon__Type__r.Name;\n}\nvar message = '&lt;p&gt;&lt;strong&gt;Are you sure you want to delete this party&lt;/strong&gt;?&lt;/p&gt;';\nvar cancelText = \"Cancel\";\nvar okText = \"Yes, Continue\";\nvar okAction = {\n    func: 'deleteParty',\n    parameters: [partyId]\n    \n};\n\nopenTopLevelConfirmation({\n    title: title,\n    message: message,\n    cancelText: cancelText,\n    okText: okText,\n    okAction: okAction\n});\n\nparent.location.reload(true);</jsitem><jsitem location=\"inlinesnippet\" name=\"LaunchFinancialAccounts\" cachelocation=\"false\">var params = arguments[0],\n  $ = skuid.$;\nvar appId = skuid.page.params.id;\nvar title = 'Financial Accounts';\nvar partyModel = skuid.model.getModel('NGParty');\nvar party = partyModel.data[0];\nvar skuidPage = 'FinancialAccounts';\nvar iframeUrl = '/apex/skuid__ui?page=' + skuidPage + '&amp;id=' + party.Id;\n\nopenTopLevelDialog({\n    title: title,\n    iframeUrl: iframeUrl\n});</jsitem><jsitem location=\"inlinesnippet\" name=\"LaunchLoanOpportunity\" cachelocation=\"false\">var params = arguments[0],\n  $ = skuid.$;\nvar appId = skuid.page.params.id;\nvar title = 'Loan Opportunities';\nvar partyModel = skuid.model.getModel('NGParty');\nvar party = partyModel.data[0];\nvar skuidPage = 'LoanOpportunities';\nvar iframeUrl = '/apex/skuid__ui?page=' + skuidPage + '&amp;id=' + party.Id;\n\nopenTopLevelDialog({\n    title: title,\n    iframeUrl: iframeUrl\n});\n</jsitem><jsitem location=\"inlinesnippet\" name=\"LaunchCreditAnalysis\" cachelocation=\"false\">var params = arguments[0],\n  $ = skuid.$;\nvar partyModel = skuid.model.getModel('NGParty');\nvar party = partyModel.data[0];\nvar appId = skuid.page.params.id;\nvar title = 'Credit Analysis';\nvar skuidPage = 'CreditAnalysis';\nvar iframeUrl = '/apex/skuid__ui?page=' + skuidPage + '&amp;id=' + party.Id;\n\nopenTopLevelDialog({\n    title: title,\n    iframeUrl: iframeUrl\n});</jsitem><jsitem location=\"inlinesnippet\" name=\"PRD_LaunchFinancialStatementAnalysis\" cachelocation=\"false\">var $ = skuid.$;\n\nvar party = skuid.model.getModel('NGParty').data[0];\nif(party.clcommon__Account__c){\n    var title = 'Financial Analysis - ' + party.clcommon__Account__r.Name;\n    var skuidPage = 'AccountStatements';\n    \n    // get template id\n    var templateRecord = skuid.model.getModel('PRD_ApplicableFinancialStatementTemplate').data[0];\n    var iframeUrl = '/apex/skuid__ui?page=' + skuidPage + '&amp;accountid=' + party.clcommon__Account__c + '&amp;templateid=' + templateRecord.Id;\n    \n    openTopLevelDialog({\n        title: title,\n        iframeUrl: iframeUrl\n    });\n}\n\n\n</jsitem><jsitem location=\"inlinesnippet\" name=\"RefreshParty\" cachelocation=\"false\">var params = arguments[0],\n\t$ = skuid.$;\n\talert('refresh');\n//window.location.reload();\nparent.location.reload();</jsitem></javascript><css><cssitem location=\"staticresource\" name=\"CLSStyleSheetPack\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"cls-common.css\"/><cssitem location=\"staticresource\" name=\"CLSStyleSheetPack\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"cls-dashboard.css\"/><cssitem location=\"staticresource\" name=\"CLSStyleSheetPack\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"customcss.css\"/><cssitem location=\"inline\" name=\"layoutcss\" cachelocation=\"false\">\n#partyDetailPageId {\n    height: 848px;\n}\n\nbody {\n    background-color: #ebeef0;\n}\n\nbody &gt; .nx-page {\n    padding: 0;\n}\n\n.image-button.money:after {\n    content: 'Loan Opportunities';\n}\n\n.image-button.credit-analysis:after {\n    content: 'Credit Analysis';\n}\n\n.image-button.financial-accounts:after {\n    content: 'Financial Analysis';\n}\n\n.image-button.finInstitution:after {\n    content: 'Financial Accounts';\n}\n\n.image-button.clockFire:after {\n    content: 'Relationship Covenants';\n}\n\n\n</cssitem><cssitem location=\"inline\" name=\"CreditDisplay\" cachelocation=\"false\">#credit-score-number-view {\n    width: 100%;\n    text-align: right;\n    margin-top: 20px;\n    margin-bottom: 10px;\n    line-height: 70px;\n}\n\n#credit-score-number-view .credit-score-bg {\n    margin: 0 auto;\n    font-size: 48px;\n    color: white;\n    background-color: #48CE94;\n    padding-left: 12px;\n    padding-right: 12px;\n    display: inline-block;\n    height: 70px;\n    border-radius: 5px;\n    vertical-align: middle;\n}\n\n#credit-score-simple-view {\n    margin-top: 20px;\n    margin-bottom: 10px;\n    margin-left: 15px;\n}\n\n#credit-score-simple-view .nx-editor-header,\n#credit-score-simple-view .nx-editor-contents {\n    margin: 0;\n}\n\n#credit-score-simple-view .nx-item {\n    white-space: nowrap;\n}\n\n#credit-score-simple-view .credit-score-row {\n    height: 20px;\n    margin-bottom: 5px;\n    line-height: 20px;\n}\n\n#credit-score-simple-view .credit-score-row .credit-score-value {\n    background-color: #7F7F7F;\n    color: white;\n    font-size: 11px;\n    padding-left: 10px;\n    padding-right: 10px;\n    margin-right: 5px;\n    border-radius: 3px;\n    display: inline-block;\n    height: 20px;\n}\n\n#credit-score-simple-view .credit-score-row .credit-score-type {\n    display: inline-block;\n    height: 20px;\n}\n\n#credit-score-simple-view .nx-list-footer {\n    display: none;\n}\n\n#credit-report-summary .credit-report-summary-entry {\n    background-color: #1CBDD4;\n    margin-bottom: 10px;\n    margin-left: 10px;\n    padding: 5px 12px;\n    border-radius: 5px;\n}\n\n#credit-report-summary .credit-report-summary-entry .nx-basicfieldeditor-item-label {\n    width: 80%;\n    color: white;\n}\n\n#credit-report-summary .credit-report-summary-entry .nx-field {\n    width: 20%;\n    text-align: right;\n}\n\n#credit-report-summary .credit-report-summary-entry .nx-field .nx-fieldtext {\n    background-color: white;\n    color: #1CBDD4;\n    width: 20px;\n    border-radius: 50%;\n    text-align: center;\n    display: inline-block;\n    font-weight: 700;\n}\n\n#credit-score-figure {\n    position: relative;\n    height: 60px;\n}\n\n#credit-score-figure .credit-score-colorbar {\n    position: absolute;\n    top: 10px;\n    left: 15px;\n    bottom: 30px;\n    right: 0;\n    background-color: red;\n}\n\n#credit-score-figure .credit-score-colorbar-tick {\n    position: absolute;\n    height: 25px;\n    width: 4px;\n    border: 1px solid #7F7F7F;\n    display: inline-block;\n}\n\n#credit-score-figure .credit-score-number-sm {\n    position: absolute;\n    background-color: #2D5074;\n    color: white;\n    font-size: 11px;\n    padding: 3px 10px;\n    border-radius: 3px;\n    display: inline-block;\n}\n\n#credit-score-bar-wrapper {\n    margin-left: 10px;\n    margin-bottom: 10px;\n}</cssitem></css><actionsequences uniqueid=\"sk-2eql-497\"/></resources><styles><styleitem type=\"background\" bgtype=\"color\"><styles><styleitem property=\"background-color\" value=\"#ebeef0\"/></styles></styleitem></styles></skuidpage>","skuid__Layout2__c":null,"skuid__Layout3__c":null,"skuid__Layout4__c":null,"skuid__Layout5__c":null},{"attributes":{"type":"skuid__Page__c","url":"/services/data/v42.0/sobjects/skuid__Page__c/a8n0O000000bzfzQAA"},"Id":"a8n0O000000bzfzQAA","Name":"RelationshipDashboard","skuid__Type__c":"Desktop","skuid__UniqueId__c":"ngUi_RelationshipDashboard","skuid__Module__c":"ngUi","skuid__Composer_Settings__c":null,"skuid__MasterPage__c":null,"skuid__MasterPage__r":null,"skuid__IsMaster__c":false,"skuid__Layout__c":"<skuidpage unsavedchangeswarning=\"yes\" personalizationmode=\"server\" showsidebar=\"false\" showheader=\"false\"><models><model id=\"RDParty\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" type=\"\" sobject=\"clcommon__Party__c\" orderby=\"clcommon__Type__r.Name, clcommon__Account__r.Name\" datasource=\"salesforce\"><fields><field id=\"clcommon__Account__r.Name\"/><field id=\"Name\"/><field id=\"Id\"/><field id=\"clcommon__Type__r.Name\"/><field id=\"clcommon__Account__c\"/><field id=\"genesis__Application__c\"/><field id=\"genesis__Application__r.Name\"/><field id=\"clcommon__Contact__c\"/><field id=\"clcommon__Contact__r.Name\"/><field id=\"CreatedById\"/><field id=\"CreatedBy.Name\"/><field id=\"CreatedDate\"/><field id=\"genesis__Credit_Report__c\"/><field id=\"genesis__Credit_Report__r.Name\"/><field id=\"IsDeleted\"/><field id=\"genesis__Is_Internal_User__c\"/><field id=\"LastModifiedById\"/><field id=\"LastModifiedBy.Name\"/><field id=\"LastModifiedDate\"/><field id=\"LastReferencedDate\"/><field id=\"LastViewedDate\"/><field id=\"OwnerId\"/><field id=\"Owner.Name\"/><field id=\"genesis__Party_Name__c\"/><field id=\"clcommon__Type__c\"/><field id=\"clcommon__Party_Type__c\"/><field id=\"clcommon__Signer_Capacity__c\"/><field id=\"clcommon__Signing_on_Behalf_of__c\"/><field id=\"clcommon__Signing_on_Behalf_of__r.Name\"/><field id=\"SystemModstamp\"/><field id=\"clcommon__User__c\"/><field id=\"clcommon__User__r.Name\"/><field id=\"genesis__Application__r.genesis__Status__c\"/></fields><conditions><condition type=\"fieldvalue\" value=\"false\" enclosevalueinquotes=\"false\" field=\"genesis__Is_Internal_User__c\"/><condition type=\"param\" value=\"id\" field=\"genesis__Application__c\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/></conditions><actions/></model><model id=\"Application\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" sobject=\"genesis__Applications__c\"><fields><field id=\"Name\"/><field id=\"genesis__Status__c\"/><field id=\"genesis__Overall_Status__c\"/><field id=\"Id\"/></fields><conditions><condition type=\"param\" value=\"id\" field=\"Id\" operator=\"=\" state=\"\" enclosevalueinquotes=\"true\" novaluebehavior=\"deactivate\"/></conditions><actions/></model></models><components><pagetitle uniqueid=\"sk-2lcAfm-140\" model=\"Application\" cssclass=\"wrapper-title\"><maintitle>{{Name}} - {{genesis__Status__c}}</maintitle><actions><action type=\"multi\" label=\"Create New Party\" uniqueid=\"sk-3mi6-304\" icon=\"sk-icon-add\" cssclass=\"iconic-button iconic-button-add\"><actions><action type=\"showPopup\"><popup title=\"New Popup\" width=\"90%\"><components><includepanel type=\"skuid\" uniqueid=\"sk-3miW-350\" pagename=\"BorrowingStructure\" module=\"ngUi\" querystring=\"?id={{{$Model.Application.data.0.Id}}}&amp;parentId={{{$Model.Application.data.0.IsPackage}}\"/></components><afterclose/></popup></action></actions><hotkeys/><renderconditions logictype=\"and\"/><enableconditions/></action></actions><renderconditions logictype=\"and\"/></pagetitle><panelset type=\"custom\" uniqueid=\"sk-1BxPAD-201\"><panels><panel width=\"33.3%\"><components/></panel><panel width=\"33.3%\"><components><template multiple=\"false\" uniqueid=\"sk-1BxCr1-184\"><contents>&lt;div class=\"cls-page-title-header\"&gt;No Parties To Display&lt;/div&gt;</contents><renderconditions logictype=\"and\"/></template></components></panel><panel width=\"33.3%\"><components/></panel></panels><renderconditions logictype=\"and\"><rendercondition fieldmodel=\"RDParty\" sourcetype=\"modelproperty\" nosourcerowbehavior=\"deactivate\" sourceproperty=\"hasNoRows\"/></renderconditions></panelset><panelset type=\"vertical\" uniqueid=\"relationship-dashboard-panelset\" cssclass=\"party-queue-panel\"><panels><panel uniqueid=\"party-queue\" width=\"\"><components><queue tagrendertype=\"template\" querystring=\"id={{Id}}\" defaultitemparameter=\"id\" searchbox=\"true\" tokenizesearch=\"true\" uniqueid=\"relationship-queue\" model=\"RDParty\" cssclass=\"simple-queue\" itemicon=\"sk-icon-members\" module=\"\" searchmethod=\"server\" emptysearchbehavior=\"query\"><rendertemplate>{{clcommon__Account__r.Name}}\n{{clcommon__Type__r.Name}}</rendertemplate><renderconditions logictype=\"and\"/><searchfields/><interactions><interaction type=\"tap\"><action type=\"custom\" snippet=\"UpdateRelationshipIFrame\"/></interaction></interactions></queue></components></panel><panel width=\"\" uniqueid=\"party-container\"><components><template multiple=\"true\" uniqueid=\"relationship-container\" model=\"RDParty\"><contents>&lt;iframe id=\"relationship-iframe\" src=\"/apex/skuid__ui?page=PartyRelationshipDetails&amp;id={{{$Model.RDParty.data.0.Id}}}\" width=\"100%\" height=\"100%\" frameborder=\"0\"/&gt;</contents><renderconditions logictype=\"and\"/></template></components></panel></panels><renderconditions logictype=\"or\"><rendercondition type=\"fieldvalue\" enclosevalueinquotes=\"true\" fieldmodel=\"RDParty\" sourcetype=\"modelproperty\" nosourcerowbehavior=\"deactivate\" sourceproperty=\"hasRows\"/><rendercondition fieldmodel=\"RDParty\" sourcetype=\"rowproperty\" nosourcerowbehavior=\"deactivate\" sourceproperty=\"isSaved\" enclosevalueinquotes=\"false\"/></renderconditions></panelset></components><resources><labels/><javascript><jsitem location=\"staticresource\" name=\"CLSNGUIComponent\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"commonUtils.js\">var params = arguments[0],\n    $ = skuid.$;\n</jsitem><jsitem location=\"inlinesnippet\" name=\"UpdateRelationshipIFrame\" cachelocation=\"false\">var params = arguments[0],\n  $ = skuid.$;\n\nvar url = $('#relationship-iframe').attr('src');\nif (url.lastIndexOf('&amp;id=') &gt;= 0) {\n    url = url.substring(0, url.lastIndexOf('&amp;id=')) + '&amp;id=' + params.row.Id;\n} else {\n    url += '&amp;id=' + params.row.Id;\n}\n\n$('#relationship-iframe').attr('src', url);\n$('#relationship-iframe').hide();\n$('#relationship-iframe').on('load', function() {\n    $(\"#relationship-iframe\").show();\n});</jsitem><jsitem location=\"inlinesnippet\" name=\"refreshpartydash\" cachelocation=\"false\">var params = arguments[0],\n\t$ = skuid.$;\n//window.location.reload();\nalert('Hi');\nparent.location.reload();</jsitem><jsitem location=\"inlinesnippet\" name=\"refresh\" cachelocation=\"false\">var params = arguments[0],\n\t$ = skuid.$;\n\nwindow.location.reload();</jsitem></javascript><css><cssitem location=\"staticresource\" name=\"FontAwesomePack\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"font-awesome-4.6.3/css/font-awesome.css\"/><cssitem location=\"inline\" name=\"simple-queue\" cachelocation=\"false\">.party-queue-panel .nx-queue-header {\n    display: none;\n}\n\n.party-queue-panel .nx-list-footer {\n    display: none;\n}\n\n.party-queue-panel .simple-queue.nx-queue {\n    border-top: 0;\n}\n\n.party-queue-panel .nx-queue-item{\n    color: white;\n}\n.party-queue-panel .nx-queue-item-inner-with-icon {\n    height: 30px;\n}\n\n.party-queue-panel .sk-icon {\n    width: 30px;\n    height: 30px;\n    line-height: 30px;\n    border-radius: 50%;\n    border: 2px solid white;\n    margin: 0 15px 0 0;\n}\n\n /*to get the font content, go https://astronautweb.co/snippet/font-awesome/ */\n\n.party-queue-panel .sk-icon.sk-icon-members:before {\n    font-family: FontAwesome;\n    content: \"\\f007\";\n    padding: 4px;\n    font-size: 20px;\n    vertical-align: middle;\n}\n\n.party-queue-panel .nx-item.nx-queue-item.nx-queue-item-selected &gt; .nx-queue-item-inner {\n    color: white;\n}\n\n.party-queue-panel .nx-item.nx-queue-item.nx-queue-item-selected .sk-icon {\n    color: #48ce94;\n    border: 2px solid #48ce94;\n}\n\n.party-queue-panel .nx-item.nx-queue-item {\n    border-left: 5px solid #7f7f7f;\n    background: #7f7f7f;\n}\n\n.party-queue-panel .nx-item.nx-queue-item .nx-template {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.party-queue-panel .nx-item.nx-queue-item .nx-queue-loader {\n    display: none;\n}\n\n.party-queue-panel .nx-item.nx-queue-item:hover {\n    border-left: 5px solid #2d5074;\n}\n\n.party-queue-panel .nx-item.nx-queue-item.nx-queue-item-selected {\n    border-left: 5px solid #48ce94;\n}</cssitem><cssitem location=\"inline\" name=\"inlinecss\" cachelocation=\"false\">#relationship-dashboard-panelset {\n    position: absolute;\n    top: 50px;\n    bottom: 0;\n    left: 0;\n    right: 0;\n}\n\n#party-queue {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    width: 250px;\n}\n\n#party-container {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 250px;\n    right: 0;\n    overflow-y: hidden;\n}\n\n#relationship-container,\n#relationship-container div {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n}\n\ndiv[pagename=\"RelationshipDashboard\"] {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n}\n\n.wrapper-title {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n.wrapper-title .nx-pagetitle-maintitle {\n    font: normal normal 700 14px Lato;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    padding-left: 10px;\n}</cssitem></css><actionsequences/></resources><styles><styleitem type=\"background\" bgtype=\"color\"><styles><styleitem property=\"background-color\" value=\"white\"/></styles></styleitem><styleitem property=\"position\" value=\"absolute\"/><styleitem property=\"top\" value=\"0\"/><styleitem property=\"bottom\" value=\"0\"/><styleitem property=\"left\" value=\"0\"/><styleitem property=\"right\" value=\"0\"/></styles><interactions/></skuidpage>","skuid__Layout2__c":null,"skuid__Layout3__c":null,"skuid__Layout4__c":null,"skuid__Layout5__c":null}]