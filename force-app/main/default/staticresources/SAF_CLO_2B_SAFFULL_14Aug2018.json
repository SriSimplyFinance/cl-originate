[{"attributes":{"type":"skuid__Page__c","url":"/services/data/v36.0/sobjects/skuid__Page__c/a8n9E0000004E5EQAU"},"Id":"a8n9E0000004E5EQAU","Name":"RaiseDocuments","skuid__Type__c":"Desktop","skuid__UniqueId__c":"_RaiseDocuments","skuid__Module__c":null,"skuid__Composer_Settings__c":null,"skuid__MasterPage__c":null,"skuid__MasterPage__r":null,"skuid__IsMaster__c":false,"skuid__Layout__c":"<skuidpage unsavedchangeswarning=\"yes\" personalizationmode=\"server\" useviewportmeta=\"true\" showsidebar=\"true\" showheader=\"true\" tabtooverride=\"genesis_KYC_AML__c\"><models><model id=\"ApplicationModel\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"genesis__Applications__c\"><fields><field id=\"Name\"/><field id=\"Id\"/><field id=\"genesis__Status__c\"/><field id=\"genesis__CL_Product_Name__c\"/><field id=\"genesis__Term__c\" overridemetadata=\"false\" ogdisplaytype=\"DOUBLE\" displaytype=\"DOUBLE\" precision=\"\" scale=\"\" picklistsource=\"manual\" snippet=\"Termdropdown\"/><field id=\"genesis__Expected_Start_Date__c\"/><field id=\"genesis__Dealer_Payment_Date__c\" overridemetadata=\"false\" ogdisplaytype=\"DATE\" displaytype=\"DATE\" defaultvaluetype=\"fieldvalue\" defaultValue=\"\" mergefield=\"Payment_Start_Date__c\" enclosevalueinquotes=\"false\"/><field id=\"Total_Net_Asset_Cost__c\"/><field id=\"Total_VAT__c\"/><field id=\"Total_Gross_Asset_Cost__c\"/><field id=\"genesis_Commission__c\"/><field id=\"Balance_finance_transact__c\"/><field id=\"Balance_Financed_less_Advance_transact__c\"/><field id=\"genesis_Balance_Finance__c\"/><field id=\"Balance_Financed_less_Advance_Rental__c\"/><field id=\"genesis__Financed_Amount__c\"/><field id=\"Is_Contract_created__c\"/><field id=\"genesis__Loan_Number__c\"/><field id=\"genesis__Product_Type__c\"/><field id=\"genesis__Expected_First_Payment_Date__c\"/></fields><conditions><condition type=\"param\" value=\"Id\" field=\"Id\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"noquery\"/></conditions><actions><action><actions><action type=\"updateRow\" fieldmodel=\"ApplicationPaymentStreams\" affectedrows=\"context\" field=\"genesis__Start_Date__c\" enclosevalueinquotes=\"false\" value=\"2018-08-07\"/><action type=\"save\"><models><model>ApplicationPaymentStreams</model></models></action></actions><events><event>models.saved</event><event>row.updated</event></events><fields><field>genesis__Expected_Start_Date__c</field></fields></action></actions></model><model id=\"genesisKYCAML\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" sobject=\"genesis_KYC_AML__c\" type=\"\" doclone=\"\"><fields><field id=\"Name\"/><field id=\"CreatedDate\"/><field id=\"genesis_SAF_Guarantee_Indemnity_txt__c\"/><field id=\"genesis_SAF_Guarantee_Indemnity__c\"/><field id=\"genesis_SAF_Landlords_Waiver_txt__c\"/><field id=\"genesis_SAF_Landlords_Waiver__c\"/><field id=\"genesis_SAF_Pre_Payment_Letter__c\"/><field id=\"genesis_SAFSaleLeasebackCapitalAllowance__c\"/><field id=\"genesis_SAFSatNteDeliveryAcptnceSchdEqpt__c\"/><field id=\"genesis_SAF_Sub_Letting_Consent_Form__c\"/><field id=\"genesis_UniversalHirePurchaseUnregulated__c\"/><field id=\"genesis_UnivrslMinTermLeaseNonCancell__c\"/><field id=\"genesis_Application__c\"/><field id=\"genesis_Application__r.Name\"/><field id=\"genesis_Sale_and_HP_Completed_LDF_2__c\"/><field id=\"genesis_Supplier_Disclaimer_COMPLETED_RR__c\"/><field id=\"genesis_Paid_to_supplier__c\"/><field id=\"genesis_Deposit__c\"/><field id=\"genesis_Application__r.genesis__Status__c\"/><field id=\"SAF_Buy_Back_Agreement__c\"/><field id=\"SAF_Directors_Personal_Gurantee__c\"/><field id=\"SAF_Sub_Hire_Agreement__c\"/><field id=\"SAF_Terms_Of_Business__c\"/><field id=\"SAF_HP_Agreement__c\"/><field id=\"SAF_Sale_and_HP_Back_Agreement__c\"/><field id=\"SAF_Lease_Agreement__c\"/><field id=\"AML_Passed__c\"/><field id=\"HPI_Checks_Completed__c\"/><field id=\"Credit_conditions_met_and_all_required__c\"/><field id=\"Credit_approval_within_3_months__c\"/><field id=\"Documents_raised_on_correct_version__c\"/><field id=\"All_relevant_fields_on_documents_signed__c\"/><field id=\"Deposit_Received__c\"/><field id=\"genesis_SAF__c\"/><field id=\"genesis_Supplier__c\"/><field id=\"genesis_Total__c\"/><field id=\"Customer_details_correct_signed_date__c\"/><field id=\"DDM_completedsigned_and_dated_in_comp__c\"/><field id=\"Invoice_addressed_correctly_to_SAF1_Ltd__c\"/><field id=\"Invoice_date_number_present__c\"/><field id=\"Customer_Name_Address_stated_on_invoice__c\"/><field id=\"Bank_details_on_invoice_or_provided_by_s__c\"/><field id=\"Manuf_SNo_VIN_Chassis_Reg_DOR_invoice__c\"/><field id=\"Invoice_VAT_number_present__c\"/><field id=\"Invoice_figures_correct__c\"/><field id=\"Broker_Commission_invoice_received__c\"/><field id=\"Narrative_box_to_write_free_text__c\"/><field id=\"Total_Documentation\" uionly=\"true\" displaytype=\"FORMULA\" ogdisplaytype=\"TEXT\" precision=\"9\" scale=\"2\" defaultvaluetype=\"fieldvalue\" readonly=\"true\" returntype=\"CURRENCY\" label=\"Total\"><formula>{{genesis_SAF__c}}+{{genesis_Supplier__c}}</formula></field></fields><conditions logic=\"\"><condition type=\"param\" enclosevalueinquotes=\"true\" operator=\"=\" field=\"genesis_Application__r.Id\" value=\"id\" novaluebehavior=\"\" state=\"\"/></conditions><actions/></model><model id=\"Applicationkyc\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"genesis__Applications__c\"><fields><field id=\"Name\"/><field id=\"genesis__ID_Number__c\"/><field id=\"genesis__Bank_Name__c\"/><field id=\"genesis__CL_Product_Name__c\"/><field id=\"genesis_ProposalName__c\"/></fields><conditions><condition type=\"param\" value=\"id\" field=\"Id\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/></conditions><actions/></model><model id=\"ApplicationPaymentStreams\" limit=\"\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"genesis__Payment_Stream__c\"><fields><field id=\"genesis__Application__c\"/><field id=\"genesis__Application__r.Name\"/><field id=\"genesis__Interest_Rate__c\"/><field id=\"genesis__Interest_Rate_Adjustment_Frequency__c\"/><field id=\"genesis__Interest_Rate_Adjustment_Period__c\"/><field id=\"genesis__Number_of_Payments__c\"/><field id=\"genesis__Payment_Amount__c\"/><field id=\"genesis__Payment_Frequency__c\"/><field id=\"Name\"/><field id=\"genesis__Payment_Type__c\"/><field id=\"genesis__Pricing_Basis__c\"/><field id=\"genesis__Rate_Type__c\"/><field id=\"Id\"/><field id=\"genesis__Sequence__c\"/><field id=\"genesis__Start_Date__c\"/><field id=\"isTransact__c\"/></fields><conditions><condition type=\"param\" value=\"id\" field=\"genesis__Application__c\" fieldtargetobjects=\"genesis__Applications__c\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"noquery\"/></conditions><actions/></model><model id=\"Underwriting\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" sobject=\"Underwriting__c\" type=\"\" doclone=\"\" queryallrows=\"false\" processonclient=\"false\" orderby=\"LastModifiedDate desc\"><fields><field id=\"Name\"/><field id=\"CreatedDate\"/><field id=\"genesis_Affordability_comment__c\" overridemetadata=\"true\" ogdisplaytype=\"STRING\" displaytype=\"TEXT\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" model=\"underwritingHistory\" enclosevalueinquotes=\"true\" mergefield=\"genesis_Affordability_comment__c\"/><field id=\"genesis_Approval_conditions__c\" overridemetadata=\"true\" ogdisplaytype=\"TEXTAREA\" displaytype=\"TEXTAREA\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" model=\"underwritingHistory\" enclosevalueinquotes=\"true\" mergefield=\"genesis_Approval_conditions__c\"/><field id=\"genesis_Approved_supplier_name__c\" overridemetadata=\"true\" ogdisplaytype=\"TEXTAREA\" displaytype=\"TEXTAREA\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" model=\"Underwriting\" enclosevalueinquotes=\"true\" mergefield=\"genesis_Approved_supplier_name__c\"/><field id=\"genesis_CCA_regulated__c\" overridemetadata=\"true\" ogdisplaytype=\"PICKLIST\" displaytype=\"PICKLIST\" picklistsource=\"manual\" defaultvaluetype=\"fieldvalue\" defaultValue=\"Non-Regulated\" mergefield=\"genesis_CCA_regulated__c\" enclosevalueinquotes=\"true\"/><field id=\"CreatedById\"/><field id=\"CreatedBy.Name\"/><field id=\"genesis_Credit_Review__c\" overridemetadata=\"true\" ogdisplaytype=\"STRING\" displaytype=\"TEXT\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" model=\"underwritingHistory\" enclosevalueinquotes=\"true\" mergefield=\"genesis_Credit_Review__c\"/><field id=\"genesis_Credit_quality_code__c\" overridemetadata=\"true\" ogdisplaytype=\"STRING\" displaytype=\"TEXT\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" model=\"underwritingHistory\" enclosevalueinquotes=\"true\" mergefield=\"genesis_Credit_quality_code__c\"/><field id=\"genesis_Decision__c\" overridemetadata=\"true\" ogdisplaytype=\"PICKLIST\" displaytype=\"PICKLIST\" picklistsource=\"manual\" defaultvaluetype=\"fieldvalue\" defaultValue=\"More information required\" mergefield=\"genesis_Decision__c\" enclosevalueinquotes=\"true\"><picklistentries/></field><field id=\"IsDeleted\"/><field id=\"genesis_Directors_comments__c\" overridemetadata=\"true\" ogdisplaytype=\"TEXTAREA\" displaytype=\"TEXTAREA\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" model=\"underwritingHistory\" enclosevalueinquotes=\"true\" mergefield=\"genesis_Directors_comments__c\"/><field id=\"genesis_Funder__c\" overridemetadata=\"true\" ogdisplaytype=\"PICKLIST\" displaytype=\"PICKLIST\" picklistsource=\"manual\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" model=\"underwritingHistory\" enclosevalueinquotes=\"true\" mergefield=\"genesis_Funder__c\"/><field id=\"genesis_Internal_fraud_screening__c\" overridemetadata=\"false\" ogdisplaytype=\"STRING\" displaytype=\"BOOLEAN\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" model=\"underwritingHistory\" enclosevalueinquotes=\"true\" mergefield=\"genesis_Internal_fraud_screening__c\"/><field id=\"LastActivityDate\"/><field id=\"LastModifiedDate\"/><field id=\"LastModifiedBy.Name\"/><field id=\"LastReferencedDate\"/><field id=\"Id\"/><field id=\"LastViewedDate\"/><field id=\"genesis_SME__c\" overridemetadata=\"true\" ogdisplaytype=\"STRING\" displaytype=\"PICKLIST\" picklistsource=\"manual\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" model=\"underwritingHistory\" enclosevalueinquotes=\"true\" mergefield=\"genesis_SME__c\"><picklistentries><entry value=\"Yes\" label=\"Yes\"/><entry value=\"No\" label=\"No\"/></picklistentries></field><field id=\"genesis_Request_more_information__c\" overridemetadata=\"true\" ogdisplaytype=\"STRING\" displaytype=\"TEXT\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" model=\"underwritingHistory\" enclosevalueinquotes=\"true\" mergefield=\"genesis_Request_more_information__c\"/><field id=\"genesis_Supplier_approval__c\" overridemetadata=\"false\" ogdisplaytype=\"STRING\" displaytype=\"PICKLIST\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" model=\"underwritingHistory\" enclosevalueinquotes=\"true\" mergefield=\"genesis_Supplier_approval__c\" picklistsource=\"manual\"/><field id=\"genesis_Trade_value__c\" overridemetadata=\"false\" ogdisplaytype=\"STRING\" displaytype=\"CURRENCY\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" model=\"underwritingHistory\" enclosevalueinquotes=\"true\" mergefield=\"genesis_Trade_value__c\"/><field id=\"Underwriter__c\" overridemetadata=\"true\" ogdisplaytype=\"REFERENCE\" displaytype=\"REFERENCE\" datasource=\"salesforce\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" model=\"underwritingHistory\" enclosevalueinquotes=\"true\" mergefield=\"Underwriter__c\" fieldtargetobjects=\"User\"/><field id=\"Underwriter__r.Name\"/><field id=\"genesis_Underwriter_comments__c\" overridemetadata=\"true\" ogdisplaytype=\"TEXTAREA\" displaytype=\"TEXTAREA\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" model=\"underwritingHistory\" enclosevalueinquotes=\"true\" mergefield=\"genesis_Underwriter_comments__c\"/><field id=\"genesis_Application__c\"/><field id=\"genesis_Application__r.Name\"/><field id=\"genesis_Application__r.genesis__Account__r.Name\"/><field id=\"genesis_Application__r.genesis__CL_Product__r.Name\"/><field id=\"genesis_Application__r.genesis__Financed_Amount__c\"/><field id=\"genesis_Application__r.genesis__CL_Product_Name__c\"/><field id=\"isSubmitted__c\"/><field id=\"genesis_Application__r.genesis__Status__c\"/><field id=\"genesis_Application__r.Total_Net_Asset_Cost__c\"/><field id=\"UnderwritingName\" uionly=\"true\" displaytype=\"FORMULA\" label=\"Underwriting Name\" ogdisplaytype=\"TEXT\" readonly=\"true\" returntype=\"TEXT\"><formula>{{Name}}</formula></field><field id=\"count\" uionly=\"true\" displaytype=\"DOUBLE\" ogdisplaytype=\"TEXT\" precision=\"9\" scale=\"0\" defaultvaluetype=\"fieldvalue\" defaultValue=\"{{$Model.Underwriting.data.Length}}\" mergefield=\"Id\" enclosevalueinquotes=\"false\"/><field id=\"Recommend_to_Director_look_up__c\"/><field id=\"Recommend_to_Director_look_up__r.Name\"/><field id=\"genesis_Recommend_to_Cabot__c\"/><field id=\"genesis_Cabot_Comment__c\" overridemetadata=\"false\" ogdisplaytype=\"TEXTAREA\" displaytype=\"TEXTAREA\"/><field id=\"genesis_Funder_Name__c\"/><field id=\"Asset_quality__c\"/><field id=\"genesis_Customer_quality__c\"/><field id=\"genesis_Rate_to_Reflect_Risk__c\"/></fields><conditions logic=\"\"><condition type=\"param\" enclosevalueinquotes=\"true\" operator=\"=\" field=\"genesis_Application__r.Id\" value=\"id\" novaluebehavior=\"\"/><condition type=\"fieldvalue\" value=\"Accepted\" enclosevalueinquotes=\"true\" field=\"genesis_Decision__c\" state=\"\" operator=\"=\"/><condition type=\"fieldvalue\" value=\"true\" enclosevalueinquotes=\"false\" field=\"isSubmitted__c\"/></conditions><actions><action><actions/><events><event>row.updated</event></events></action></actions></model><model id=\"SAFDocumentLinks\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"SAF_Document_Links__c\"><fields><field id=\"Application__c\"/><field id=\"Application__r.Name\"/><field id=\"CreatedById\"/><field id=\"CreatedBy.Name\"/><field id=\"CreatedDate\"/><field id=\"Document_Links__c\"/><field id=\"LastModifiedById\"/><field id=\"LastModifiedBy.Name\"/><field id=\"LastModifiedDate\"/><field id=\"LastReferencedDate\"/><field id=\"LastViewedDate\"/><field id=\"OwnerId\"/><field id=\"Owner.Name\"/><field id=\"SystemModstamp\"/><field id=\"Document_Path__c\"/><field id=\"File_Name__c\" overridemetadata=\"false\" ogdisplaytype=\"STRING\" displaytype=\"STRING\"/><field id=\"Name\"/><field id=\"Required__c\"/><field id=\"Received__c\"/><field id=\"Sent__c\"/></fields><conditions><condition type=\"param\" value=\"id\" field=\"Application__r.Id\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"noquery\" state=\"\"/></conditions><actions/></model><model id=\"UnderwritingConditions\" limit=\"\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"Underwriter_condition__c\"><fields><field id=\"Application__c\"/><field id=\"Application__r.Name\"/><field id=\"Condition__c\" overridemetadata=\"false\" ogdisplaytype=\"TEXTAREA\" displaytype=\"TEXTAREA\"/><field id=\"CreatedDate\"/><field id=\"Directors_comments__c\"/><field id=\"LastModifiedById\"/><field id=\"LastModifiedBy.Name\"/><field id=\"Met__c\"/><field id=\"Name\" overridemetadata=\"false\" ogdisplaytype=\"STRING\" displaytype=\"STRING\"/><field id=\"Rationale__c\"/><field id=\"Id\"/><field id=\"Required_By__c\"/><field id=\"Underwriter_comments__c\"/><field id=\"Underwriting__c\" overridemetadata=\"false\" ogdisplaytype=\"REFERENCE\" displaytype=\"REFERENCE\" datasource=\"salesforce\" defaultvaluetype=\"fieldvalue\"/><field id=\"Underwriting__r.Name\"/><field id=\"Waived_by__c\"/><field id=\"Waived_by__r.Name\"/><field id=\"Underwriting__r.genesis_Decision__c\"/><field id=\"Underwriting__r.Underwriter__c\"/><field id=\"Underwriting__r.Underwriter__r.Name\"/><field id=\"Application__r.genesis__Status__c\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"Application__c\" fieldtargetobjects=\"genesis__Applications__c\" operator=\"=\" model=\"ApplicationModel\" enclosevalueinquotes=\"true\" mergefield=\"Id\" novaluebehavior=\"deactivate\"/><condition type=\"fieldvalue\" value=\"Accepted\" enclosevalueinquotes=\"true\" field=\"Underwriting__r.genesis_Decision__c\"/><condition type=\"modelmerge\" value=\"\" field=\"Underwriting__c\" fieldtargetobjects=\"Underwriting__c\" operator=\"=\" model=\"Underwriting\" enclosevalueinquotes=\"true\" mergefield=\"Id\" novaluebehavior=\"deactivate\"/></conditions><actions><action><actions><action type=\"closeTopmostPopup\"/></actions><events><event>models.saved</event><event>models.cancelled</event></events></action></actions></model><model id=\"Application\" limit=\"1\" query=\"true\" createrowifnonefound=\"true\" datasource=\"salesforce\" type=\"\" sobject=\"genesis__Applications__c\"><fields><field id=\"Id\"/><field id=\"Name\"/><field id=\"genesis__Expected_First_Payment_Date__c\"/><field id=\"genesis__Expected_Start_Date__c\"/><field id=\"genesis__Maturity_Date__c\"/><field id=\"StartDateFirst\" uionly=\"true\" displaytype=\"FORMULA\" ogdisplaytype=\"TEXT\" readonly=\"true\" returntype=\"DATE\" defaultvaluetype=\"fieldvalue\"><formula>{{genesis__Expected_First_Payment_Date__c}}</formula></field><field id=\"genesis__CL_Product_Name__c\"/><field id=\"genesis__Financed_Amount__c\"/><field id=\"Is_Contract_created__c\"/><field id=\"genesis__Loan_Number__c\"/><field id=\"genesis__Product_Type__c\"/><field id=\"genesis__Status__c\"/><field id=\"Total_Net_Asset_Cost__c\"/><field id=\"genesis__CL_Product__c\"/><field id=\"genesis__CL_Product__r.Name\"/></fields><conditions><condition type=\"param\" value=\"id\" field=\"Id\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"noquery\"/></conditions><actions/></model><model id=\"FeeCharge\" limit=\"\" query=\"true\" createrowifnonefound=\"true\" type=\"\" sobject=\"clcommon__Fee__c\" doclone=\"\" unloadwarningifunsavedchanges=\"false\" datasource=\"salesforce\"><fields><field id=\"clcommon__Accrue_Interest_From__c\"/><field id=\"genesis__Application__c\"/><field id=\"genesis__Application__r.Name\"/><field id=\"clcommon__Balance__c\"/><field id=\"CreatedById\"/><field id=\"CreatedBy.Name\"/><field id=\"CreatedDate\"/><field id=\"clcommon__Date__c\"/><field id=\"IsDeleted\"/><field id=\"clcommon__Fee_Definition__c\"/><field id=\"clcommon__Fee_Definition__r.Name\"/><field id=\"Name\"/><field id=\"clcommon__Interest_Bearing__c\"/><field id=\"clcommon__Interest_Due__c\"/><field id=\"clcommon__Interest_Rate__c\"/><field id=\"clcommon__Last_Accrual_Date__c\"/><field id=\"LastModifiedById\"/><field id=\"LastModifiedBy.Name\"/><field id=\"LastModifiedDate\"/><field id=\"LastReferencedDate\"/><field id=\"LastViewedDate\"/><field id=\"clcommon__Original_Amount__c\"/><field id=\"OwnerId\"/><field id=\"Owner.Name\"/><field id=\"clcommon__Paid_Amount__c\"/><field id=\"clcommon__Paid__c\"/><field id=\"clcommon__Payoff_Balance__c\"/><field id=\"clcommon__Principal_Due__c\"/><field id=\"clcommon__Reason_Waived__c\"/><field id=\"Id\"/><field id=\"clcommon__Reference__c\"/><field id=\"SystemModstamp\"/><field id=\"clcommon__Total_Waived_Amount__c\"/><field id=\"clcommon__Type__c\"/><field id=\"clcommon__Waive__c\"/><field id=\"clcommon__Waived_Interest__c\"/><field id=\"clcommon__Waived_Principal__c\"/><field id=\"NewCreateAdhoc\" uionly=\"true\" displaytype=\"BOOLEAN\" label=\"NewCreateAdhoc\"/><field id=\"NewCreateTemplate\" uionly=\"true\" displaytype=\"BOOLEAN\" label=\"NewCreateTemplate\"/><field id=\"viewExisting\" uionly=\"true\" displaytype=\"BOOLEAN\" label=\"viewExisting\"/></fields><conditions><condition type=\"blank\" value=\"null\" field=\"genesis__Application__c\" operator=\"=\" enclosevalueinquotes=\"false\"/><condition type=\"fieldvalue\" value=\"\" enclosevalueinquotes=\"true\" field=\"genesis__Application__c\" state=\"filterableoff\" inactive=\"true\" name=\"genesis__Application__c\"/></conditions><actions><action><actions><action type=\"updateRow\" fieldmodel=\"FeeCharge\" field=\"genesis__Application__c\" enclosevalueinquotes=\"true\" value=\"{{$Param.id}}\" affectedrows=\"context\"/></actions><events><event>models.saved</event><event>row.updated</event></events></action><action><actions><action type=\"updateRow\" fieldmodel=\"FeeCharge\" affectedrows=\"context\" value=\"{{$Model.Application.data.0.CurrencyIsoCode}}\" field=\"CurrencyIsoCode\" enclosevalueinquotes=\"true\"/></actions><events><event>row.created</event><event>row.updated</event></events></action></actions></model><model id=\"IncomeFees\" limit=\"50\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"genesis__Fee_Schedule__c\" doclone=\"\" processonclient=\"true\"><fields><field id=\"genesis__Application__c\"/><field id=\"genesis__Application__r.Name\"/><field id=\"genesis__Equipment__c\"/><field id=\"genesis__Equipment__r.Name\"/><field id=\"genesis__Fee_Definition__c\"/><field id=\"genesis__Fee_Definition__r.Name\"/><field id=\"Name\"/><field id=\"genesis__Amount__c\" overridemetadata=\"true\" ogdisplaytype=\"CURRENCY\" displaytype=\"CURRENCY\" precision=\"16\" scale=\"2\" defaultvaluetype=\"fieldvalue\" readonly=\"false\" required=\"false\"/><field id=\"genesis__Frequency__c\" overridemetadata=\"true\" ogdisplaytype=\"PICKLIST\" displaytype=\"PICKLIST\" picklistsource=\"manual\" defaultvaluetype=\"fieldvalue\" defaultValue=\"MONTHLY\"><picklistentries/></field><field id=\"genesis__Number_of_Periods__c\"/><field id=\"genesis__Start_Date__c\" overridemetadata=\"true\" ogdisplaytype=\"DATE\" displaytype=\"DATE\" required=\"false\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" model=\"Application\" enclosevalueinquotes=\"false\" mergefield=\"genesis__Expected_First_Payment_Date__c\"/><field id=\"genesis__Fee_Definition__r.clcommon__Fee_Type__c\"/><field id=\"genesis__Fee_Definition__r.clcommon__Type__c\" overridemetadata=\"false\" ogdisplaytype=\"PICKLIST\" displaytype=\"PICKLIST\" picklistsource=\"manual\" required=\"true\"/><field id=\"genesis__Fee_Definition__r.clcommon__Class__c\" overridemetadata=\"false\" ogdisplaytype=\"PICKLIST\" displaytype=\"PICKLIST\" picklistsource=\"manual\" required=\"false\"/><field id=\"genesis__Fee_Definition__r.clcommon__Implementation_Class__c\"/><field id=\"FeeScheduleName\" uionly=\"true\" displaytype=\"FORMULA\" label=\"Fee Schedule Name\" readonly=\"true\" ogdisplaytype=\"TEXT\" returntype=\"TEXT\"><formula>{{Name}}</formula></field><field id=\"FeeDefinition\" uionly=\"true\" displaytype=\"FORMULA\" ogdisplaytype=\"TEXT\" readonly=\"true\" returntype=\"TEXT\" label=\"Fee Definition\" defaultvaluetype=\"fieldvalue\"><formula>{{genesis__Fee_Definition__r.Name}}</formula></field><field id=\"StartDate\" uionly=\"true\" displaytype=\"FORMULA\" ogdisplaytype=\"TEXT\" readonly=\"true\" returntype=\"DOUBLE\" defaultvaluetype=\"fieldvalue\" label=\"Start Date UI\" precision=\"9\" scale=\"0\"><formula>IF(ISBLANK({{genesis__Start_Date__c}}),{{$Model.Application.data.0.\ngenesis__Expected_First_Payment_Date__c}},{{$Model.Application.data.0.\ngenesis__Expected_First_Payment_Date__c}})</formula></field><field id=\"IsTransact__c\"/><field id=\"Start_Date_For_Agreement__c\"/></fields><conditions><condition type=\"fieldvalue\" value=\"Income\" enclosevalueinquotes=\"true\" field=\"genesis__Fee_Definition__r.clcommon__Class__c\" fieldtargetobjects=\"clcommon__Fee_Definition__c\" operator=\"=\"/><condition type=\"modelmerge\" value=\"\" field=\"genesis__Application__c\" fieldtargetobjects=\"genesis__Applications__c\" state=\"\" operator=\"=\" model=\"Application\" enclosevalueinquotes=\"true\" mergefield=\"Id\" novaluebehavior=\"deactivate\"/></conditions><actions><action><actions><action type=\"updateRow\" fieldmodel=\"IncomeFees\" affectedrows=\"context\" field=\"IsTransact__c\" enclosevalueinquotes=\"true\" value=\"true\"/></actions><events><event>row.created</event></events></action><action><actions><action type=\"closeAllPopups\"/></actions><events><event>models.saved</event><event>models.cancelled</event></events></action><action><actions><action type=\"requeryModel\" model=\"IncomeFees\" behavior=\"standard\"/></actions><events><event>models.saved</event></events></action></actions></model><model id=\"ExpenseFee\" limit=\"50\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"genesis__Fee_Schedule__c\"><fields><field id=\"genesis__Amount__c\" overridemetadata=\"true\" ogdisplaytype=\"CURRENCY\" displaytype=\"CURRENCY\" precision=\"16\" scale=\"2\" required=\"false\"/><field id=\"genesis__Application__c\"/><field id=\"genesis__Application__r.Name\"/><field id=\"CreatedDate\"/><field id=\"genesis__Equipment__c\"/><field id=\"genesis__Equipment__r.Name\"/><field id=\"genesis__Fee_Definition__c\"/><field id=\"genesis__Fee_Definition__r.Name\"/><field id=\"Name\"/><field id=\"genesis__Frequency__c\" overridemetadata=\"true\" ogdisplaytype=\"PICKLIST\" displaytype=\"PICKLIST\" picklistsource=\"manual\" defaultvaluetype=\"fieldvalue\" defaultValue=\"MONTHLY\"/><field id=\"genesis__Number_of_Periods__c\"/><field id=\"Id\"/><field id=\"genesis__Start_Date__c\" overridemetadata=\"true\" ogdisplaytype=\"DATE\" displaytype=\"DATE\" required=\"false\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" model=\"Application\" enclosevalueinquotes=\"false\" mergefield=\"genesis__Expected_Start_Date__c\"/><field id=\"genesis__Fee_Definition__r.clcommon__Class__c\"/><field id=\"genesis__Fee_Definition__r.clcommon__Fee_Type__c\"/><field id=\"FeeDefinition\" uionly=\"true\" displaytype=\"FORMULA\" label=\"Fee Definition\" ogdisplaytype=\"TEXT\" readonly=\"true\" returntype=\"TEXT\"><formula>{{genesis__Fee_Definition__r.Name}}</formula></field><field id=\"FeeScheduleName\" uionly=\"true\" displaytype=\"FORMULA\" label=\"Fee Schedule Name\" ogdisplaytype=\"TEXT\" readonly=\"true\" returntype=\"TEXT\"><formula>{{Name}}</formula></field><field id=\"IsTransact__c\"/><field id=\"Start_Date_For_Agreement__c\"/></fields><conditions><condition type=\"fieldvalue\" value=\"Expense\" enclosevalueinquotes=\"true\" field=\"genesis__Fee_Definition__r.clcommon__Class__c\"/><condition type=\"modelmerge\" value=\"\" field=\"genesis__Application__c\" fieldtargetobjects=\"genesis__Applications__c\" operator=\"=\" model=\"Application\" enclosevalueinquotes=\"true\" mergefield=\"Id\" novaluebehavior=\"deactivate\"/></conditions><actions><action><actions><action type=\"updateRow\" fieldmodel=\"ExpenseFee\" affectedrows=\"context\" field=\"IsTransact__c\" enclosevalueinquotes=\"false\" value=\"true\"/></actions><events><event>row.created</event></events></action><action><actions><action type=\"closeAllPopups\"/></actions><events><event>models.saved</event><event>models.cancelled</event></events></action><action><actions><action type=\"requeryModel\" model=\"ExpenseFee\" behavior=\"standard\"/></actions><events><event>models.saved</event></events></action></actions></model><model id=\"LeaseContract\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"cllease__Lease_Account__c\" orderby=\"CreatedDate desc\" doclone=\"\"><fields><field id=\"cllease__application_number__c\"/><field id=\"cllease__Application_Date__c\"/><field id=\"Id\"/><field id=\"RecordTypeId\"/><field id=\"RecordType.Name\"/><field id=\"cllease__CL_Product__c\"/><field id=\"cllease__CL_Product__r.Name\"/><field id=\"cllease__Financed_Amount__c\"/><field id=\"Name\"/><field id=\"CreatedDate\"/><field id=\"Application__c\"/><field id=\"Application__r.Name\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"Application__c\" operator=\"=\" model=\"ApplicationModel\" enclosevalueinquotes=\"true\" mergefield=\"Id\" novaluebehavior=\"deactivate\" state=\"\" fieldtargetobjects=\"genesis__Applications__c\"/></conditions><actions/></model><model id=\"Product\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"clcommon__CL_Product__c\"><fields><field id=\"Fee_Set__r.Id\"/><field id=\"Fee_Set__c\"/><field id=\"Fee_Set__r.Name\"/><field id=\"Id\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"Id\" fieldtargetobjects=\"clcommon__CL_Product__c\" operator=\"=\" model=\"Application\" enclosevalueinquotes=\"true\" mergefield=\"genesis__CL_Product__c\" novaluebehavior=\"deactivate\"/></conditions><actions/></model><model id=\"FeeJunction\" limit=\"\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"clcommon__Fee_Junction__c\" doclone=\"\"><fields><field id=\"clcommon__Fee__c\"/><field id=\"clcommon__Fee__r.Name\"/><field id=\"Name\"/><field id=\"clcommon__Fee_Set__c\" overridemetadata=\"false\" ogdisplaytype=\"REFERENCE\" displaytype=\"REFERENCE\" datasource=\"salesforce\"/><field id=\"clcommon__Fee_Set__r.Name\"/><field id=\"Id\"/><field id=\"SystemModstamp\"/><field id=\"clcommon__Fee_Set__r.Id\"/><field id=\"clcommon__Fee__r.clcommon__Class__c\" overridemetadata=\"false\" ogdisplaytype=\"PICKLIST\" displaytype=\"PICKLIST\" picklistsource=\"manual\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"clcommon__Fee_Set__r.Id\" fieldtargetobjects=\"clcommon__Fee_Set__c\" operator=\"in\" model=\"Product\" enclosevalueinquotes=\"true\" mergefield=\"Fee_Set__r.Id\" novaluebehavior=\"deactivate\"/><condition type=\"fieldvalue\" value=\"Income\" enclosevalueinquotes=\"true\" field=\"clcommon__Fee__r.clcommon__Class__c\" operator=\"=\"/></conditions><actions/></model><model id=\"FeeJunctionExpense\" limit=\"\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"clcommon__Fee_Junction__c\" doclone=\"\"><fields><field id=\"clcommon__Fee__c\"/><field id=\"clcommon__Fee__r.Name\"/><field id=\"Name\"/><field id=\"clcommon__Fee_Set__c\" overridemetadata=\"false\" ogdisplaytype=\"REFERENCE\" displaytype=\"REFERENCE\" datasource=\"salesforce\"/><field id=\"clcommon__Fee_Set__r.Name\"/><field id=\"Id\"/><field id=\"SystemModstamp\"/><field id=\"clcommon__Fee_Set__r.Id\"/><field id=\"clcommon__Fee__r.clcommon__Class__c\" overridemetadata=\"false\" ogdisplaytype=\"PICKLIST\" displaytype=\"PICKLIST\" picklistsource=\"manual\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"clcommon__Fee_Set__r.Id\" fieldtargetobjects=\"clcommon__Fee_Set__c\" operator=\"in\" model=\"Product\" enclosevalueinquotes=\"true\" mergefield=\"Fee_Set__r.Id\" novaluebehavior=\"deactivate\"/><condition type=\"fieldvalue\" value=\"Expense\" enclosevalueinquotes=\"true\" field=\"clcommon__Fee__r.clcommon__Class__c\" operator=\"=\"/></conditions><actions/></model><model id=\"DocumentMaster\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"MasterDocument__c\"><fields><field id=\"Application__c\"/><field id=\"Application__r.Name\"/><field id=\"Document_Master__c\"/><field id=\"Document_Master__r.Name\"/><field id=\"IsChecked__c\"/><field id=\"IsSigned__c\"/><field id=\"IsVerified__c\"/><field id=\"Id\"/><field id=\"Name\"/><field id=\"Document_Master__r.Master_Document_Type__c\"/><field id=\"Document_Master__r.Master_Document_Type__r.Name\"/><field id=\"MasterDocumentName__c\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"Application__c\" fieldtargetobjects=\"genesis__Applications__c\" operator=\"=\" model=\"ApplicationModel\" enclosevalueinquotes=\"true\" mergefield=\"Id\" novaluebehavior=\"deactivate\"/></conditions><actions/></model><model id=\"CreditConditions\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"CreditConditions__c\"><fields><field id=\"CL_Product__c\"/><field id=\"CL_Product__r.Name\"/><field id=\"Name\"/><field id=\"CreditconditionsName__c\"/><field id=\"Id\"/><field id=\"CreditConditionType__c\"/><field id=\"CreditConditionType__r.Name\" overridemetadata=\"false\" ogdisplaytype=\"STRING\" displaytype=\"STRING\" readonly=\"true\" returntype=\"TEXT\" defaultvaluetype=\"fieldvalue\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"CL_Product__c\" fieldtargetobjects=\"clcommon__CL_Product__c\" operator=\"=\" model=\"Application\" enclosevalueinquotes=\"true\" mergefield=\"genesis__CL_Product__c\" novaluebehavior=\"deactivate\"/></conditions><actions/></model><model id=\"appcreditcondition\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"CreditConditionsApp__c\"><fields><field id=\"Application__c\"/><field id=\"Application__r.Name\"/><field id=\"Name\"/><field id=\"Id\"/><field id=\"CreditConditions__c\"/><field id=\"CreditConditions__r.Name\" overridemetadata=\"true\" ogdisplaytype=\"STRING\" displaytype=\"FORMULA\" defaultvaluetype=\"fieldvalue\" readonly=\"true\" returntype=\"TEXT\"/><field id=\"CreditConditions__r.CreditConditionType__c\"/><field id=\"CreditConditions__r.CreditConditionType__r.Name\"/><field id=\"IsChecked__c\"/><field id=\"CreditconditionsName__c\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"Application__c\" fieldtargetobjects=\"genesis__Applications__c\" operator=\"=\" model=\"ApplicationModel\" enclosevalueinquotes=\"true\" mergefield=\"Id\" novaluebehavior=\"deactivate\"/></conditions><actions/></model></models><components><pagetitle model=\"ApplicationModel\" uniqueid=\"sk-1duroQ-93\" cssclass=\"wrapper-title\"><maintitle>{{Name}} - {{genesis__Status__c}}</maintitle><actions><action type=\"multi\" label=\"Upload Documents\" icon=\"sk-icon-upload\" cssclass=\"fileCustomTitle\"><actions><action type=\"showPopup\"><popup title=\"Document Upload\" width=\"550px\"><components><includepanel type=\"skuid\" uniqueid=\"sk-3vMbx2-281\" pagename=\"FileUploadCustom\" module=\"ngUi\" querystring=\"?id={{$Model.ApplicationModel.data.0.Id}}\"><renderconditions logictype=\"and\"/></includepanel></components><afterclose/></popup></action></actions></action><action type=\"multi\" label=\"Convert\" snippet=\"ConvertNgenerate\" cssclass=\"convert-button\"><hotkeys/><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"ApplicationModel\" sourcetype=\"fieldvalue\" field=\"genesis__Status__c\" fieldtargetobjects=\"genesis__Applications__c\" value=\"DOCUMENTS RECEIVED\" nosourcerowbehavior=\"deactivate\"/></renderconditions><enableconditions logictype=\"and\" message=\"Application already converted\"><condition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"false\" fieldmodel=\"ApplicationModel\" sourcetype=\"fieldvalue\" field=\"Is_Contract_created__c\" fieldtargetobjects=\"genesis__Applications__c\" value=\"false\" nosourcerowbehavior=\"deactivate\"/></enableconditions><actions><action type=\"custom\" snippet=\"NetAssetCostValidation\"/><action type=\"blockUI\" timeout=\"1000\" message=\"Please wait ............\"/><action type=\"custom\" snippet=\"ConvertToContract\"><onerroractions/></action><action type=\"requeryModel\" model=\"LeaseContract\" behavior=\"standard\"/><action type=\"save\" rollbackonanyerror=\"true\"><models><model>LeaseContract</model></models></action></actions></action><action type=\"savecancel\" window=\"self\"><savehotkeys/><cancelhotkeys/><renderconditions logictype=\"and\"/><enableconditions/><models><model>genesisKYCAML</model><model>DocumentMaster</model><model>appcreditcondition</model></models></action><action type=\"multi\" label=\"Create\"><actions><action type=\"createRow\" model=\"genesisKYCAML\" appendorprepend=\"prepend\" defaultmodefornewitems=\"edit\" affectedrows=\"context\"/><action type=\"updateRow\" fieldmodel=\"genesisKYCAML\" affectedrows=\"context\" field=\"genesis_Application__c\" fieldtargetobjects=\"genesis__Applications__c\" enclosevalueinquotes=\"true\" value=\"{{$Model.Applicationkyc.data.0.Id}}\"/><action type=\"save\" rollbackonanyerror=\"true\"><models><model>genesisKYCAML</model></models></action></actions><renderconditions logictype=\"and\"/><enableconditions logictype=\"and\" message=\"Already created\"><condition fieldmodel=\"genesisKYCAML\" sourcetype=\"modelproperty\" sourceproperty=\"hasNoRows\"/></enableconditions><hotkeys/></action><action type=\"custom\" label=\"Document Raised\" snippet=\"SAF_documentRaised\"><renderconditions logictype=\"and\"/><enableconditions logictype=\"and\"><condition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"ApplicationModel\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"deactivate\" field=\"genesis__Status__c\" fieldtargetobjects=\"genesis__Applications__c\" value=\"TRANSACT\"/></enableconditions></action><action type=\"custom\" label=\"Documents Received\" snippet=\"documentReceived\"><renderconditions logictype=\"and\"/><enableconditions logictype=\"and\"><condition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"ApplicationModel\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"deactivate\" field=\"genesis__Status__c\" fieldtargetobjects=\"genesis__Applications__c\" value=\"DOCUMENTS RAISED\"/></enableconditions></action></actions><renderconditions logictype=\"and\"/></pagetitle><basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"ApplicationModel\" buttonposition=\"\" uniqueid=\"sk-NRZys-1340\" mode=\"read\" layout=\"\"><columns><column width=\"50%\"><sections><section title=\"Financials\" collapsible=\"no\"><fields><field id=\"genesis__Term__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" snippet=\"Termdropdown\"/><field id=\"genesis__Expected_Start_Date__c\" valuehalign=\"\" type=\"\"><label>Agreement Start Date</label></field><field id=\"genesis__Dealer_Payment_Date__c\" valuehalign=\"\" type=\"\"><label>Payment Start Date</label><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions logictype=\"and\"/></field><field id=\"Total_Net_Asset_Cost__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\"><label>Net Asset Cost</label></field><field id=\"Total_VAT__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\"><label>VAT</label></field><field id=\"Total_Gross_Asset_Cost__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\"><label>Gross Asset Cost</label></field><field id=\"genesis_Commission__c\" valuehalign=\"\" type=\"\" displayrows=\"3\"/><field id=\"Balance_finance_transact__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\"><label>Balance finance</label></field><field id=\"Balance_Financed_less_Advance_transact__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\"><label>Balance Financed less Advance Rental</label></field></fields></section></sections></column><column width=\"50%\"><sections/></column></columns><renderconditions logictype=\"and\"/></basicfieldeditor><includepanel type=\"skuid\" uniqueid=\"sk-xpDdS-414\" pagename=\"PaymentStreams__Transact\" module=\"ngUi\" querystring=\"?id={{{$Param.id}}}&amp;mode={{{$Param.mode}}}\"/><!--Fees Section Starts--><pagetitle model=\"FeeCharge\" uniqueid=\"existingFeesTitle1\" cssclass=\"\"><actions><action type=\"multi\" label=\"Save\" icon=\"\"><actions><action type=\"save\" rollbackonanyerror=\"true\"><models><model>FeeChargeCloneModel</model></models></action><action type=\"blockUI\" timeout=\"1500\" message=\"Fee Created\"/><action type=\"custom\" snippet=\"resetAdhoc\"/></actions><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"false\" fieldmodel=\"FeeCharge\" sourcetype=\"fieldvalue\" field=\"NewCreateAdhoc\" value=\"true\" nosourcerowbehavior=\"deactivate\"/></renderconditions><enableconditions/></action><action type=\"multi\" label=\"Cancel\" icon=\"\" secondary=\"true\"><actions><action type=\"cancel\"><models><model>FeeChargeCloneModel</model></models></action><action type=\"custom\" snippet=\"resetAdhoc\"/><action type=\"closeAllPopups\"/></actions><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"false\" fieldmodel=\"FeeCharge\" sourcetype=\"fieldvalue\" field=\"NewCreateAdhoc\" value=\"true\" nosourcerowbehavior=\"deactivate\"/></renderconditions><enableconditions/></action><action type=\"multi\" label=\"Income Fee\"><actions><action type=\"createRow\" model=\"ContractFees\" appendorprepend=\"append\" defaultmodefornewitems=\"edit\" affectedrows=\"context\"/><action type=\"updateRow\" fieldmodel=\"ContractFees\" affectedrows=\"context\" field=\"genesis__Application__c\" fieldtargetobjects=\"genesis__Applications__c\" enclosevalueinquotes=\"true\" value=\"{{$Model.Application.data.0.Id}}\"/><action type=\"showPopup\"><popup title=\"Create Income Fee\" width=\"90%\"><components><skootable showconditions=\"true\" showsavecancel=\"true\" showerrorsinline=\"true\" searchmethod=\"server\" searchbox=\"true\" showexportbuttons=\"false\" pagesize=\"10\" createrecords=\"true\" model=\"IncomeFees\" buttonposition=\"\" mode=\"read\" allowcolumnreordering=\"true\" uniqueid=\"IncomeTable\" emptysearchbehavior=\"query\" instantfilters=\"false\"><fields><field id=\"FeeScheduleName\" hideable=\"true\" uniqueid=\"fi-3OsO4K-388\" valuehalign=\"\" type=\"\"/><field id=\"genesis__Fee_Definition__c\" hideable=\"false\" uniqueid=\"fi-2MCPP1-515\" valuehalign=\"\" type=\"CUSTOM\" optionsource=\"\" pagesize=\"5\" snippet=\"customRenderRefField\" required=\"true\" showbydefault=\"true\"><filters><filter type=\"fieldvalue\" operator=\"=\" field=\"clcommon__Class__c\" fieldtargetobjects=\"clcommon__Fee_Definition__c\" value=\"Income\" mergefield=\"Id\" novaluebehavior=\"deactivate\" enclosevalueinquotes=\"true\"/><filter type=\"modelmerge\" operator=\"in\" field=\"Name\" fieldtargetobjects=\"clcommon__Fee_Definition__c\" value=\"\" model=\"FeeJunction\" enclosevalueinquotes=\"true\" mergefield=\"clcommon__Fee__r.Name\" novaluebehavior=\"deactivate\"/></filters><searchfields/><renderconditions logictype=\"or\" onhidedatabehavior=\"keep\" logic=\"(1 OR 2) AND 3\"/><enableconditions/></field><field id=\"genesis__Number_of_Periods__c\" hideable=\"false\" uniqueid=\"fi-2MCPP2-521\" decimalplaces=\"\" valuehalign=\"\" type=\"\" required=\"true\" showbydefault=\"true\"/><field id=\"genesis__Frequency__c\" hideable=\"false\" uniqueid=\"fi-2MCPP2-520\" valuehalign=\"\" type=\"\" required=\"true\" showbydefault=\"true\"/><field id=\"genesis__Amount__c\" hideable=\"false\" uniqueid=\"fi-2MCPP2-519\" decimalplaces=\"\" valuehalign=\"\" type=\"\" showbydefault=\"true\" required=\"true\"/><field id=\"genesis__Start_Date__c\" hideable=\"true\" uniqueid=\"fi-O4VGl-680\"/></fields><rowactions><action type=\"edit\"><renderconditions logictype=\"and\"/></action><action type=\"delete\"><renderconditions logictype=\"and\"/></action></rowactions><massactions usefirstitemasdefault=\"true\"><action type=\"massupdate\"/><action type=\"massdelete\"><renderconditions logictype=\"and\"/></action></massactions><views><view type=\"standard\"/></views><searchfields/><actions defaultlabel=\"Global Actions\" defaulticon=\"sk-icon-magic\" usefirstitemasdefault=\"true\"><action type=\"multi\" label=\"Create Fee\" icon=\"sk-icon-magic\"><actions><action type=\"createRow\" model=\"IncomeFees\" appendorprepend=\"prepend\" defaultmodefornewitems=\"edit\" affectedrows=\"context\"/><action type=\"updateRow\" fieldmodel=\"IncomeFees\" affectedrows=\"context\" field=\"genesis__Application__c\" fieldtargetobjects=\"genesis__Applications__c\" enclosevalueinquotes=\"true\" value=\"{{$Model.Application.data.0.Id}}\"/><action type=\"updateRow\" fieldmodel=\"IncomeFees\" field=\"IsTransact__c\" enclosevalueinquotes=\"false\" value=\"true\"/></actions><hotkeys/><renderconditions logictype=\"and\"/></action></actions><conditions/><renderconditions logictype=\"and\"/><filters/></skootable></components><afterclose/></popup></action><action type=\"custom\" snippet=\"hideButtonsInPopup\"/></actions><hotkeys/><renderconditions logictype=\"and\"/><enableconditions/></action><action type=\"multi\" label=\"Expense Fee\"><actions><action type=\"createRow\" model=\"ContractFees\" appendorprepend=\"append\" defaultmodefornewitems=\"edit\" affectedrows=\"context\"/><action type=\"updateRow\" fieldmodel=\"ContractFees\" affectedrows=\"context\" field=\"genesis__Application__c\" fieldtargetobjects=\"genesis__Applications__c\" enclosevalueinquotes=\"true\" value=\"{{$Model.Application.data.0.Id}}\"/><action type=\"showPopup\"><popup title=\"Create Expense Fee\" width=\"90%\"><components><skootable showconditions=\"true\" showsavecancel=\"true\" showerrorsinline=\"true\" searchmethod=\"server\" searchbox=\"true\" showexportbuttons=\"false\" pagesize=\"10\" createrecords=\"false\" model=\"ExpenseFee\" buttonposition=\"\" mode=\"read\" allowcolumnreordering=\"true\" uniqueid=\"sk-2NL8GI-840\"><fields><field id=\"FeeScheduleName\" hideable=\"true\" uniqueid=\"fi-3OyH3a-908\" valuehalign=\"\" type=\"\"/><field id=\"genesis__Fee_Definition__c\" hideable=\"true\" uniqueid=\"fi-2NLIhd-866\" valuehalign=\"\" type=\"CUSTOM\" snippet=\"customRenderRefField\" readonly=\"false\" required=\"true\"><filters><filter type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" field=\"clcommon__Class__c\" fieldtargetobjects=\"clcommon__Fee_Definition__c\" value=\"Expense\"/><filter type=\"modelmerge\" operator=\"in\" field=\"Name\" fieldtargetobjects=\"clcommon__Fee_Definition__c\" value=\"\" model=\"FeeJunctionExpense\" enclosevalueinquotes=\"true\" mergefield=\"clcommon__Fee__r.Name\" novaluebehavior=\"deactivate\"/></filters></field><field id=\"genesis__Number_of_Periods__c\" hideable=\"true\" uniqueid=\"fi-2NLIhe-869\" decimalplaces=\"\" valuehalign=\"\" type=\"\" required=\"true\"/><field id=\"genesis__Frequency__c\" hideable=\"true\" uniqueid=\"fi-2NLIhe-868\" valuehalign=\"\" type=\"\" required=\"true\"/><field id=\"genesis__Amount__c\" hideable=\"true\" uniqueid=\"fi-2NLIhc-864\" decimalplaces=\"\" valuehalign=\"\" type=\"\" required=\"true\"/><field id=\"genesis__Start_Date__c\" hideable=\"true\" uniqueid=\"fi-O56ax-719\"/></fields><rowactions><action type=\"edit\"/><action type=\"delete\"><renderconditions logictype=\"and\"/></action></rowactions><massactions usefirstitemasdefault=\"true\"><action type=\"massupdate\"/><action type=\"massdelete\"><renderconditions logictype=\"and\"/></action></massactions><views><view type=\"standard\"/></views><actions defaultlabel=\"Global Actions\" defaulticon=\"sk-icon-magic\" usefirstitemasdefault=\"true\"><action type=\"multi\" label=\"Create Expense Fee\" icon=\"sk-icon-magic\"><actions><action type=\"createRow\" model=\"ExpenseFee\" appendorprepend=\"prepend\" defaultmodefornewitems=\"edit\" affectedrows=\"context\"/><action type=\"updateRow\" fieldmodel=\"ExpenseFee\" affectedrows=\"context\" field=\"genesis__Application__c\" fieldtargetobjects=\"genesis__Applications__c\" enclosevalueinquotes=\"true\" value=\"{{$Model.Application.data.0.Id}}\"/></actions></action></actions></skootable></components></popup></action><action type=\"custom\" snippet=\"hideButtonsInPopup\"/></actions><hotkeys/><renderconditions logictype=\"and\"/><enableconditions/></action></actions></pagetitle><grid uniqueid=\"sk-1Baxlt-370\"><divisions><division behavior=\"flex\" minwidth=\"100px\" ratio=\"1\" verticalalign=\"top\"><components><pagetitle uniqueid=\"sk-2oEC6X-516\" model=\"Application\"><actions/><maintitle>Income Fees</maintitle><renderconditions logictype=\"and\"/></pagetitle><skootable showconditions=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" searchmethod=\"server\" searchbox=\"false\" showexportbuttons=\"false\" pagesize=\"all\" createrecords=\"false\" model=\"IncomeFees\" buttonposition=\"\" mode=\"readonly\" uniqueid=\"tableExistingId\" instantfilters=\"false\" emptysearchbehavior=\"query\"><fields><field id=\"FeeDefinition\" hideable=\"false\" uniqueid=\"fi-3Fsbr0-651\" valuehalign=\"\" type=\"\" showbydefault=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/></field><field id=\"FeeScheduleName\" hideable=\"false\" uniqueid=\"fi-3Fs7-E-448\" valuehalign=\"\" type=\"\" showbydefault=\"true\"/><field id=\"genesis__Fee_Definition__r.clcommon__Class__c\" hideable=\"false\" uniqueid=\"fi-2oC-Af-369\" valuehalign=\"\" type=\"\" showbydefault=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions logictype=\"and\"/></field><field id=\"genesis__Number_of_Periods__c\" hideable=\"false\" uniqueid=\"fi-2oC-Ag-371\" decimalplaces=\"\" valuehalign=\"\" type=\"\" showbydefault=\"true\"/><field id=\"genesis__Frequency__c\" hideable=\"false\" uniqueid=\"fi-2oC-Ag-372\" valuehalign=\"\" type=\"\" showbydefault=\"true\"/><field id=\"genesis__Amount__c\" hideable=\"false\" uniqueid=\"fi-2oC-Ag-373\" decimalplaces=\"\" valuehalign=\"\" type=\"\" required=\"false\" showbydefault=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions logictype=\"and\"/></field><field id=\"genesis__Start_Date__c\" hideable=\"true\" uniqueid=\"fi-JjOWG-655\"/><field id=\"Start_Date_For_Agreement__c\" hideable=\"true\" uniqueid=\"fi-JjOWH-656\"/></fields><rowactions/><massactions usefirstitemasdefault=\"true\"/><views><view type=\"standard\"/></views><searchfields/><renderconditions logictype=\"and\"/><actions defaultlabel=\"Global Actions\" defaulticon=\"sk-icon-magic\" usefirstitemasdefault=\"true\"/><filters/></skootable><pagetitle uniqueid=\"sk-2oDqwv-483\" model=\"Application\"><actions/><maintitle>Expense Fees</maintitle></pagetitle><skootable showconditions=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" searchmethod=\"server\" searchbox=\"false\" showexportbuttons=\"false\" pagesize=\"all\" createrecords=\"false\" model=\"ExpenseFee\" buttonposition=\"\" mode=\"readonly\" allowcolumnreordering=\"false\" uniqueid=\"sk-2oD6xZ-393\" instantfilters=\"false\" emptysearchbehavior=\"query\"><fields><field id=\"FeeDefinition\" hideable=\"false\" uniqueid=\"fi-3Fssae-843\" valuehalign=\"\" type=\"\" showbydefault=\"true\"/><field id=\"FeeScheduleName\" hideable=\"false\" uniqueid=\"fi-3Ft19f-970\" valuehalign=\"\" type=\"\" showbydefault=\"true\"/><field id=\"genesis__Fee_Definition__r.clcommon__Class__c\" hideable=\"false\" uniqueid=\"fi-2oFsxl-840\" valuehalign=\"\" type=\"\" showbydefault=\"true\"/><field id=\"genesis__Number_of_Periods__c\" hideable=\"false\" uniqueid=\"fi-2oDgPW-457\" decimalplaces=\"\" valuehalign=\"\" type=\"\" required=\"false\" showbydefault=\"true\"/><field id=\"genesis__Frequency__c\" hideable=\"false\" uniqueid=\"fi-2oDgPW-458\" valuehalign=\"\" type=\"\" required=\"false\" showbydefault=\"true\"/><field id=\"genesis__Amount__c\" hideable=\"false\" uniqueid=\"fi-2oDgPW-459\" decimalplaces=\"\" valuehalign=\"\" type=\"\" showbydefault=\"true\"/><field id=\"genesis__Start_Date__c\" hideable=\"true\" uniqueid=\"fi-O5DWK-735\"/></fields><rowactions/><massactions usefirstitemasdefault=\"true\"/><views/><searchfields/><renderconditions logictype=\"and\"/></skootable></components></division></divisions><styles><styleitem type=\"background\" bgtype=\"none\"/></styles><renderconditions logictype=\"and\"/></grid><!--Fees section closes--><pagetitle uniqueid=\"sk-NvNDa-437\" model=\"UnderwritingConditions\" cssclass=\"wrapper-title_common\"><maintitle>Underwriting Conditions</maintitle><actions><action type=\"multi\" label=\"Edit\" window=\"self\"><actions><action type=\"showPopup\"><models><model>UnderwritingConditions</model></models><popup title=\"Edit Underwriting Conditions\" width=\"90%\"><components><skootable showconditions=\"true\" showsavecancel=\"true\" showerrorsinline=\"true\" searchmethod=\"server\" searchbox=\"false\" showexportbuttons=\"false\" pagesize=\"10\" createrecords=\"false\" model=\"UnderwritingConditions\" buttonposition=\"\" mode=\"read\" allowcolumnreordering=\"false\" uniqueid=\"sk-1aTiK8-652\" instantfilters=\"false\" emptysearchbehavior=\"query\"><fields><field id=\"Condition__c\" hideable=\"false\" uniqueid=\"fi-1aToNR-673\" valuehalign=\"\" type=\"\" readonly=\"true\" showbydefault=\"true\" columnwidth=\"20%\" displayrows=\"1\" maxdisplaycharacters=\"\"/><field id=\"Met__c\" hideable=\"false\" uniqueid=\"fi-1aToNR-674\" valuehalign=\"\" type=\"\" showbydefault=\"true\"/><field id=\"Rationale__c\" hideable=\"false\" uniqueid=\"fi-1aToNT-675\" valuehalign=\"\" type=\"\" showbydefault=\"true\" displayrows=\"1\"/><field id=\"Waived_by__c\" hideable=\"false\" uniqueid=\"fi-1aToNU-676\" valuehalign=\"\" type=\"\" showbydefault=\"true\" optionsource=\"\" pagesize=\"5\" displaytemplate=\"\"><searchfields/><filters><filter type=\"multiple\" operator=\"in\" field=\"Name\" fieldtargetobjects=\"User\" value=\"\" enclosevalueinquotes=\"true\"><values><value>Richard Tungate-Thorn</value><value>Steve Farago</value><value>Mike King</value><value>Selma Cavalic</value><value>Nikki Lines</value><value>Ylva Oertengren</value><value>Stefan Wolvaardt</value><value>Mike Randall</value></values></filter></filters><label>Agreed By</label></field><field id=\"Required_By__c\" hideable=\"false\" uniqueid=\"fi-1aToNU-677\" valuehalign=\"\" type=\"\" showbydefault=\"true\"/></fields><rowactions><action type=\"edit\"/></rowactions><massactions usefirstitemasdefault=\"true\"/><views><view type=\"standard\"/></views><searchfields/></skootable></components><afterclose/></popup></action></actions><renderconditions logictype=\"and\"/><enableconditions logictype=\"and\"/></action></actions></pagetitle><skootable showconditions=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" searchmethod=\"server\" searchbox=\"false\" showexportbuttons=\"false\" pagesize=\"all\" createrecords=\"false\" model=\"UnderwritingConditions\" buttonposition=\"\" mode=\"readonly\" allowcolumnreordering=\"false\" uniqueid=\"sk-1aRGSI-1761\" instantfilters=\"false\" emptysearchbehavior=\"query\"><fields><field id=\"Condition__c\" hideable=\"false\" uniqueid=\"fi-1aRyLD-511\" valuehalign=\"\" type=\"\" displayrows=\"1\" maxdisplaycharacters=\"\" showbydefault=\"true\" readonly=\"true\" columnwidth=\"20%\"/><field id=\"Met__c\" hideable=\"false\" uniqueid=\"fi-1aRyLD-512\" valuehalign=\"\" type=\"\" showbydefault=\"true\"/><field id=\"Rationale__c\" hideable=\"false\" uniqueid=\"fi-1aSGPG-557\" valuehalign=\"\" type=\"\" displayrows=\"1\" showbydefault=\"true\"/><field id=\"Waived_by__c\" hideable=\"true\" uniqueid=\"fi-2iczGD-672\" valuehalign=\"\" type=\"\"><label>Agreed By</label></field><field id=\"Required_By__c\" hideable=\"false\" uniqueid=\"fi-1aSGPK-559\" valuehalign=\"\" type=\"\" showbydefault=\"true\"/></fields><rowactions/><massactions usefirstitemasdefault=\"true\"/><views><view type=\"standard\"/></views><searchfields/></skootable><basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"genesisKYCAML\" buttonposition=\"\" uniqueid=\"sk-OORHU-898\" mode=\"read\"><columns><column width=\"60%\"><sections><section title=\"Financial Crime/AML\" collapsible=\"no\"><fields><field id=\"AML_Passed__c\"/><field id=\"HPI_Checks_Completed__c\"/></fields></section></sections></column></columns></basicfieldeditor><pagetitle model=\"DocumentMaster\" uniqueid=\"sk-3rGK7A-731\"><actions/><maintitle>Documents</maintitle></pagetitle><skootable showconditions=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" searchmethod=\"server\" searchbox=\"false\" showexportbuttons=\"false\" pagesize=\"all\" createrecords=\"false\" model=\"DocumentMaster\" buttonposition=\"\" mode=\"read\" allowcolumnreordering=\"false\" uniqueid=\"sk-3rGRVL-741\" instantfilters=\"false\" emptysearchbehavior=\"query\"><fields><field id=\"MasterDocumentName__c\" hideable=\"false\" uniqueid=\"fi-OaBbx-669\" valuehalign=\"\" type=\"\" readonly=\"true\" showbydefault=\"true\"><label>Documents</label></field><field id=\"IsChecked__c\" hideable=\"false\" uniqueid=\"fi-3rGjXG-757\" type=\"\" valuehalign=\"\" showbydefault=\"true\"><label>Checked ?</label></field><field id=\"IsSigned__c\" hideable=\"false\" uniqueid=\"fi-3rGjXG-758\" type=\"\" valuehalign=\"\" showbydefault=\"true\"><label>Signed ?</label></field><field id=\"IsVerified__c\" hideable=\"false\" uniqueid=\"fi-3rGjXG-759\" type=\"\" valuehalign=\"\" showbydefault=\"true\"><label>Verified ?</label></field></fields><rowactions><action type=\"edit\"/></rowactions><massactions usefirstitemasdefault=\"true\"/><views><view type=\"standard\"/></views><searchfields/><renderconditions logictype=\"and\"/></skootable><pagetitle model=\"CreditConditions\" uniqueid=\"sk-3iRs50-1893\"><maintitle>Credit Conditions</maintitle><actions/></pagetitle><skootable showconditions=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" searchmethod=\"server\" searchbox=\"false\" showexportbuttons=\"false\" pagesize=\"all\" createrecords=\"false\" model=\"appcreditcondition\" buttonposition=\"\" mode=\"read\" allowcolumnreordering=\"false\" uniqueid=\"sk-3iRx6f-1904\" instantfilters=\"false\" emptysearchbehavior=\"query\"><fields><field id=\"CreditconditionsName__c\" hideable=\"false\" uniqueid=\"fi-Oa4Lh-651\" valuehalign=\"\" type=\"\" readonly=\"true\" showbydefault=\"true\"><label>Conditions</label></field><field id=\"IsChecked__c\" hideable=\"false\" uniqueid=\"fi-OM97e-884\" type=\"\" valuehalign=\"\" showbydefault=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/><label>Satisfied ?</label></field></fields><rowactions><action type=\"edit\"/></rowactions><massactions usefirstitemasdefault=\"true\"/><views><view type=\"standard\"/></views><searchfields/><renderconditions logictype=\"and\"/></skootable><basicfieldeditor showsavecancel=\"false\" showheader=\"true\" model=\"genesisKYCAML\" mode=\"read\" uniqueid=\"sk-1duroQ-94\" buttonposition=\"\" layout=\"\"><columns layoutmode=\"fixed\"><column width=\"60%\"><sections><section title=\"Agreement checks\" collapsible=\"no\"><fields><field id=\"Documents_raised_on_correct_version__c\"/><field id=\"Deposit_Received__c\"/><field id=\"genesis_SAF__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\"/><field id=\"genesis_Supplier__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\"/><field id=\"Total_Documentation\" decimalplaces=\"\" valuehalign=\"\" type=\"\"/><field id=\"Customer_details_correct_signed_date__c\" valuehalign=\"\" type=\"\"><label>Customer details correct &amp; signed/dated on all paperwork</label></field><field id=\"DDM_completedsigned_and_dated_in_comp__c\" valuehalign=\"\" type=\"\"><label>DDM completed, signed and dated in companies name</label></field><field id=\"All_relevant_fields_on_documents_signed__c\" valuehalign=\"\" type=\"\"><label>All relevant fields on documents signed &amp; dated</label></field></fields></section></sections></column><column width=\"60%\"><sections><section title=\"Invoices\" collapsible=\"no\"><fields><field id=\"Invoice_addressed_correctly_to_SAF1_Ltd__c\" valuehalign=\"\" type=\"\"/><field id=\"Invoice_date_number_present__c\" valuehalign=\"\" type=\"\"/><field id=\"Customer_Name_Address_stated_on_invoice__c\" valuehalign=\"\" type=\"\"/><field id=\"Bank_details_on_invoice_or_provided_by_s__c\" valuehalign=\"\" type=\"\"><label>Bank details on invoice or provided by supplier</label></field><field id=\"Manuf_SNo_VIN_Chassis_Reg_DOR_invoice__c\" valuehalign=\"\" type=\"\"><label>Manufacturer, Serial No, VIN/Chassis, Registration and date of reg on invoice</label></field><field id=\"Invoice_VAT_number_present__c\" valuehalign=\"\" type=\"\"><label>Invoice VAT number present</label></field><field id=\"Invoice_figures_correct__c\" valuehalign=\"\" type=\"\"><label>Invoice figures correct (including VAT calculation or deposit payment)</label></field><field id=\"Broker_Commission_invoice_received__c\" valuehalign=\"\" type=\"\"><label>Broker Commission invoice received &amp; within range</label></field></fields></section></sections></column><column width=\"60%\"><sections><section title=\"Comments\" collapsible=\"no\"><fields><field id=\"Narrative_box_to_write_free_text__c\" valuehalign=\"\" type=\"\" displayrows=\"10\"/></fields></section></sections></column></columns><renderconditions logictype=\"and\"/></basicfieldeditor></components><resources><labels/><css><cssitem location=\"inline\" name=\"custom\" cachelocation=\"false\">.wrapper-title {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom:10;\n}\n\n.wrapper-title .nx-pagetitle-maintitle {\n    font: normal normal 700 14px Lato;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    padding-left: 10px;\n}\n\n.wrapper-title_PS .nx-pagetitle-maintitle {\n    font: normal normal 700 14px Lato;\n    padding-top: 20px;\n    padding-bottom: 3px;\n    padding-left: 10px;\n}\n\n.wrapper-title_common .nx-pagetitle-maintitle {\n    font: normal normal 700 14px Lato;\n    padding-bottom: 3px;\n    padding-left: 10px;\n}\n\n\n.nx-basicfieldeditor-column .nx-basicfieldeditor-section-header {\n    /*padding: 8px;*/\n    border-bottom: 1px solid #ddd;\n    color: #009ddc;\n    text-decoration: none;\n    background: transparent;\n    border-bottom: 0 solid black;\n    color: #37444e;\n    font-style: normal;\n    font-weight: 700;\n    font-size: 14px;\n    margin-top: 40px;\n}\n\n/*.highlight { */\n/*    background-color: red; */\n/*}*/\n\n.highlight td {\n    /*background-color: #ffe6e6 !important; For Red color*/\n    background-color: lightgoldenrodyellow !important;\n}\n\n/*.nx-button-list-config{*/\n/*    visibility: hidden;*/\n/*}*/</cssitem></css><javascript><jsitem location=\"inlinesnippet\" name=\"SAF_documentRaised\" cachelocation=\"false\">var appModel = skuid.model.getModel('ApplicationModel');\nvar appRow = appModel.getFirstRow();\n\n\n\ntry {\n    var ret = sforce.apex.execute(\"SAF_ValidateApplication\",\"ValidateDocumentRaised\",{AppId:appRow.Id});\n \n}\ncatch(err) {\n    alert(err);\n}\nwindow.location.reload();</jsitem><jsitem location=\"inlinesnippet\" name=\"documentReceived\" cachelocation=\"false\">var appModel = skuid.model.getModel('ApplicationModel');\nvar appRow = appModel.getFirstRow();\n\n\n\ntry {\n    var ret = sforce.apex.execute(\"SAF_ValidateApplication\",\"ValidateDocumentCollected\",{AppId:appRow.Id});\n \n}\ncatch(err) {\n    alert(err);\n}\nwindow.location.reload();</jsitem><jsitem location=\"inlinesnippet\" name=\"LaunchFeeDialog\" cachelocation=\"false\">var params = arguments[0],\n  $ = skuid.$;\n\nvar appId = skuid.model.getModel('NGLDApplication').data[0].Id;\nvar title = 'Manage Fees';\nvar skuidPage = 'Fees';\n\n// launchSimplePopupDialog(appId, title, skuidPage);\n\nvar iframeUrl = '/apex/skuid__ui?page=' + skuidPage + '&amp;id=' + appId;\n\nopenTopLevelDialog({\n    title: title,\n    iframeUrl: iframeUrl\n});</jsitem><jsitem location=\"inlinesnippet\" name=\"customRenderRefField\" cachelocation=\"false\">var field = arguments[0],\n\n\n    value = arguments[1];\n\n\n\nif (field.mode === 'read') {\n\n\n    field.element.append(skuid.$('&lt;div&gt;').addClass('nx-fieldtext').text(field.model.getFieldValue(field.row,skuid.utils.getFieldReference(field.id,field.metadata))));\n\n\n} else {\n\n\n    skuid.ui.fieldRenderers[field.metadata.displaytype][field.mode](field,value);\n\n\n}</jsitem><jsitem location=\"inlinesnippet\" name=\"customDelete\" cachelocation=\"false\">var params = arguments[0],\n\t$ = skuid.$;\n$(\"#data tr\").click(function() {\n    $(this).toggleClass(\"highlight\");\n});</jsitem><jsitem location=\"inline\" name=\"loadingPage\" cachelocation=\"false\" url=\"\">(function(skuid){\n\tvar $ = skuid.$;\n\t$(document.body).one('pageload',function(){\n        $(document).on('click','.fa-times-circle',function()\n        {\n            var trElem = $(this).parents('tr');\n            if(trElem.hasClass('highlight')){\n                trElem.removeClass('highlight');\n            }\n            else{\n                trElem.addClass('highlight');\n            }\n        })\n\t});\n})(skuid);</jsitem><jsitem location=\"inlinesnippet\" name=\"checkRows\" cachelocation=\"false\">var params = arguments[0],\n\t$ = skuid.$;\n\tvar trElem = $(this).parents('tr');\n\talert(trElem.html);\n\tconsole.log(trElem.html);\n\tvar args = arguments[0];\n\tconsole.log(args);\n//$(document).on('click','.fa-times-circle',function()\n  //      {\n            //var trElem = $(this).parents('tr');\n            // if(trElem.hasClass('highlight')){\n            //     trElem.removeClass('highlight');\n            // }\n            // else{\n            //     trElem.addClass('highlight');\n            // }\n        //})</jsitem><jsitem location=\"inlinesnippet\" name=\"NetAssetCostValidation\" cachelocation=\"false\">var appModel = skuid.model.getModel('ApplicationModel');\nvar appRow = appModel.data[0];\n\n//alert(appRow.Id);\n//alert(appRow.Name); \n\n// var params = arguments[0];\n// var  stepEditor = params.editor, $ = skuid.$;\n// stepEditor.clearMessages();\n// stepEditor.handleMessages(\n//         [\n//           {\n//               message: 'Unable to Convert Application data.',\n//               severity: 'ERROR'\n//           },\n//         ]\n//     );\n\nif(appRow !== null &amp;&amp; (appRow.Total_Net_Asset_Cost__c &gt; appRow.genesis__Financed_Amount__c))\n{\n    alert('Total net asset cost('+ appRow.Total_Net_Asset_Cost__c +') should be less than or equal to Proposed net asset cost('+ appRow.genesis__Financed_Amount__c +')');\n    return false;\n}\nelse\n{\n    return true;\n}</jsitem><jsitem location=\"inlinesnippet\" name=\"ConvertToContract\" cachelocation=\"false\">var appModel = skuid.model.getModel('ApplicationModel');\nvar appRow = appModel.data[0];\n\n//alert(appRow.Id);\n//alert(appRow.Name); \n\n\ntry {\n   if(!appRow.Is_Contract_created__c){\n        var ret = sforce.apex.execute('genesis.ConvertApplicationCtrl','convertApplicationToContract',\n       {   \n           appId : appRow.Id\n       });\n       alert(ret);\n       if(ret == 'Application is converted to contract successfully') {\n            appModel.updateRow(appRow, 'Is_Contract_created__c', true);\n            var ret = sforce.apex.execute(\"SAF_ValidateApplication\",\"onConvert\",{AppId:appRow.Id});\n            //var ret1 = sforce.apex.execute(\"DeleteProposalFeeOnLease\",\"deleteRecords\",{AppId:appRow.Id});\n            appModel.save();\n       }\n   }\n   else {\n       alert('This application is already converted');\n   }\n}\n   catch(err) {\n   alert(err);\n}\nwindow.location.reload();\n</jsitem></javascript></resources><styles><styleitem type=\"background\" bgtype=\"color\"><styles><styleitem property=\"background-color\" value=\"white\"/></styles></styleitem></styles><interactions/></skuidpage>","skuid__Layout2__c":null,"skuid__Layout3__c":null,"skuid__Layout4__c":null,"skuid__Layout5__c":null},{"attributes":{"type":"skuid__Page__c","url":"/services/data/v36.0/sobjects/skuid__Page__c/a8n9E0000004E5KQAU"},"Id":"a8n9E0000004E5KQAU","Name":"AddModifyPaymentStreams","skuid__Type__c":"Desktop","skuid__UniqueId__c":"ngUi_AddModifyPaymentStreams","skuid__Module__c":"ngUi","skuid__Composer_Settings__c":null,"skuid__MasterPage__c":null,"skuid__MasterPage__r":null,"skuid__IsMaster__c":false,"skuid__Layout__c":"<skuidpage unsavedchangeswarning=\"\" personalizationmode=\"server\" showsidebar=\"false\" showheader=\"false\"><models><model id=\"NewApplicationPS\" limit=\"1\" query=\"true\" createrowifnonefound=\"true\" type=\"\" sobject=\"genesis__Payment_Stream__c\" datasource=\"salesforce\" orderby=\"Name DESC\" doclone=\"\"><fields><field id=\"genesis__Interest_Rate__c\"/><field id=\"genesis__Pricing_Basis__c\"/><field id=\"genesis__Payment_Type__c\"/><field id=\"genesis__Interest_Rate_Adjustment_Period__c\"/><field id=\"genesis__Interest_Rate_Adjustment_Frequency__c\"/><field id=\"Id\"/><field id=\"genesis__Application__c\"/><field id=\"genesis__Application__r.Name\"/><field id=\"Name\"/><field id=\"genesis__Rate_Type__c\"/><field id=\"genesis__Number_of_Payments__c\" overridemetadata=\"false\" ogdisplaytype=\"DOUBLE\" displaytype=\"DOUBLE\" precision=\"\" scale=\"\" length=\"10\"/><field id=\"genesis__Payment_Amount__c\"/><field id=\"genesis__Start_Date__c\" overridemetadata=\"false\" ogdisplaytype=\"DATE\" displaytype=\"DATE\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" mergefield=\"Start_Date_Proposal__c\" required=\"true\" readonly=\"true\" returntype=\"DATE\" precision=\"\" scale=\"\" model=\"NewApplicationPS\" enclosevalueinquotes=\"false\"><formula>{{Start_Date_Proposal__c}}</formula></field><field id=\"genesis__Payment_Frequency__c\" overridemetadata=\"true\" ogdisplaytype=\"PICKLIST\" displaytype=\"PICKLIST\" picklistsource=\"manual\" defaultvaluetype=\"fieldvalue\" defaultValue=\"MONTHLY\"><picklistentries/></field><field id=\"genesis__Sequence__c\"/><field id=\"NewField\" uionly=\"true\" displaytype=\"FORMULA\" ogdisplaytype=\"TEXT\" readonly=\"true\" returntype=\"DOUBLE\" precision=\"9\" scale=\"0\" defaultvaluetype=\"fieldvalue\"><formula>IF(ISBLANK({{LastModifiedDate}}),{{genesis__Sequence__c}} +1\n,{{genesis__Sequence__c}})</formula></field><field id=\"CreatedDate\"/><field id=\"LastModifiedDate\"/><field id=\"Payment_Stream_Auto_Name__c\"/><field id=\"PaymentEndDate__c\"/></fields><conditions><condition type=\"param\" value=\"appId\" field=\"genesis__Application__c\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/><condition type=\"param\" value=\"id\" field=\"Id\" operator=\"=\" state=\"\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/></conditions><actions><action><actions><action type=\"updateRow\" fieldmodel=\"NewApplicationPS\" affectedrows=\"context\" field=\"genesis__Sequence__c\" enclosevalueinquotes=\"false\" value=\"{{$Model.paymentSeq.data.0.SequenceNumber}}\"/></actions><events><event>row.created</event></events></action></actions><groupby method=\"simple\"/></model><model id=\"paymentSeq\" limit=\"\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"aggregate\" sobject=\"genesis__Payment_Stream__c\"><fields><field id=\"genesis__Application__c\" name=\"SequenceNumber\" function=\"COUNT\"/></fields><conditions><condition type=\"param\" value=\"appId\" field=\"genesis__Application__c\" fieldtargetobjects=\"genesis__Applications__c\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/></conditions><actions/><groupby method=\"rollup\"/></model><model id=\"paymentEndDate\" limit=\"\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"aggregate\" sobject=\"genesis__Payment_Stream__c\" processonclient=\"false\"><fields><field id=\"PaymentEndDate__c\" name=\"maxPaymentEndDatec\" function=\"MAX\"/></fields><conditions><condition type=\"param\" value=\"appId\" field=\"genesis__Application__c\" fieldtargetobjects=\"genesis__Applications__c\" operator=\"=\" mergefield=\"Id\" novaluebehavior=\"\" enclosevalueinquotes=\"true\"/></conditions><actions/><groupby method=\"simple\"/></model><model id=\"application\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"genesis__Applications__c\"><fields><field id=\"Id\"/><field id=\"RecordTypeId\"/><field id=\"RecordType.Name\"/><field id=\"Name\"/><field id=\"genesis__CL_Product_Name__c\"/><field id=\"genesis__Expected_Close_Date__c\"/><field id=\"genesis__Expected_First_Payment_Date__c\"/><field id=\"genesis__Expected_Start_Date__c\"/><field id=\"genesis__Maturity_Date__c\"/><field id=\"NewFieldAppDate\" uionly=\"true\" displaytype=\"FORMULA\" ogdisplaytype=\"TEXT\" readonly=\"true\" returntype=\"DATE\" defaultvaluetype=\"fieldvalue\"><formula>IF(ISBLANK({{$Model.paymentEndDate.data.0.maxPaymentEndDatec}}),{{genesis__Dealer_Payment_Date__c}},{{$Model.paymentEndDate.data.0.maxPaymentEndDatec}})</formula></field><field id=\"genesis__Dealer_Payment_Date__c\"/></fields><conditions><condition type=\"param\" value=\"appId\" field=\"Id\" operator=\"=\" mergefield=\"Id\" novaluebehavior=\"deactivate\" enclosevalueinquotes=\"true\" state=\"\"/></conditions><actions/></model><model id=\"PaymentSchedule\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"genesis__Payment_Stream__c\" doclone=\"\"><fields><field id=\"genesis__Application__c\"/><field id=\"genesis__Application__r.Name\"/><field id=\"genesis__Interest_Rate__c\"/><field id=\"genesis__Number_of_Payments__c\"/><field id=\"genesis__Payment_Amount__c\"/><field id=\"genesis__Payment_Frequency__c\"/><field id=\"Payment_Stream_Auto_Name__c\"/><field id=\"Name\"/><field id=\"genesis__Payment_Type__c\"/><field id=\"PaymentEndDate__c\"/><field id=\"genesis__Pricing_Basis__c\"/><field id=\"genesis__Rate_Type__c\"/><field id=\"Id\"/><field id=\"genesis__Sequence__c\"/><field id=\"genesis__Start_Date__c\"/><field id=\"LastModifiedDate\"/><field id=\"CreatedDate\"/></fields><conditions><condition type=\"param\" value=\"appId\" field=\"genesis__Application__c\" fieldtargetobjects=\"genesis__Applications__c\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/></conditions><actions/></model><model id=\"PaymentStreamProposal\" limit=\"1\" query=\"true\" createrowifnonefound=\"true\" datasource=\"salesforce\" type=\"\" sobject=\"Payment_Stream_Proposal__c\" orderby=\"Name DESC\"><fields><field id=\"Application__c\"/><field id=\"Application__r.Name\"/><field id=\"Number_of_Payments__c\"/><field id=\"Payment_Amount__c\"/><field id=\"Payment_Frequency__c\"/><field id=\"Id\"/><field id=\"Start_Date__c\" overridemetadata=\"true\" ogdisplaytype=\"DATE\" displaytype=\"DATE\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" model=\"application\" enclosevalueinquotes=\"false\" mergefield=\"NewFieldAppDate\"/><field id=\"Proposal_Sequence__c\"/></fields><conditions><condition type=\"param\" value=\"appId\" field=\"Application__c\" fieldtargetobjects=\"genesis__Applications__c\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/><condition type=\"param\" value=\"id\" field=\"Id\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/></conditions><actions/></model><model id=\"PaymentStreamProposalEndDate\" limit=\"\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"aggregate\" sobject=\"Payment_Stream_Proposal__c\"><fields><field id=\"payment_End_date__c\" name=\"maxPaymentEnddatec\" function=\"MAX\"/></fields><conditions><condition type=\"param\" value=\"appId\" field=\"Application__c\" fieldtargetobjects=\"genesis__Applications__c\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/></conditions><actions/><groupby method=\"simple\"/></model><model id=\"PaymentStreamProposalHistory\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"Payment_Stream_Proposal__c\" doclone=\"\"><fields><field id=\"Application__c\"/><field id=\"Application__r.Name\"/><field id=\"Number_of_Payments__c\"/><field id=\"Payment_Amount__c\"/><field id=\"payment_End_date__c\"/><field id=\"Payment_Frequency__c\"/><field id=\"Name\"/><field id=\"Id\"/><field id=\"Start_Date__c\"/></fields><conditions><condition type=\"param\" value=\"appId\" field=\"Application__c\" fieldtargetobjects=\"genesis__Applications__c\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/></conditions><actions/></model></models><components><pagetitle model=\"PaymentStreamProposal\" uniqueid=\"AppTitleHeader1\"><actions><action type=\"multi\" label=\"Save\" window=\"self\" rollbackonanyerror=\"true\" icon=\"sk-icon-save\"><hotkeys/><renderconditions logictype=\"and\"/><enableconditions/><actions><action type=\"blockUI\" message=\"Saving ...........\" timeout=\"1000\"/><action type=\"custom\" snippet=\"checkValidationAndFieldValues\"/><action type=\"updateRow\" fieldmodel=\"PaymentStreamProposal\" affectedrows=\"context\" field=\"Proposal_Sequence__c\" enclosevalueinquotes=\"false\" value=\"{{$Param.sequenceNo}}\"/><action type=\"save\" rollbackonanyerror=\"true\"><models><model>PaymentStreamProposal</model></models></action><action type=\"custom\" snippet=\"reOrder\"/><action type=\"closeAllPopups\"/><action type=\"custom\" snippet=\"CloseDialog\"/></actions></action><action type=\"multi\" label=\"Save\" icon=\"sk-icon-save\"><actions><action type=\"blockUI\" message=\"Saving ...........\" timeout=\"1000\"/><action type=\"custom\" snippet=\"newSnippet1\"/><action type=\"updateRow\" fieldmodel=\"NewApplicationPS\" affectedrows=\"context\" field=\"genesis__Payment_Type__c\" enclosevalueinquotes=\"true\" value=\"Rent\"/><action type=\"updateRow\" fieldmodel=\"NewApplicationPS\" affectedrows=\"context\" field=\"genesis__Sequence__c\" enclosevalueinquotes=\"false\" value=\"{{$Model.NewApplicationPS.data.0.NewField}}\"/><action type=\"save\" rollbackonanyerror=\"true\"><models><model>NewApplicationPS</model></models></action><action type=\"custom\" snippet=\"reOrder\"/><action type=\"closeAllPopups\"/><action type=\"custom\" snippet=\"CloseDialog\"/></actions><hotkeys/><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"NewApplicationPS\" sourcetype=\"snippet\" sourcesnippet=\"notToDisplay\"/></renderconditions><enableconditions logictype=\"and\" message=\"Validated with Errors\"/></action><action type=\"multi\" afterDelete=\"\" label=\"Delete\" icon=\"sk-icon-delete\"><actions><action type=\"showPopup\"><popup title=\"Delete Payment Schedule - {{Payment_Stream_Auto_Name__c}}\" width=\"50%\"><components><richtext multiple=\"false\" uniqueid=\"sk-TeCoz-239\" model=\"PaymentStreamProposal\"><contents>&lt;p style=\"text-align: center;\"&gt;&lt;span style=\"font-size:16px;\"&gt;&lt;strong&gt;&lt;span style=\"background-color:#ff0000;\"&gt;First Payment Schedule Date should match First Payment Date on Application&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;\n</contents><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"false\" fieldmodel=\"PaymentStreamProposal\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"deactivate\" field=\"Proposal_Sequence__c\" fieldtargetobjects=\"Payment_Stream_Proposal__c\" value=\"1\"/></renderconditions></richtext><pagetitle uniqueid=\"sk-3EnMT0-362\" model=\"NewApplicationPS\"><maintitle>Are you sure you want to delete ?</maintitle><actions><action type=\"multi\" label=\"Yes\" icon=\"sk-icon-mark-completed\"><actions><action type=\"markRowsForDeletion\" model=\"PaymentStreamProposal\" affectedrows=\"context\"/><action type=\"save\" rollbackonanyerror=\"true\"><models><model>PaymentStreamProposal</model></models></action><action type=\"requeryModel\" behavior=\"standard\" model=\"PaymentStreamProposalHistory\"/><action type=\"requeryModel\" model=\"PaymentSchedule\" behavior=\"standard\"/><action type=\"custom\" snippet=\"reOrder\"/><action type=\"custom\" snippet=\"CloseDialog\"/></actions></action><action type=\"multi\" label=\"No\" window=\"self\" icon=\"sk-icon-cancel\"><hotkeys/><renderconditions logictype=\"and\"/><enableconditions/><actions><action type=\"cancel\"><models><model>PaymentStreamProposal</model><model>PaymentStreamProposalEndDate</model><model>PaymentStreamProposalHistory</model></models></action><action type=\"custom\" snippet=\"CloseDialog\"/></actions></action></actions><renderconditions logictype=\"and\"/><conditions/></pagetitle></components><afterclose/></popup></action></actions><renderconditions logictype=\"and\"/><enableconditions logictype=\"and\" message=\"No record to delete\"><condition fieldmodel=\"PaymentStreamProposal\" sourcetype=\"rowproperty\" sourceproperty=\"isSaved\" enclosevalueinquotes=\"false\"/></enableconditions></action></actions><renderconditions logictype=\"and\"/></pagetitle><basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"PaymentStreamProposal\" buttonposition=\"\" uniqueid=\"sk-2D-05Y-442\" mode=\"edit\" layout=\"\"><columns><column width=\"40%\"><sections><section title=\"New Section\" collapsible=\"no\" showheader=\"false\"><fields><field type=\"COMBO\" valuehalign=\"\" editmodebehavior=\"autopopup\" readonly=\"true\"><label>Sequence</label><template>{{$Param.sequenceNo}}</template><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions logictype=\"and\"/></field><field id=\"Number_of_Payments__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" required=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/></field><field id=\"Payment_Amount__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" required=\"true\"/><field id=\"Payment_Frequency__c\" valuehalign=\"\" type=\"\" required=\"true\"/><field id=\"Start_Date__c\" valuehalign=\"\" type=\"\" required=\"true\" cssclass=\"datepickerOnly\" snippet=\"\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/></field></fields></section></sections></column></columns><renderconditions logictype=\"and\"/></basicfieldeditor></components><resources><labels/><javascript><jsitem location=\"staticresource\" name=\"CLSNGUIComponent\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"messageUtils.js\">var params = arguments[0],\n\t            $ = skuid.$;\n            </jsitem><jsitem location=\"inlinesnippet\" name=\"CloseDialog\" cachelocation=\"false\">var params = arguments[0],\n    $ = skuid.$;\n//closeTopLevelDialogAndRefresh({iframeIds: ['deal-dashboard-iframe,loan-details-iframe']});\n\nvar AppModel = skuid.model.getModel('application');\nvar appRow = AppModel.data[0];\nparent.location = '/'+appRow.Id+'?skuidonly=1';\n</jsitem><jsitem location=\"inlinesnippet\" name=\"newSnippet1\" cachelocation=\"false\">var newAppParams = {};\nvar editorWrapper = $('#AppTitleHeader1'); \nvar editor = editorWrapper.data('object').editor;\n\nvar AppModel = skuid.model.getModel('application');\nvar appRow = AppModel.data[0];\n//alert(appRow.NewFieldAppDate);\n\nvar paymentSchModel = skuid.model.getModel('PaymentSchedule');\n\nvar paymentEndDateModel = skuid.model.getModel('paymentEndDate');\nvar paymentEndDateRow = paymentEndDateModel.data[0];\nvar returnVal = true;\n\nvar Psmodel = skuid.model.getModel('NewApplicationPS');\nvar Psrow = Psmodel.data[0];\n\neditor.clearMessages();\nif(Psrow.genesis__Sequence__c &gt; 1)\n { \n     var paymentSchrow = paymentSchModel.data[Psrow.genesis__Sequence__c -1];\n     //alert('paymentSchrow:' + paymentSchrow.genesis__Start_Date__c);\n }\n \nif(Psrow.Start_Date_Proposal__c &lt; appRow.NewFieldAppDate &amp;&amp; Psmodel.isRowNew(Psrow)) \n{\n  // alert('Start Date should be greater than previous payment scheduled date.');\n    editor.handleMessages( \n        \n        [{\n           \n            message: 'Start date should be greater than Previous Payment schedule end date or Expected First Payment Date.', \n            severity: 'ERROR'\n        }]\n     \n    );\n    returnVal = false;\n}\n\nif(Psrow.genesis__Sequence__c &gt; 1) // Condition added for second row onwards not for first row \n{\n    if(!Psmodel.isRowNew(Psrow) &amp;&amp; Psrow.genesis__Sequence__c &lt; paymentSchModel.data.length) \n    {\n       \n        editor.handleMessages( \n            \n            [{\n               \n                message: 'You can edit only the last sequence of Payment Schedule.', \n                severity: 'ERROR'\n            }]\n         \n        );\n    \n       returnVal = false;\n    }\n    \n    if(!Psmodel.isRowNew(Psrow) &amp;&amp; Psrow.genesis__Sequence__c === paymentSchModel.data.length &amp;&amp; Psrow.Start_Date_Proposal__c &lt; paymentSchrow.Start_Date_Proposal__c) \n    {\n       //alert('Edit');\n        editor.handleMessages( \n            \n            [{\n               \n                message:  'Start date should be greater than Previous Payment schedule end date or Expected First Payment Date.', \n                severity: 'ERROR'\n            }]\n         \n        );\n    \n       returnVal = false;\n    }\n}\n\n/*var gn_maturitydate = appRow.genesis_Maturity_date__c;\n alert('gn_maturitydate' +gn_maturitydate);\nif(Psmodel.isRowNew(Psrow) &amp;&amp; Psrow.genesis__Start_Date__c &gt; gn_maturitydate) \n{\n   \n    editor.handleMessages( \n        \n        [{\n           \n            message: 'Scheduled Payment date has crossed Maturity date.', \n            severity: 'ERROR'\n        }]\n     \n    );\n\n   returnVal = false;\n}*/\n\nif(Psmodel.isRowNew(Psrow))\n{\n    var NumberofPayments        = Psmodel.getFieldValue(Psrow,'Number_of_Payments_Proposal__c');\n    var NumberofPaymentsOld     = Psmodel.getFieldValue(Psrow,'genesis__Number_of_Payments__c');\n    if(NumberofPayments         !== NumberofPaymentsOld)\n    {\n        Psmodel.updateRow(Psrow,'genesis__Number_of_Payments__c',NumberofPayments);\n    }\n    \n    var PaymentAmount           = Psmodel.getFieldValue(Psrow,'Payment_Amount_Proposal__c');\n    var PaymentAmountOld        = Psmodel.getFieldValue(Psrow,'genesis__Payment_Amount__c');\n    if(PaymentAmount            !== PaymentAmountOld)\n    {\n        Psmodel.updateRow(Psrow,'genesis__Payment_Amount__c',PaymentAmount);\n    }\n    \n    var PaymentFrequency        = Psmodel.getFieldValue(Psrow,'Payment_Frequency_Proposal__c');\n    var PaymentFrequencyOld     = Psmodel.getFieldValue(Psrow,'genesis__Payment_Frequency__c');\n    if(PaymentFrequency         !== PaymentFrequencyOld)\n    {\n        Psmodel.updateRow(Psrow,'genesis__Payment_Frequency__c',PaymentFrequency);\n    }\n    \n    var startDate               = Psmodel.getFieldValue(Psrow,'Start_Date_Proposal__c');\n    var startDateOld            = Psmodel.getFieldValue(Psrow,'genesis__Start_Date__c');\n    if(startDate                !== startDateOld)\n    {\n        Psmodel.updateRow(Psrow,'genesis__Start_Date__c',startDate);\n    }\n}\n\n var NoPayments = Psmodel.getFieldValue(Psrow,'Number_of_Payments_Proposal__c',true);\n var Paymentamount = Psmodel.getFieldValue(Psrow,'Payment_Amount_Proposal__c',true);\n var pattern = /^\\d+$/;\n var patternDecimal = /^\\d{1,6}(\\.\\d{1,2})?$/;\n//  alert('NoPayments' +NoPayments);\nif (!pattern.test(NoPayments) || !patternDecimal.test(Paymentamount)) {\n    \n   editor.handleMessages( \n        \n        [{\n           \n            message: 'Invalid Number Format.', \n            severity: 'ERROR'\n        }]\n     \n    );\n    returnVal = false;\n}\nif(Psrow.Number_of_Payments_Proposal__c &lt;= 0 || Psrow.Number_of_Payments_Proposal__c === undefined) \n{\n    editor.handleMessages( \n        \n        [{\n           \n            message: 'Number of Payments should be greater than 0.', \n            severity: 'ERROR'\n        }]\n     \n    );\n    returnVal = false;\n}\nif(Psrow.Payment_Amount_Proposal__c &lt;= 0 || Psrow.Payment_Amount_Proposal__c === undefined) \n{\n    editor.handleMessages( \n        \n        [{\n           \n            message: 'Payment Amount should be greater than 0.', \n            severity: 'ERROR'\n        }]\n     \n    );\n    returnVal = false;\n}\nif(Psrow.Start_Date_Proposal__c === null) \n{\n    editor.handleMessages( \n        \n        [{\n           \n            message: 'Please enter start Date.', \n            severity: 'ERROR'\n        }]\n     \n    );\n    returnVal = false;\n}\n//alert(returnVal); \n/*if(returnVal)\n{\n    Psrow.count = 1;\n    Psmodel.updateRow(Psrow, 'count', 1);\n            Psmodel.save();\n            alert(Psrow.count);\n}*/\nreturn returnVal;</jsitem><jsitem location=\"inline\" name=\"loadPaymentModule\" cachelocation=\"false\" url=\"\">(function(skuid){\n\tvar $ = skuid.$;\n\t//alert(skuid.page.params.sequenceNo);\n\t$(document.body).one('pageload',function(){\n\t\t$(document).on( \"keydown\",\".datepickerOnly input\", function (evt) { \n    \t        evt.preventDefault();\n    \t    });\n\t});\n})(skuid);</jsitem><jsitem location=\"inlinesnippet\" name=\"notToDisplay\" cachelocation=\"false\">var params = arguments[0],\n\t$ = skuid.$;\nreturn false;</jsitem><jsitem location=\"inlinesnippet\" name=\"checkValidationAndFieldValues\" cachelocation=\"false\">var newAppParams = {};\nvar editorWrapper = $('#AppTitleHeader1'); \nvar editor = editorWrapper.data('object').editor;\nvar sequenceNo = skuid.page.params.sequenceNo;\n\nvar AppModel = skuid.model.getModel('application');\nvar appRow = AppModel.data[0];\n//alert(appRow.NewFieldAppDate);\n\n//alert(skuid.page.params.sequenceNo);\n\nvar paymentSchModel = skuid.model.getModel('PaymentStreamProposalHistory');\n\nvar paymentEndDateModel = skuid.model.getModel('PaymentStreamProposalEndDate');\nvar paymentEndDateRow = paymentEndDateModel.data[0];\nvar returnVal = true;\n\nvar Psmodel = skuid.model.getModel('PaymentStreamProposal');\nvar Psrow = Psmodel.data[0];\n\neditor.clearMessages();\n\nif(sequenceNo &gt; 1)\n { \n     var paymentSchrow = paymentSchModel.data[sequenceNo -1];\n     //alert('paymentSchrow:' + paymentSchrow.genesis__Start_Date__c);\n }\n \nif(Psrow.Start_Date__c &lt; appRow.NewFieldAppDate &amp;&amp; Psmodel.isRowNew(Psrow)) \n{\n  // alert('Start Date should be greater than previous payment scheduled date.');\n    editor.handleMessages( \n        \n        [{\n           \n            message: 'Start date should be greater than Previous Payment schedule end date or Expected First Payment Date.', \n            severity: 'ERROR'\n        }]\n     \n    );\n    returnVal = false;\n}\n\nif(sequenceNo &gt; 1) // Condition added for second row onwards not for first row \n{\n    // if(!Psmodel.isRowNew(Psrow) &amp;&amp; sequenceNo &lt; paymentSchModel.data.length) \n    // {\n       \n    //     editor.handleMessages( \n            \n    //         [{\n               \n    //             message: 'You can edit only the last sequence of Payment Schedule.', \n    //             severity: 'ERROR'\n    //         }]\n         \n    //     );\n    \n    //   returnVal = false;\n    // }\n    \n    if(!Psmodel.isRowNew(Psrow) &amp;&amp; sequenceNo === paymentSchModel.data.length &amp;&amp; Psrow.Start_Date__c &lt; paymentSchrow.Start_Date__c) \n    {\n       //alert('Edit');\n        editor.handleMessages( \n            \n            [{\n               \n                message:  'Start date should be greater than Previous Payment schedule end date or Expected First Payment Date.', \n                severity: 'ERROR'\n            }]\n         \n        );\n    \n       returnVal = false;\n    }\n}\n\n var NoPayments = Psmodel.getFieldValue(Psrow,'Number_of_Payments__c',true);\n var Paymentamount = Psmodel.getFieldValue(Psrow,'Payment_Amount__c',true);\n var pattern = /^\\d+$/;\n var patternDecimal = /^\\d{1,6}(\\.\\d{1,2})?$/;\n//  alert('NoPayments' +NoPayments);\nif (!pattern.test(NoPayments) || !patternDecimal.test(Paymentamount)) {\n    \n   editor.handleMessages( \n        \n        [{\n           \n            message: 'Invalid Number Format.', \n            severity: 'ERROR'\n        }]\n     \n    );\n    returnVal = false;\n}\nif(Psrow.Number_of_Payments__c &lt;= 0 || Psrow.Number_of_Payments__c === undefined) \n{\n    editor.handleMessages( \n        \n        [{\n           \n            message: 'Number of Payments should be greater than 0.', \n            severity: 'ERROR'\n        }]\n     \n    );\n    returnVal = false;\n}\nif(Psrow.Payment_Amount__c &lt;= 0 || Psrow.Payment_Amount__c === undefined) \n{\n    editor.handleMessages( \n        \n        [{\n           \n            message: 'Payment Amount should be greater than 0.', \n            severity: 'ERROR'\n        }]\n     \n    );\n    returnVal = false;\n}\nif(Psrow.Start_Date__c === null) \n{\n    editor.handleMessages( \n        \n        [{\n           \n            message: 'Please enter start Date.', \n            severity: 'ERROR'\n        }]\n     \n    );\n    returnVal = false;\n}\n\n// if(returnVal &amp;&amp; sequenceNo == 1 &amp;&amp; paymentSchModel.data.length &gt; 1)\n// {\n//     AppModel.updateRow(appRow,'genesis__Dealer_Payment_Date__c',Psrow.Start_Date__c);\n//     skuid.model.save([AppModel]);\n// }\n\nreturn returnVal;</jsitem><jsitem location=\"inlinesnippet\" name=\"AssignValues\" cachelocation=\"false\">var newAppParams = {};\n// var editorWrapper = $('#AppTitleHeader1'); \n// var editor = editorWrapper.data('object').editor;\nvar sequenceNo = skuid.page.params.sequenceNo;\n\nvar AppModel = skuid.model.getModel('application');\nvar appRow = AppModel.data[0];\n\nvar paymentSchModel = skuid.model.getModel('PaymentStreamProposalHistory');\n\nvar Psmodel = skuid.model.getModel('PaymentStreamProposal');\nvar Psrow = Psmodel.data[0];\n\nif(sequenceNo == 1 &amp;&amp; paymentSchModel.data.length &gt; 1)\n{\n    AppModel.updateRow(appRow,'genesis__Dealer_Payment_Date__c',Psrow.Start_Date__c);\n    skuid.model.save([AppModel]);\n}</jsitem><jsitem location=\"inlinesnippet\" name=\"reOrder\" cachelocation=\"false\">var newAppParams = {};\nvar editorWrapper = $('#AppTitleHeader1'); \nvar editor = editorWrapper.data('object').editor;\n\nvar sequenceNo = skuid.page.params.sequenceNo;\n\nvar paymentSchModel = skuid.model.getModel('PaymentSchedule');\nvar paymentSchProposalModel = skuid.model.getModel('PaymentStreamProposalHistory');\nvar applicationModel = skuid.model.getModel('application');\n\nvar paymentSchData = [];\nvar paymentSchProposalData = [];\n\npaymentSchData = paymentSchModel.data;\npaymentSchProposalData = paymentSchProposalModel.data;\n\napplicationDataRow = applicationModel.data[0];\n\nvar i = 0;\nfor(i=0;i&lt;paymentSchData.length;i++)\n{\n    paymentSchModel.updateRow(paymentSchData[i],'genesis__Sequence__c',i+1);\n}\n\nvar j = 0;\nfor(j=0;j&lt;paymentSchProposalData.length;j++)\n{\n    paymentSchProposalModel.updateRow(paymentSchProposalData[j],'Proposal_Sequence__c',j+1);\n}\n\nskuid.model.save([paymentSchModel, paymentSchProposalModel]);</jsitem></javascript><css><cssitem location=\"staticresource\" name=\"CLSStyleSheetPack\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"cls-common.css\"/></css></resources><styles><styleitem type=\"background\" bgtype=\"none\"/></styles><interactions/></skuidpage>","skuid__Layout2__c":null,"skuid__Layout3__c":null,"skuid__Layout4__c":null,"skuid__Layout5__c":null},{"attributes":{"type":"skuid__Page__c","url":"/services/data/v36.0/sobjects/skuid__Page__c/a8n9E0000004E5LQAU"},"Id":"a8n9E0000004E5LQAU","Name":"AddModifyPaymentStreams__Transact","skuid__Type__c":"Desktop","skuid__UniqueId__c":"ngUi_AddModifyPaymentStreams__Transact","skuid__Module__c":"ngUi","skuid__Composer_Settings__c":null,"skuid__MasterPage__c":null,"skuid__MasterPage__r":null,"skuid__IsMaster__c":false,"skuid__Layout__c":"<skuidpage unsavedchangeswarning=\"\" personalizationmode=\"server\" showsidebar=\"false\" showheader=\"false\"><models><model id=\"NewApplicationPS\" limit=\"1\" query=\"true\" createrowifnonefound=\"true\" type=\"\" sobject=\"genesis__Payment_Stream__c\" datasource=\"salesforce\" orderby=\"Name DESC\" doclone=\"\"><fields><field id=\"genesis__Interest_Rate__c\"/><field id=\"genesis__Pricing_Basis__c\"/><field id=\"genesis__Payment_Type__c\"/><field id=\"genesis__Interest_Rate_Adjustment_Period__c\"/><field id=\"genesis__Interest_Rate_Adjustment_Frequency__c\"/><field id=\"Id\"/><field id=\"genesis__Application__c\"/><field id=\"genesis__Application__r.Name\"/><field id=\"Name\"/><field id=\"genesis__Rate_Type__c\"/><field id=\"genesis__Number_of_Payments__c\" overridemetadata=\"false\" ogdisplaytype=\"DOUBLE\" displaytype=\"DOUBLE\" precision=\"\" scale=\"\" length=\"10\"/><field id=\"genesis__Payment_Amount__c\"/><field id=\"genesis__Start_Date__c\" overridemetadata=\"true\" ogdisplaytype=\"DATE\" displaytype=\"DATE\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" mergefield=\"NewFieldAppDate\" model=\"application\" enclosevalueinquotes=\"false\" required=\"true\"/><field id=\"genesis__Payment_Frequency__c\" overridemetadata=\"true\" ogdisplaytype=\"PICKLIST\" displaytype=\"PICKLIST\" picklistsource=\"manual\" defaultvaluetype=\"fieldvalue\" defaultValue=\"MONTHLY\"><picklistentries/></field><field id=\"genesis__Sequence__c\"/><field id=\"NewField\" uionly=\"true\" displaytype=\"FORMULA\" ogdisplaytype=\"TEXT\" readonly=\"true\" returntype=\"DOUBLE\" precision=\"9\" scale=\"0\" defaultvaluetype=\"fieldvalue\"><formula>IF(ISBLANK({{LastModifiedDate}}),{{genesis__Sequence__c}} +1\n,{{genesis__Sequence__c}})</formula></field><field id=\"CreatedDate\"/><field id=\"LastModifiedDate\"/><field id=\"Payment_Stream_Auto_Name__c\"/><field id=\"isTransact__c\"/></fields><conditions><condition type=\"param\" value=\"appId\" field=\"genesis__Application__c\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/><condition type=\"param\" value=\"id\" field=\"Id\" operator=\"=\" state=\"\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/></conditions><actions><action><actions><action type=\"updateRow\" fieldmodel=\"NewApplicationPS\" affectedrows=\"context\" field=\"genesis__Sequence__c\" enclosevalueinquotes=\"false\" value=\"{{$Model.paymentSeq.data.0.SequenceNumber}}\"/><action type=\"updateRow\" fieldmodel=\"NewApplicationPS\" affectedrows=\"context\" field=\"isTransact__c\" enclosevalueinquotes=\"false\" value=\"true\"/></actions><events><event>row.created</event></events></action></actions><groupby method=\"simple\"/></model><model id=\"paymentSeq\" limit=\"\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"aggregate\" sobject=\"genesis__Payment_Stream__c\"><fields><field id=\"genesis__Application__c\" name=\"SequenceNumber\" function=\"COUNT\"/></fields><conditions><condition type=\"param\" value=\"appId\" field=\"genesis__Application__c\" fieldtargetobjects=\"genesis__Applications__c\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/></conditions><actions/><groupby method=\"rollup\"/></model><model id=\"paymentEndDate\" limit=\"\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"aggregate\" sobject=\"genesis__Payment_Stream__c\" processonclient=\"false\"><fields><field id=\"PaymentEndDate__c\" name=\"maxPaymentEndDatec\" function=\"MAX\"/></fields><conditions><condition type=\"param\" value=\"appId\" field=\"genesis__Application__c\" fieldtargetobjects=\"genesis__Applications__c\" operator=\"=\" mergefield=\"Id\" novaluebehavior=\"\" enclosevalueinquotes=\"true\"/></conditions><actions/><groupby method=\"simple\"/></model><model id=\"application\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"genesis__Applications__c\"><fields><field id=\"Id\"/><field id=\"RecordTypeId\"/><field id=\"RecordType.Name\"/><field id=\"Name\"/><field id=\"genesis__CL_Product_Name__c\"/><field id=\"genesis__Expected_Close_Date__c\"/><field id=\"genesis__Expected_First_Payment_Date__c\"/><field id=\"genesis__Expected_Start_Date__c\"/><field id=\"genesis__Maturity_Date__c\"/><field id=\"NewFieldAppDate\" uionly=\"true\" displaytype=\"FORMULA\" ogdisplaytype=\"TEXT\" readonly=\"true\" returntype=\"DATE\" defaultvaluetype=\"fieldvalue\"><formula>IF(ISBLANK({{$Model.paymentEndDate.data.0.maxPaymentEndDatec}}),{{genesis__Dealer_Payment_Date__c}},{{$Model.paymentEndDate.data.0.maxPaymentEndDatec}})</formula></field><field id=\"genesis_Maturity_date__c\"/><field id=\"genesis__Dealer_Payment_Date__c\"/></fields><conditions><condition type=\"param\" value=\"appId\" field=\"Id\" operator=\"=\" mergefield=\"Id\" novaluebehavior=\"deactivate\" enclosevalueinquotes=\"true\" state=\"\"/></conditions><actions/></model><model id=\"PaymentSchedule\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"genesis__Payment_Stream__c\"><fields><field id=\"genesis__Application__c\"/><field id=\"genesis__Application__r.Name\"/><field id=\"genesis__Interest_Rate__c\"/><field id=\"genesis__Number_of_Payments__c\"/><field id=\"genesis__Payment_Amount__c\"/><field id=\"genesis__Payment_Frequency__c\"/><field id=\"Payment_Stream_Auto_Name__c\"/><field id=\"Name\"/><field id=\"genesis__Payment_Type__c\"/><field id=\"PaymentEndDate__c\"/><field id=\"genesis__Pricing_Basis__c\"/><field id=\"genesis__Rate_Type__c\"/><field id=\"Id\"/><field id=\"genesis__Sequence__c\"/><field id=\"genesis__Start_Date__c\"/><field id=\"LastModifiedDate\"/><field id=\"CreatedDate\"/></fields><conditions><condition type=\"param\" value=\"appId\" field=\"genesis__Application__c\" fieldtargetobjects=\"genesis__Applications__c\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/></conditions><actions/></model></models><components><pagetitle model=\"NewApplicationPS\" uniqueid=\"AppTitleHeader1\"><actions><action type=\"multi\" label=\"Save\" icon=\"sk-icon-save\"><actions><action type=\"blockUI\" message=\"Saving ...........\" timeout=\"1000\"/><action type=\"custom\" snippet=\"newSnippet1\"/><action type=\"updateRow\" fieldmodel=\"NewApplicationPS\" affectedrows=\"context\" field=\"genesis__Payment_Type__c\" enclosevalueinquotes=\"true\" value=\"Rent\"/><action type=\"updateRow\" fieldmodel=\"NewApplicationPS\" affectedrows=\"context\" field=\"genesis__Sequence__c\" enclosevalueinquotes=\"false\" value=\"{{$Model.NewApplicationPS.data.0.NewField}}\"/><action type=\"save\" rollbackonanyerror=\"true\"><models><model>NewApplicationPS</model></models></action><action type=\"custom\" snippet=\"reorder\"/><action type=\"closeAllPopups\"/><action type=\"custom\" snippet=\"CloseDialog\"/></actions><hotkeys/><renderconditions logictype=\"and\"/><enableconditions logictype=\"and\" message=\"Validated with Errors\"/></action><action type=\"multi\" afterDelete=\"\" label=\"Delete\" icon=\"sk-icon-delete\"><actions><action type=\"showPopup\"><popup title=\"Delete Payment Schedule - {{Payment_Stream_Auto_Name__c}}\" width=\"50%\"><components><richtext multiple=\"false\" uniqueid=\"sk-Tss59-229\" model=\"\"><contents>&lt;p style=\"text-align: center;\"&gt;&lt;span style=\"font-size:16px;\"&gt;&lt;strong&gt;&lt;span style=\"background-color:#ff0000;\"&gt;First Payment Schedule Date should match First Payment Date on Application&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;\n</contents><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"false\" fieldmodel=\"NewApplicationPS\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"deactivate\" field=\"genesis__Sequence__c\" fieldtargetobjects=\"genesis__Payment_Stream__c\" value=\"1\"/></renderconditions></richtext><pagetitle uniqueid=\"sk-3EnMT0-362\" model=\"NewApplicationPS\"><maintitle>Are you sure you want to delete ?</maintitle><actions><action type=\"multi\" label=\"Yes\" icon=\"sk-icon-mark-completed\"><actions><action type=\"markRowsForDeletion\" model=\"NewApplicationPS\" affectedrows=\"context\"/><action type=\"save\" rollbackonanyerror=\"true\"><models><model>NewApplicationPS</model><model>paymentSeq</model><model>paymentEndDate</model></models></action><action type=\"requeryModel\" model=\"PaymentSchedule\" behavior=\"standard\"/><action type=\"custom\" snippet=\"reorder\"/><action type=\"closeAllPopups\"/><action type=\"custom\" snippet=\"CloseDialog\"/></actions></action><action type=\"multi\" label=\"No\" window=\"self\" icon=\"sk-icon-cancel\"><hotkeys/><renderconditions logictype=\"and\"/><enableconditions/><actions><action type=\"cancel\"><models><model>NewApplicationPS</model><model>paymentSeq</model><model>paymentEndDate</model></models></action><action type=\"custom\" snippet=\"CloseDialog\"/></actions></action></actions></pagetitle></components><afterclose/></popup></action></actions><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"false\" fieldmodel=\"NewApplicationPS\" sourcetype=\"fieldvalue\" field=\"isTransact__c\" fieldtargetobjects=\"genesis__Payment_Stream__c\" value=\"true\"/></renderconditions><enableconditions logictype=\"and\" message=\"No record to delete\"><condition fieldmodel=\"NewApplicationPS\" sourcetype=\"rowproperty\" sourceproperty=\"isSaved\" enclosevalueinquotes=\"false\"/></enableconditions></action><action type=\"multi\" label=\"Delete\" icon=\"sk-icon-delete\"><actions><action type=\"showPopup\"><popup title=\"Delete Payment Schedule - {{Payment_Stream_Auto_Name__c}}\" width=\"75%\"><components><richtext multiple=\"false\" uniqueid=\"sk-TsdQ7-201\" model=\"\"><contents>&lt;p&gt;&lt;span style=\"font-size:16px;\"&gt;&lt;strong&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp; &amp;nbsp;&lt;span style=\"background-color:#ff0000;\"&gt;First Payment Schedule Date should match First Payment Date on Application&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;\n</contents><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"false\" fieldmodel=\"NewApplicationPS\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"deactivate\" field=\"genesis__Sequence__c\" fieldtargetobjects=\"genesis__Payment_Stream__c\" value=\"1\"/></renderconditions></richtext><pagetitle model=\"NewApplicationPS\" uniqueid=\"sk-1gfmrK-723\"><maintitle>Are you sure you want to delete ? but still you can see in Proposal  screen</maintitle><actions><action type=\"multi\" label=\"Yes\" icon=\"sk-icon-mark-completed\"><actions><action type=\"markRowsForDeletion\" model=\"NewApplicationPS\" affectedrows=\"context\"/><action type=\"save\" rollbackonanyerror=\"true\"><models><model>NewApplicationPS</model></models></action><action type=\"requeryModel\" model=\"PaymentSchedule\" behavior=\"standard\"/><action type=\"custom\" snippet=\"reorder\"/><action type=\"closeAllPopups\"/><action type=\"custom\" snippet=\"CloseDialog\"/></actions><renderconditions logictype=\"and\"/><enableconditions logictype=\"and\"/></action><action type=\"multi\" label=\"No\" icon=\"sk-icon-cancel\"><actions><action type=\"cancel\"><models><model>NewApplicationPS</model></models></action><action type=\"custom\" snippet=\"CloseDialog\"/></actions></action></actions></pagetitle></components></popup></action></actions><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"false\" fieldmodel=\"NewApplicationPS\" sourcetype=\"fieldvalue\" field=\"isTransact__c\" fieldtargetobjects=\"genesis__Payment_Stream__c\" value=\"false\"/></renderconditions><enableconditions logictype=\"and\"/></action></actions><renderconditions logictype=\"and\"/></pagetitle><basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"NewApplicationPS\" buttonposition=\"\" uniqueid=\"sk-sA11K-170\" mode=\"edit\" layout=\"\"><columns><column width=\"40%\"><sections><section title=\"\" collapsible=\"no\" showheader=\"false\"><fields><field id=\"NewField\" decimalplaces=\"\" valuehalign=\"\" type=\"\"><label>Sequence Number</label><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"NewApplicationPS\" sourcetype=\"snippet\" sourcesnippet=\"notToDisplay\"/><rendercondition type=\"fieldvalue\" enclosevalueinquotes=\"true\" fieldmodel=\"NewApplicationPS\" sourcetype=\"rowproperty\" sourceproperty=\"isNew\"/></renderconditions><enableconditions logictype=\"and\"><condition type=\"fieldvalue\" enclosevalueinquotes=\"true\" fieldmodel=\"NewApplicationPS\" sourcetype=\"rowproperty\" sourceproperty=\"isNew\"/></enableconditions></field><field id=\"genesis__Sequence__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" readonly=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"NewApplicationPS\" sourcetype=\"snippet\" sourcesnippet=\"notToDisplay\"/><rendercondition fieldmodel=\"NewApplicationPS\" sourcetype=\"rowproperty\" sourceproperty=\"isSaved\" enclosevalueinquotes=\"false\"/></renderconditions><enableconditions/></field><field type=\"COMBO\" valuehalign=\"\" editmodebehavior=\"autopopup\" readonly=\"true\"><label>Sequence</label><template>{{$Param.sequenceNo}}</template></field><field id=\"genesis__Number_of_Payments__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" required=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions logictype=\"and\"/></field><field id=\"genesis__Payment_Amount__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" required=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/></field><field id=\"genesis__Payment_Frequency__c\" valuehalign=\"\" type=\"\" required=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/></field><field id=\"genesis__Start_Date__c\" valuehalign=\"\" type=\"\" cssclass=\"datepickerOnly\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions logictype=\"and\"/></field></fields></section></sections></column></columns><renderconditions logictype=\"and\"/></basicfieldeditor></components><resources><labels/><javascript><jsitem location=\"staticresource\" name=\"CLSNGUIComponent\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"messageUtils.js\">var params = arguments[0],\n\t            $ = skuid.$;\n            </jsitem><jsitem location=\"inlinesnippet\" name=\"CloseDialog\" cachelocation=\"false\">var params = arguments[0],\n    $ = skuid.$;\n//closeTopLevelDialogAndRefresh({iframeIds: ['deal-dashboard-iframe,loan-details-iframe']});\n\nvar AppModel = skuid.model.getModel('application');\nvar appRow = AppModel.data[0];\nparent.location = '/'+appRow.Id+'?skuidonly=1';\n</jsitem><jsitem location=\"inlinesnippet\" name=\"newSnippet1\" cachelocation=\"false\">var newAppParams = {};\nvar editorWrapper = $('#AppTitleHeader1'); \nvar editor = editorWrapper.data('object').editor;\n\nvar AppModel = skuid.model.getModel('application');\nvar appRow = AppModel.data[0];\n//alert(appRow.NewFieldAppDate);\n\nvar sequenceNo = skuid.page.params.sequenceNo;\n\nvar paymentSchModel = skuid.model.getModel('PaymentSchedule');\n\nvar paymentEndDateModel = skuid.model.getModel('paymentEndDate');\nvar paymentEndDateRow = paymentEndDateModel.data[0];\nvar returnVal = true;\n\nvar Psmodel = skuid.model.getModel('NewApplicationPS');\nvar Psrow = Psmodel.data[0];\n\neditor.clearMessages();\nif(sequenceNo &gt; 1)\n { \n     var paymentSchrow = paymentSchModel.data[sequenceNo -1];\n     //alert('paymentSchrow:' + paymentSchrow.genesis__Start_Date__c);\n }\n \n// if(!Psrow.LastModifiedDate &amp;&amp; (Psrow.genesis__Start_Date__c &lt; appRow.NewFieldAppDate &amp;&amp; (Psmodel.isRowNew(Psrow) || Psrow.genesis__Sequence__c === 1))) \n// {\n//   // alert('Start Date should be greater than previous payment scheduled date.');\n//     editor.handleMessages( \n        \n//         [{\n           \n//             message: 'Start date should be greater than Previous Payment schedule end date or Expected First Payment Date.', \n//             severity: 'ERROR'\n//         }]\n     \n//     );\n//     returnVal = false;\n// }\n\nvar isTransact__c           = Psmodel.getFieldValue(Psrow,'isTransact__c');\nif(Psmodel.isRowNew(Psrow) &amp;&amp; isTransact__c)\n{\n    Psmodel.updateRow(Psrow,'Start_Date_Proposal__c',appRow.NewFieldAppDate);\n}\n\n//Psmodel.updateRow(Psrow,'genesis_Sequence_Number__c',sequenceNo);\n\nif(Psrow.genesis__Start_Date__c &lt; appRow.NewFieldAppDate &amp;&amp; Psmodel.isRowNew(Psrow)) \n{\n  // alert('Start Date should be greater than previous payment scheduled date.');\n    editor.handleMessages( \n        \n        [{\n           \n            message: 'Start date should be greater than Previous Payment schedule end date or Expected First Payment Date.', \n            severity: 'ERROR'\n        }]\n     \n    );\n    returnVal = false;\n}\n\nif(sequenceNo &gt; 1) // Condition added for second row onwards not for first row \n{\n    // if(!Psmodel.isRowNew(Psrow) &amp;&amp; sequenceNo &lt; paymentSchModel.data.length) \n    // {\n       \n    //     editor.handleMessages( \n            \n    //         [{\n               \n    //             message: 'You can edit only the last sequence of Payment Schedule.', \n    //             severity: 'ERROR'\n    //         }]\n         \n    //     );\n    \n    //   returnVal = false;\n    // }\n    if(!Psmodel.isRowNew(Psrow) &amp;&amp; sequenceNo === paymentSchModel.data.length &amp;&amp; Psrow.genesis__Start_Date__c &lt; paymentSchrow.genesis__Start_Date__c) \n    {\n      //alert('Edit');\n      \n        editor.handleMessages( \n            \n            [{\n                message:  'Start date should be greater than Previous Payment schedule end date or Expected First Payment Date.', \n                severity: 'ERROR'\n            }]\n         \n        );\n    \n       returnVal = false;\n    }\n}\n\n/*var gn_maturitydate = appRow.genesis_Maturity_date__c;\n alert('gn_maturitydate' +gn_maturitydate);\nif(Psmodel.isRowNew(Psrow) &amp;&amp; Psrow.genesis__Start_Date__c &gt; gn_maturitydate) \n{\n   \n    editor.handleMessages( \n        \n        [{\n           \n            message: 'Scheduled Payment date has crossed Maturity date.', \n            severity: 'ERROR'\n        }]\n     \n    );\n\n   returnVal = false;\n}*/\n\n var NoPayments = Psmodel.getFieldValue(Psrow,'genesis__Number_of_Payments__c',true);\n var Paymentamount = Psmodel.getFieldValue(Psrow,'genesis__Payment_Amount__c',true);\n var pattern = /^\\d+$/;\n var patternDecimal = /^\\d{1,6}(\\.\\d{1,2})?$/;\n//  alert('NoPayments' +NoPayments);\nif (!pattern.test(NoPayments) || !patternDecimal.test(Paymentamount)) {\n    \n   editor.handleMessages( \n        \n        [{\n           \n            message: 'Invalid Number Format.', \n            severity: 'ERROR'\n        }]\n     \n    );\n    returnVal = false;\n}\nif(Psrow.genesis__Number_of_Payments__c &lt;= 0 || Psrow.genesis__Number_of_Payments__c === undefined) \n{\n    editor.handleMessages( \n        \n        [{\n           \n            message: 'Number of Payments should be greater than 0.', \n            severity: 'ERROR'\n        }]\n     \n    );\n    returnVal = false;\n}\nif(Psrow.genesis__Payment_Amount__c &lt;= 0 || Psrow.genesis__Payment_Amount__c === undefined) \n{\n    editor.handleMessages( \n        \n        [{\n           \n            message: 'Payment Amount should be greater than 0.', \n            severity: 'ERROR'\n        }]\n     \n    );\n    returnVal = false;\n}\nif(Psrow.genesis__Start_Date__c === null) \n{\n    editor.handleMessages( \n        \n        [{\n           \n            message: 'Please enter start Date.', \n            severity: 'ERROR'\n        }]\n     \n    );\n    returnVal = false;\n}\n\n//alert(returnVal); \n/*if(returnVal)\n{\n    Psrow.count = 1;\n    Psmodel.updateRow(Psrow, 'count', 1);\n            Psmodel.save();\n            alert(Psrow.count);\n}*/\nreturn returnVal;</jsitem><jsitem location=\"inline\" name=\"loadPaymentModule\" cachelocation=\"false\" url=\"\">(function(skuid){\n\tvar $ = skuid.$;\n\t\n\t$(document.body).one('pageload',function(){\n\t\t$(document).on( \"keydown\",\".datepickerOnly input\", function (evt) { \n    \t        evt.preventDefault();\n    \t    });\n\t});\n})(skuid);</jsitem><jsitem location=\"inlinesnippet\" name=\"deleteConditions\" cachelocation=\"false\">var newAppParams = {};\nvar editorWrapper = $('#AppTitleHeader1'); \nvar editor = editorWrapper.data('object').editor;\n\n// var sequenceNo = skuid.page.params.sequenceNo;\n\n// var paymentSchModel = skuid.model.getModel('NewApplicationPS');\n\n// var paymentSchData = [];\n// paymentSchData = paymentSchModel.data;\n\n//var i = 0;\n//for(i=0;i&lt;paymentSchData.length;i++)\n//{\n//    paymentSchModel.updateRow(paymentSchData[i],'genesis__Sequence__c',i+1);\n//}\n\n//skuid.model.save([paymentSchModel]);</jsitem><jsitem location=\"inlinesnippet\" name=\"notToDisplay\" cachelocation=\"false\">var params = arguments[0],\n\t$ = skuid.$;\nreturn false;</jsitem><jsitem location=\"inlinesnippet\" name=\"reorder\" cachelocation=\"false\">var newAppParams = {};\nvar editorWrapper = $('#AppTitleHeader1'); \nvar editor = editorWrapper.data('object').editor;\n\nvar sequenceNo = skuid.page.params.sequenceNo;\n\nvar paymentSchModel = skuid.model.getModel('PaymentSchedule');\nvar applicationModel = skuid.model.getModel('application');\n\nvar paymentSchData = [];\npaymentSchData = paymentSchModel.data;\napplicationDataRow = applicationModel.data[0];\n\nvar i = 0;\nfor(i=0;i&lt;paymentSchData.length;i++)\n{\n    paymentSchModel.updateRow(paymentSchData[i],'genesis__Sequence__c',i+1);\n    // if(i === 0)\n    // {\n    //     applicationModel.updateRow(applicationDataRow,'genesis__Dealer_Payment_Date__c',paymentSchData[i].genesis__Start_Date__c);\n    // }\n}\n\nskuid.model.save([paymentSchModel]);\n//skuid.model.save([applicationModel]);</jsitem></javascript><css><cssitem location=\"staticresource\" name=\"CLSStyleSheetPack\" cachelocation=\"false\" url=\"\" namespace=\"genesisExtn\" filepath=\"cls-common.css\"/></css></resources><styles><styleitem type=\"background\" bgtype=\"none\"/></styles><interactions/></skuidpage>","skuid__Layout2__c":null,"skuid__Layout3__c":null,"skuid__Layout4__c":null,"skuid__Layout5__c":null},{"attributes":{"type":"skuid__Page__c","url":"/services/data/v36.0/sobjects/skuid__Page__c/a8n9E0000004E5MQAU"},"Id":"a8n9E0000004E5MQAU","Name":"AnyLeaseProductApplicationForm","skuid__Type__c":"Desktop","skuid__UniqueId__c":"ngUi_AnyLeaseProductApplicationForm","skuid__Module__c":"ngUi","skuid__Composer_Settings__c":null,"skuid__MasterPage__c":null,"skuid__MasterPage__r":null,"skuid__IsMaster__c":false,"skuid__Layout__c":"<skuidpage unsavedchangeswarning=\"\" personalizationmode=\"server\" showsidebar=\"false\" showheader=\"false\"><models><model id=\"GeneralLeaseCLProduct\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" type=\"\" sobject=\"clcommon__CL_Product__c\" datasource=\"salesforce\"><fields><field id=\"clcommon__Asset_Class__c\"/><field id=\"clcommon__Asset_Class__r.Name\"/><field id=\"Name\"/><field id=\"clcommon__Product_Name__c\"/></fields><conditions logic=\"\"><condition type=\"fieldvalue\" value=\"Commercial Secured\" enclosevalueinquotes=\"true\" field=\"clcommon__Asset_Class__r.Name\" operator=\"=\"/></conditions><actions/></model><model id=\"GeneralLeaseApplication\" limit=\"1\" query=\"false\" createrowifnonefound=\"false\" type=\"\" sobject=\"genesis__Applications__c\" datasource=\"salesforce\" doclone=\"\"><fields><field id=\"genesis__CL_Purpose__c\"/><field id=\"genesis__CL_Purpose__r.Name\"/><field id=\"genesis__Status__c\"/><field id=\"genesis__Expected_Close_Date__c\"/><field id=\"genesis__Maturity_Date__c\"/><field id=\"genesis__Participation_Date__c\"/><field id=\"genesis__Payment_Frequency__c\"/><field id=\"genesis__Financed_Amount__c\" overridemetadata=\"true\" ogdisplaytype=\"CURRENCY\" displaytype=\"CURRENCY\" precision=\"\" scale=\"\"/><field id=\"genesis__Product_Sub_Type__c\"/><field id=\"genesis__Sales_Division__c\"/><field id=\"genesis__Pricing_Method__c\"/><field id=\"genesis__Days_Convention__c\"/><field id=\"genesis__Expected_Start_Date__c\"/><field id=\"genesis__Company__c\"/><field id=\"genesis__Company__r.Name\"/><field id=\"genesis__Overall_Status__c\"/><field id=\"Support_Owner__c\"/><field id=\"Support_Owner__r.Name\"/><field id=\"genesis__Contact__c\"/><field id=\"genesis__Contact__r.Name\"/><field id=\"genesis__Account__c\"/><field id=\"genesis__Account__r.Name\"/><field id=\"genesis__Bank_Account_Number__c\"/><field id=\"genesis__Bank_Name__c\"/><field id=\"genesis_afford_rationale_purchase__c\"/><field id=\"genesis_Notes_To_SAF_Office_Staff__c\"/><field id=\"genesis_History_Background__c\"/><field id=\"genesis_Financials__c\"/><field id=\"genesis_Deal_Requirements_Pricing__c\"/><field id=\"genesis_Goods_Supplier__c\" overridemetadata=\"false\" ogdisplaytype=\"TEXTAREA\" displaytype=\"TEXTAREA\" defaultvaluetype=\"fieldvalue\"/><field id=\"genesis__Arrears__c\"/><field id=\"Owner.Username\"/><field id=\"Owner.Name\"/><field id=\"genesis_Summary_Recommendation__c\"/><field id=\"genesis__Term__c\" overridemetadata=\"true\" ogdisplaytype=\"DOUBLE\" displaytype=\"PICKLIST\" precision=\"\" scale=\"\" picklistsource=\"snippet\" defaultvaluetype=\"fieldvalue\" defaultValue=\"\" mergefield=\"Id\" enclosevalueinquotes=\"true\" snippet=\"Termdropdown\"><picklistentries/></field><field id=\"genesis__Expected_First_Payment_Date__c\" overridemetadata=\"false\" ogdisplaytype=\"DATE\" displaytype=\"DATE\" defaultvaluetype=\"fieldvalue\" defaultValue=\"\" enclosevalueinquotes=\"false\"/><field id=\"Id\"/><field id=\"Name\"/><field id=\"RecordTypeId\"/><field id=\"RecordType.Name\"/><field id=\"genesis__ID_Number__c\"/><field id=\"User__c\" overridemetadata=\"false\" ogdisplaytype=\"STRING\" displaytype=\"STRING\" defaultvaluetype=\"fieldvalue\" defaultValue=\"\"/><field id=\"genesis_ProposalOwner__c\" overridemetadata=\"false\" ogdisplaytype=\"REFERENCE\" displaytype=\"REFERENCE\" datasource=\"salesforce\" defaultvaluetype=\"fieldvalue\"><batchfields/></field><field id=\"genesis_ProposalOwner__r.Name\"/><field id=\"genesis_VAT__c\" overridemetadata=\"true\" ogdisplaytype=\"PERCENT\" displaytype=\"PERCENT\" precision=\"\" scale=\"\" readonly=\"false\"/><field id=\"genesis_VAT_Amount__c\" overridemetadata=\"true\" ogdisplaytype=\"CURRENCY\" displaytype=\"CURRENCY\" precision=\"\" scale=\"\"/><field id=\"genesis_Gross__c\" overridemetadata=\"true\" ogdisplaytype=\"CURRENCY\" displaytype=\"CURRENCY\" precision=\"\" scale=\"\"/><field id=\"VAT__c\"/><field id=\"genesis__Account__r.clcommon__Direct_Exposure__c\"/><field id=\"genesis__Account__r.clcommon__Direct_Proposed_Exposure__c\"/><field id=\"genesis__Account__r.clcommon__Indirect_Exposure__c\"/><field id=\"Introducer__c\"/><field id=\"Introducer1__c\"/><field id=\"Introducer1__r.Name\"/><field id=\"Total_Net_Asset_Cost__c\"/><field id=\"genesis__Net_Present_Value__c\" overridemetadata=\"true\" ogdisplaytype=\"DOUBLE\" displaytype=\"CURRENCY\" precision=\"\" scale=\"\"/><field id=\"genesis_Total_Deposit__c\"/><field id=\"genesis_Balance_Financed__c\"/><field id=\"genesis__Balloon_Payment__c\" overridemetadata=\"true\" ogdisplaytype=\"DOUBLE\" displaytype=\"CURRENCY\" precision=\"\" scale=\"\"/><field id=\"genesis_Repayment_Profile__c\"/><field id=\"geneisis_Document_Fee__c\"/><field id=\"genesis_Option_to_purchase_Fee__c\"/><field id=\"genesis_Yield__c\"/><field id=\"genesis_Vat_Deferral__c\"/><field id=\"genesis_VAT_Offset__c\" overridemetadata=\"false\" ogdisplaytype=\"PICKLIST\" displaytype=\"PICKLIST\" picklistsource=\"manual\" defaultvaluetype=\"fieldvalue\" defaultValue=\"3\"/><field id=\"genesis_Advance_Excluding_VAT_Deferral__c\" overridemetadata=\"true\" ogdisplaytype=\"CURRENCY\" displaytype=\"CURRENCY\" precision=\"\" scale=\"\"/><field id=\"genesis_Valuation__c\"/><field id=\"genesis_LTV__c\"/><field id=\"genesis_LTV_excluding_VAT_Deferral__c\"/><field id=\"genesis_Rationale__c\"/><field id=\"genesis_Guarantees__c\"/><field id=\"genesis_Proposed_Funder__c\"/><field id=\"genesis_Unapproved_Supplier__c\"/><field id=\"OwnerId\"/><field id=\"Term\" uionly=\"true\" displaytype=\"PICKLIST\" label=\"Term\" ogdisplaytype=\"TEXT\" picklistsource=\"snippet\" snippet=\"dropdown\" defaultvaluetype=\"fieldvalue\"/><field id=\"Customer funded exposure\" uionly=\"true\" displaytype=\"TEXT\" label=\"Customer funded exposure\"/><field id=\"Customer unfunded exposure\" uionly=\"true\" displaytype=\"TEXT\" label=\"Customer unfunded exposure\"/><field id=\"genesis_Proposed_Funder_Name__c\"/><field id=\"genesis_Customer_funded_exposure__c\"/><field id=\"genesis_Customer_unfunded_exposure__c\"/><field id=\"genesis_Linked_Exposure__c\"/><field id=\"genesis_Total_Exposure__c\"/><field id=\"TotalExposure\" uionly=\"true\" displaytype=\"FORMULA\" label=\"Total Exposure\" ogdisplaytype=\"TEXT\" readonly=\"true\" returntype=\"CURRENCY\" precision=\"9\" scale=\"2\"><formula>{{genesis_Customer_funded_exposure__c}}+{{genesis_Customer_unfunded_exposure__c}}+{{genesis_Linked_Exposure__c}}</formula></field><field id=\"BalanceFinanced\" uionly=\"true\" displaytype=\"FORMULA\" label=\"Balance Financed\" ogdisplaytype=\"TEXT\" precision=\"9\" scale=\"2\" readonly=\"true\" returntype=\"CURRENCY\"><formula>{{genesis_Gross__c}}-{{genesis_Total_Deposit__c}}</formula></field><field id=\"genesis__CL_Product__r.clcommon__Product_Name__c\"/><field id=\"genesis__Description__c\" overridemetadata=\"true\" ogdisplaytype=\"TEXTAREA\" displaytype=\"TEXTAREA\" length=\"255\"/><field id=\"Urgent_Flag__c\"/><field id=\"Total_VAT__c\"/><field id=\"Total_Gross_Asset_Cost__c\"/><field id=\"SAF_VAT_UI\" uionly=\"true\" displaytype=\"FORMULA\" label=\"VAT Amount\" ogdisplaytype=\"TEXT\" readonly=\"true\" returntype=\"CURRENCY\" precision=\"9\" scale=\"2\"><formula>IF({{VAT__c}}=='Exempt',0.0,({{genesis__Financed_Amount__c}} * {{VAT__c}})/100)</formula></field><field id=\"SAF_Gross\" uionly=\"true\" displaytype=\"FORMULA\" label=\"Proposed Total Asset Cost\" ogdisplaytype=\"TEXT\" readonly=\"true\" returntype=\"CURRENCY\" precision=\"9\" scale=\"2\"><formula>VALUE({{genesis__Financed_Amount__c}})+VALUE({{VAT_Amount_New__c}})</formula></field><field id=\"SAF_LTV_UI\" uionly=\"true\" displaytype=\"FORMULA\" label=\"LTV\" ogdisplaytype=\"TEXT\" readonly=\"true\" returntype=\"PERCENT\" precision=\"9\" scale=\"2\"><formula>{{genesis_Balance_Finance__c}}/{{genesis_Valuation__c}}*100</formula></field><field id=\"SAF_LTV excluding VAT Deferral\" uionly=\"true\" displaytype=\"FORMULA\" label=\"LTV excluding VAT Deferral\" ogdisplaytype=\"TEXT\" readonly=\"true\" returntype=\"PERCENT\" precision=\"9\" scale=\"2\"><formula>{{SAF_Advance Excluding VAT Deferral_UI}}/{{genesis_Valuation__c}}*100</formula></field><field id=\"SAF_Advance Excluding VAT Deferral_UI\" uionly=\"true\" displaytype=\"FORMULA\" ogdisplaytype=\"TEXT\" readonly=\"true\" returntype=\"CURRENCY\" precision=\"9\" scale=\"2\"><formula>{{Balance_finance_Hirepurchase__c}}-{{genesis_Vat_Deferral__c}}</formula></field><field id=\"genesis__CL_Product__c\"/><field id=\"genesis__CL_Product__r.Name\"/><field id=\"Balance_finance_Hirepurchase__c\"/><field id=\"genesis_Maturity_date__c\"/><field id=\"Latest_Underwriter_Quality__c\"/><field id=\"Balance_Financed_less_Advance_Rental__c\"/><field id=\"genesis_Balance_Finance__c\"/><field id=\"Last_Underwriter__c\"/><field id=\"Last_Underwriter__r.Name\"/><field id=\"VAT_Amount_New__c\"/><field id=\"VAT_Deferral_Type__c\"/><field id=\"Period_of_Deferral_Months__c\"/><field id=\"Balance_Financed_less_Advance_Rental_1__c\"/></fields><conditions><condition type=\"fieldvalue\" value=\"\" field=\"Id\" operator=\"=\" novaluebehavior=\"\" enclosevalueinquotes=\"true\" state=\"filterableoff\" inactive=\"true\" name=\"Id\"/></conditions><actions><action><actions><action type=\"save\"/></actions><events><event>models.saved</event><event>row.updated</event></events></action></actions></model><model id=\"contract\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"cllease__Lease_Account__c\" orderby=\"\"><fields><field id=\"Name\"/><field id=\"Id\"/><field id=\"cllease__application_number__c\"/><field id=\"cllease__Application_Date__c\"/></fields><conditions><condition type=\"blank\" value=\"null\" field=\"Application__c\" fieldtargetobjects=\"genesis__Applications__c\" operator=\"!=\" enclosevalueinquotes=\"false\"/><condition type=\"param\" value=\"id\" field=\"Application__r.Id\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"noquery\"/></conditions><actions/></model><model id=\"application\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"genesis__Applications__c\"><fields><field id=\"Name\"/><field id=\"Id\"/></fields><conditions><condition type=\"param\" value=\"id\" field=\"Id\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/></conditions><actions/></model></models><components><wrapper uniqueid=\"PurchaseCREApplicationDetails\"><components><basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"GeneralLeaseApplication\" buttonposition=\"\" uniqueid=\"sk-2RcMWz-443\" mode=\"readonly\" layout=\"\"><columns><column width=\"100%\"><sections><section title=\"Product Information\" collapsible=\"no\"><fields><columns layoutmode=\"fixed\"><column width=\"100%\"><sections><section title=\"New Section\" collapsible=\"no\" showheader=\"false\"><fields><field id=\"genesis__CL_Product__c\" valuehalign=\"\" type=\"\" optionsource=\"\" pagesize=\"5\" displaytemplate=\"{{clcommon__Product_Name__c}} {{clcommon__Asset_Class__c}}\" searchtemplate=\"{{clcommon__Product_Name__c}} {{clcommon__Asset_Class__c}}\" tokenizesearch=\"true\" cssclass=\"clProduct\"><searchfields><searchfield query=\"true\" return=\"true\" show=\"true\" field=\"clcommon__Product_Name__c\" operator=\"contains\"/></searchfields><filters/><label>Product Name</label><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/></field><field id=\"genesis__Description__c\" valuehalign=\"\" type=\"\"><label>Proposal Description</label></field><field id=\"genesis_ProposalOwner__c\" valuehalign=\"\" type=\"\"><label>Sales Owner</label><filters><filter type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" field=\"Profile.Name\" value=\"SAF-Sales\"/></filters></field><field id=\"Support_Owner__c\" valuehalign=\"\" type=\"\"><label>Sales Support Owner</label><filters><filter type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" field=\"Profile.Name\" value=\"SAF-SalesSupport\"/></filters></field><field id=\"genesis__Expected_Start_Date__c\" valuehalign=\"\" type=\"\"><label>Proposed Drawdown date</label></field><field id=\"Urgent_Flag__c\" valuehalign=\"\" type=\"\"/></fields></section></sections></column></columns></fields><renderconditions logictype=\"and\"/></section></sections><renderconditions logictype=\"and\"/></column><column width=\"100%\"><sections><section title=\"Lease Information\" collapsible=\"no\"><fields><columns layoutmode=\"responsive\" columngutter=\"4px\" rowgutter=\"4px\"><column ratio=\"1\" minwidth=\"300px\" behavior=\"flex\" verticalalign=\"top\"><sections><section title=\"New Section\" collapsible=\"no\" showheader=\"false\"><fields><field id=\"genesis__Account__c\" valuehalign=\"\" type=\"\" readonly=\"false\"><label>Customer</label></field><field id=\"Introducer1__c\" valuehalign=\"\" type=\"\"><filters><filter type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" field=\"Type\" fieldtargetobjects=\"Account\" value=\"Broker\"/></filters></field><field id=\"genesis__Financed_Amount__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" cssclass=\"decimalOnly\"><label>Proposed Net Asset Cost</label></field><field id=\"VAT_Amount_New__c\" valuehalign=\"\" type=\"\"><label>VAT Amount</label></field><field id=\"VAT__c\" valuehalign=\"\" type=\"\"><label>VAT Applicable</label></field><field id=\"SAF_Gross\" decimalplaces=\"\" valuehalign=\"\" type=\"\"/><field id=\"Balance_finance_Hirepurchase__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\"><label>Balance Financed</label></field><field id=\"Balance_Financed_less_Advance_Rental_1__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\"><label>Balance Financed less Advance Rental</label></field><field id=\"VAT_Deferral_Type__c\"/><field id=\"Period_of_Deferral_Months__c\"/><field id=\"genesis_Vat_Deferral__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" cssclass=\"decimalOnly\"/><field id=\"genesis_VAT_Offset__c\" valuehalign=\"\" type=\"\"/><field id=\"SAF_Advance Excluding VAT Deferral_UI\" decimalplaces=\"\" valuehalign=\"\" type=\"\"><label>Advance Excluding VAT Deferral</label></field><field id=\"genesis__Term__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" snippet=\"dropdown\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/></field><field id=\"genesis__Payment_Frequency__c\" valuehalign=\"\" type=\"\"><label>Payments</label></field><field id=\"genesis__Balloon_Payment__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" cssclass=\"decimalOnly\"/><field id=\"genesis_Yield__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\"/><field id=\"genesis_Valuation__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" cssclass=\"decimalOnly\"/><field id=\"genesis_History_Background__c\" valuehalign=\"\" type=\"\" displayrows=\"5\" maxdisplaycharacters=\"\"><label>Background/Proposed Deal</label></field><field id=\"genesis_Rationale__c\" valuehalign=\"\" type=\"\" displayrows=\"5\"/><field id=\"genesis_Financials__c\" valuehalign=\"\" type=\"\" displayrows=\"5\" maxdisplaycharacters=\"\"/><field id=\"genesis_afford_rationale_purchase__c\" valuehalign=\"\" type=\"\" displayrows=\"5\" maxdisplaycharacters=\"\"><label>Affordability</label></field><field id=\"genesis_Guarantees__c\" valuehalign=\"\" type=\"\" displayrows=\"5\" maxdisplaycharacters=\"\"/><field id=\"genesis_Proposed_Funder__c\" valuehalign=\"\" type=\"\"/><field id=\"genesis_Proposed_Funder_Name__c\"/><field id=\"genesis_Unapproved_Supplier__c\" showhelp=\"true\" valuehalign=\"\" type=\"\"/><field id=\"Last_Underwriter__c\"/></fields><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"GeneralLeaseApplication\" sourcetype=\"snippet\" sourcesnippet=\"notToDisplay\"/></renderconditions></section></sections><renderconditions logictype=\"and\"/></column></columns></fields><renderconditions logictype=\"and\"/></section></sections></column></columns><renderconditions logictype=\"and\"/></basicfieldeditor><basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"contract\" buttonposition=\"\" uniqueid=\"sk-2rTvxL-206\" mode=\"readonly\"><columns><column width=\"100%\"><sections><section title=\"Agreement Information\" collapsible=\"no\"><fields><field id=\"Name\" valuehalign=\"\" type=\"\"/><field id=\"cllease__application_number__c\" valuehalign=\"\" type=\"\"/><field id=\"cllease__Application_Date__c\" showhelp=\"true\" valuehalign=\"\" type=\"\" cssclass=\"datepickerOnly\"/></fields><renderconditions logictype=\"and\"/></section></sections></column></columns><renderconditions logictype=\"and\"/></basicfieldeditor><includepanel type=\"skuid\" uniqueid=\"sk-2e9bjb-292\" pagename=\"Fees__clone\" module=\"ngUi\" querystring=\"?id={{{$Param.id}}}&amp;mode={{{$Param.mode}}}\"/></components><styles><styleitem type=\"background\" bgtype=\"none\"/><styleitem type=\"border\"/><styleitem type=\"size\"/></styles><renderconditions logictype=\"and\"/></wrapper></components><resources><labels/><javascript><jsitem location=\"inline\" name=\"loadModels\" cachelocation=\"false\" url=\"\">(function(skuid){\n\tvar $ = skuid.$;\n\t$(document.body).one('pageload',function(){\n\t  \n\t     // Allow Number Only Char\n\t        $(document).on( \"keypress\",\".numberOnly input\", function (e) { \n    \t            var allowedChars = '0123456789.';\n                    function contains(stringValue, charValue) {\n                        return stringValue.indexOf(charValue) &gt; -1;\n                    }\n                    var invalidKey = e.key.length === 1 &amp;&amp; !contains(allowedChars, e.key)\n                            || e.key === '.';\n                    invalidKey &amp;&amp; e.preventDefault();\n            });\n            \n           // Allow Decimal Only including single dot\n\t        $(document).on( \"keypress\",\".decimalOnly input\", function (e) { \n    \t            var allowedChars = '0123456789.';\n                    function contains(stringValue, charValue) {\n                        return stringValue.indexOf(charValue) &gt; -1;\n                    }\n                    var invalidKey = e.key.length === 1 &amp;&amp; !contains(allowedChars, e.key)\n                            || e.key === '.' &amp;&amp; contains(e.target.value, '.');\n                    invalidKey &amp;&amp; e.preventDefault();\n            });\n    \t \n    \t // Prevent Paste  \n    \t  $(document).on( \"paste\",\".numberOnly input\", function (evt) { \n    \t        evt.preventDefault();\n    \t    });\n    \t    \n    \t    $(document).on( \"keydown\",\".datepickerOnly input\", function (evt) { \n    \t        evt.preventDefault();\n    \t    });\n    \t    \n    \t    \n\tvar paramId = skuid.page.params.id;\n\t    var pageName = skuid.page.params.page;\n\t    if(pageName &amp;&amp; pageName == 'AddDealsToPackage'){\n\t        var newRow = skuid.model.getModel('GeneralLeaseApplication').createRow({});\n\t    } else{\n    \t    if(paramId){\n        \t    queryApplication(paramId);\n        \t}else{\n        \t    var newRow = skuid.model.getModel('GeneralLeaseApplication').createRow({});\n        \t}\n\t    }\n\t});\n})(skuid);\n\nfunction queryApplication(id){\n    var applicationModel = skuid.model.getModel('GeneralLeaseApplication');\n    var appIdCondition = applicationModel.getConditionByName('AppId');\n    applicationModel.setCondition(appIdCondition,id);\n\n    skuid.model.updateData([applicationModel],function(){});\n}\n</jsitem><jsitem location=\"inlinesnippet\" name=\"fieldsRenderMode\" cachelocation=\"false\">var field = arguments[0],\n    value = arguments[1];\nvar renderMode = skuid.page.params.mode;\nif(renderMode &amp;&amp; renderMode == \"read\"){\n    skuid.ui.fieldRenderers[field.metadata.displaytype].read(field, value);\n}else{\n    skuid.ui.fieldRenderers[field.metadata.displaytype].edit(field, value);\n}\n</jsitem><jsitem location=\"inlinesnippet\" name=\"getIncludedPageData\" cachelocation=\"false\" url=\"\">var params = arguments[0],\n\t$ = skuid.$;\nvar productRow = skuid.model.getModel('GeneralLeaseCLProduct').getFirstRow();\nvar applicationModel = skuid.model.getModel('GeneralLeaseApplication');\nif(applicationModel &amp;&amp; applicationModel.data &amp;&amp; applicationModel.data[0] &amp;&amp; productRow){\n    applicationModel.data[0].genesis__CL_Product__c = productRow.Id;\n}\nvar result = {\n    'genesis__Applications__c' : applicationModel,\n};\n\nreturn result;\n\n</jsitem><jsitem location=\"inlinesnippet\" name=\"LoadQueueUsers\" cachelocation=\"false\" url=\"\">var field = arguments[0],\n$ = skuid.$;\nvar productRow = skuid.model.getModel('GeneralLeaseCLProduct').getFirstRow();\nvar applicationModel = skuid.model.getModel('GeneralLeaseApplication');\n\nvar appModel = skuid.model.getModel('CommonApplicationModel');\nvar appRow = appModel.data[0];\nvar ret = sforce.apex.execute(\"LoaduserTeam\",\"loadQueue\",{AppId:appRow.Id});\nif (ret!==null)\n{\nvar appGnerealRow = applicationModel.getFirstRow();\n//applicationModel.updateRow(appGnerealRow,Team_users,ret);\n//applicationModel.Save();\nvar pikVal = [];\n\nfor(var a=0;a&lt;ret.length;a++){\n    pikVal.push({label: ret[a], value: ret[a]});\n   //       picklistEntries.push({ value:ret[a].Name , label:ret[a].Name, defaultValue: false, active: true  });\n    }\n    console.log('========='+pikVal);\n    return pikVal;\n}\n//skuid.ui.fieldRenderers[field.metadata.displaytype][field.mode](field,value);</jsitem><jsitem location=\"inlinesnippet\" name=\"Termdropdown\" cachelocation=\"false\">var params = arguments[0],\n$ = skuid.$;\nvar pikVal = [];\n\n    for(var a=0;a&lt;84;a++)\n    {\n        pikVal.push({label: a+1, value: a+1});\n    }\n    return pikVal;</jsitem></javascript><css/></resources><styles><styleitem type=\"background\" bgtype=\"none\"/></styles><interactions/></skuidpage>","skuid__Layout2__c":null,"skuid__Layout3__c":null,"skuid__Layout4__c":null,"skuid__Layout5__c":null},{"attributes":{"type":"skuid__Page__c","url":"/services/data/v36.0/sobjects/skuid__Page__c/a8n9E0000004E5gQAE"},"Id":"a8n9E0000004E5gQAE","Name":"SAF_AnyLeaseProductApplicationForm","skuid__Type__c":"Desktop","skuid__UniqueId__c":"ngUi_SAF_AnyLeaseProductApplicationForm","skuid__Module__c":"ngUi","skuid__Composer_Settings__c":null,"skuid__MasterPage__c":null,"skuid__MasterPage__r":null,"skuid__IsMaster__c":false,"skuid__Layout__c":"<skuidpage unsavedchangeswarning=\"\" personalizationmode=\"server\" showsidebar=\"false\" showheader=\"false\"><models><model id=\"GeneralLeaseCLProduct\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" type=\"\" sobject=\"clcommon__CL_Product__c\" datasource=\"salesforce\" doclone=\"\"><fields><field id=\"clcommon__Asset_Class__c\"/><field id=\"clcommon__Asset_Class__r.Name\"/><field id=\"Name\"/><field id=\"clcommon__Product_Name__c\"/></fields><conditions><condition type=\"fieldvalue\" value=\"Purchase\" enclosevalueinquotes=\"true\" field=\"clcommon__Product_Name__c\" operator=\"=\" state=\"\"/><condition type=\"fieldvalue\" value=\"Commercial Secured\" enclosevalueinquotes=\"true\" field=\"clcommon__Asset_Class__r.Name\" operator=\"=\"/></conditions><actions/></model><model id=\"GeneralLeaseApplication\" limit=\"1\" query=\"false\" createrowifnonefound=\"false\" type=\"\" sobject=\"genesis__Applications__c\" datasource=\"salesforce\" doclone=\"\"><fields><field id=\"genesis__CL_Purpose__c\"/><field id=\"genesis__CL_Purpose__r.Name\"/><field id=\"genesis__Status__c\"/><field id=\"genesis__Expected_Close_Date__c\"/><field id=\"genesis__Maturity_Date__c\" overridemetadata=\"true\" ogdisplaytype=\"DATE\" displaytype=\"FORMULA\" readonly=\"true\" returntype=\"TEXT\"><formula>ADDMONTHS(genesis__Expected_First_Payment_Date__c, genesis__Term__c )</formula></field><field id=\"genesis__Participation_Date__c\"/><field id=\"genesis__Payment_Frequency__c\"/><field id=\"genesis__Financed_Amount__c\" overridemetadata=\"true\" ogdisplaytype=\"CURRENCY\" displaytype=\"CURRENCY\" precision=\"16\" scale=\"\"/><field id=\"genesis__Product_Sub_Type__c\" overridemetadata=\"false\" ogdisplaytype=\"PICKLIST\" displaytype=\"PICKLIST\" picklistsource=\"manual\" defaultvaluetype=\"fieldvalue\" defaultValue=\"FINANCE LEASE\"><picklistentries/></field><field id=\"genesis__Sales_Division__c\" overridemetadata=\"true\" ogdisplaytype=\"PICKLIST\" displaytype=\"PICKLIST\" picklistsource=\"manual\" defaultvaluetype=\"fieldvalue\" defaultValue=\"DIRECT\"><picklistentries><entry value=\"DEALER\" label=\"DEALER\"/><entry value=\"DIRECT\" label=\"DIRECT\"/><entry value=\"BROKER\" label=\"BROKER\"/></picklistentries></field><field id=\"genesis__Pricing_Method__c\" overridemetadata=\"true\" ogdisplaytype=\"PICKLIST\" displaytype=\"PICKLIST\" picklistsource=\"manual\" defaultvaluetype=\"fieldvalue\" defaultValue=\"MANUAL\"/><field id=\"genesis__Days_Convention__c\"/><field id=\"genesis__Expected_Start_Date__c\" overridemetadata=\"true\" ogdisplaytype=\"DATE\" displaytype=\"DATE\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" model=\"RunningUser\" enclosevalueinquotes=\"false\" mergefield=\"cllease__Current_Branch_s_System_Date__c\"/><field id=\"genesis__Company__c\" overridemetadata=\"true\" ogdisplaytype=\"REFERENCE\" displaytype=\"REFERENCE\" datasource=\"salesforce\" readonly=\"false\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" targetobjects=\"genesis__Company__c\" model=\"CompanyModel\" enclosevalueinquotes=\"true\" mergefield=\"Id\"><batchfields/></field><field id=\"genesis__Company__r.Name\" overridemetadata=\"true\" ogdisplaytype=\"STRING\" displaytype=\"TEXT\" defaultvaluetype=\"fieldvalue\" defaultValue=\"Simply Asset Finance\"/><field id=\"genesis__Account__c\"/><field id=\"genesis__Account__r.Name\"/><field id=\"genesis__Overall_Status__c\"/><field id=\"OwnerId\"/><field id=\"Owner.Name\"/><field id=\"genesis__Payment_Amount__c\"/><field id=\"genesis__Fees_Amount__c\"/><field id=\"genesis__Balloon_Payment__c\"/><field id=\"genesis__Gross_Annual_Income__c\"/><field id=\"Support_Owner__c\"/><field id=\"Support_Owner__r.Name\"/><field id=\"genesis__Loan_Amount__c\"/><field id=\"genesis_Deposit__c\"/><field id=\"geneisis_Document_Fee__c\"/><field id=\"genesis_Option_to_purchase_Fee__c\"/><field id=\"genesis_ProposalName__c\" overridemetadata=\"false\" ogdisplaytype=\"TEXTAREA\" displaytype=\"TEXTAREA\" length=\"\"/><field id=\"genesis__Yield__c\"/><field id=\"genesis_NetYieldToSAF__c\"/><field id=\"SAF_VAT_UI\" uionly=\"true\" displaytype=\"FORMULA\" label=\"VAT Amount\" ogdisplaytype=\"TEXT\" precision=\"9\" scale=\"2\" readonly=\"true\" returntype=\"DOUBLE\" defaultvaluetype=\"fieldvalue\"><formula>IF({{VAT__c}}=='Exempt',0.0,({{genesis__Financed_Amount__c}} * {{VAT__c}})/100)</formula></field><field id=\"genesis_VAT__c\" overridemetadata=\"true\" ogdisplaytype=\"PERCENT\" displaytype=\"PERCENT\" precision=\"\" scale=\"\" readonly=\"false\" defaultvaluetype=\"fieldvalue\" defaultValue=\"20\"/><field id=\"genesis__Expected_First_Payment_Date__c\" overridemetadata=\"true\" ogdisplaytype=\"DATE\" displaytype=\"DATE\" readonly=\"false\" returntype=\"DATETIME\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" mergefield=\"genesis__Expected_Start_Date__c\" userinfotype=\"userid\" model=\"GeneralLeaseApplication\" enclosevalueinquotes=\"false\"><formula>FORMAT_DATE('dd/mm/yyyy',{{genesis__Expected_Start_Date__c}})</formula></field><field id=\"genesis__Term__c\" overridemetadata=\"true\" ogdisplaytype=\"DOUBLE\" displaytype=\"PICKLIST\" precision=\"\" scale=\"\" picklistsource=\"snippet\" snippet=\"Termdropdown\"/><field id=\"Name\"/><field id=\"genesis_VAT_Amount__c\" overridemetadata=\"true\" ogdisplaytype=\"CURRENCY\" displaytype=\"DOUBLE\" precision=\"\" scale=\"\" readonly=\"true\"/><field id=\"genesis_Gross__c\" overridemetadata=\"true\" ogdisplaytype=\"CURRENCY\" displaytype=\"DOUBLE\" precision=\"\" scale=\"\"/><field id=\"genesis_ProposalOwner__c\" overridemetadata=\"false\" ogdisplaytype=\"REFERENCE\" displaytype=\"REFERENCE\" datasource=\"salesforce\" defaultvaluetype=\"fieldvalue\"><batchfields/></field><field id=\"genesis_ProposalOwner__r.Name\"/><field id=\"Gross\" uionly=\"true\" displaytype=\"FORMULA\" ogdisplaytype=\"TEXT\" readonly=\"true\" returntype=\"DOUBLE\" precision=\"9\" scale=\"2\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" userinfotype=\"userid\" model=\"GeneralLeaseCLProduct\" enclosevalueinquotes=\"false\" mergefield=\"Id\" datasource=\"salesforce\"><formula>VALUE({{genesis__Financed_Amount__c}})+VALUE({{SAF_VAT_UI}})</formula><batchfields/></field><field id=\"VAT Rate\" uionly=\"true\" displaytype=\"FORMULA\" ogdisplaytype=\"TEXT\" precision=\"9\" scale=\"2\" defaultvaluetype=\"fieldvalue\" defaultValue=\"20\" label=\"Vat Rate\" readonly=\"true\" returntype=\"TEXT\"><formula>{{$Label.VAT_Applicable}}</formula></field><field id=\"VAT__c\"/><field id=\"Support_Owner__r.Profile.Name\"/><field id=\"genesis_ProposalOwner__r.ProfileId\"/><field id=\"genesis_ProposalOwner__r.Profile.Name\"/><field id=\"genesis__Description__c\" overridemetadata=\"false\" ogdisplaytype=\"TEXTAREA\" displaytype=\"TEXTAREA\" defaultvaluetype=\"modelmerge\" defaultValue=\"\" model=\"GeneralLeaseApplication\" enclosevalueinquotes=\"true\" mergefield=\"genesis_ProposalName__c\"/></fields><conditions><condition type=\"fieldvalue\" value=\"\" field=\"Id\" operator=\"=\" novaluebehavior=\"\" enclosevalueinquotes=\"true\" state=\"filterableoff\" inactive=\"true\" name=\"Id\"/></conditions><actions><action><actions><action type=\"updateRow\" fieldmodel=\"GeneralLeaseApplication\" affectedrows=\"context\" field=\"genesis__Product_Sub_Type__c\" enclosevalueinquotes=\"true\" value=\"FINANCE LEASE\"/></actions><events><event>models.saved</event></events></action></actions></model><model id=\"CompanyModel\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"genesis__Company__c\" doclone=\"\"><fields><field id=\"Name\"/><field id=\"genesis__Company_ID__c\"/><field id=\"Id\"/></fields><conditions/><actions/></model><model id=\"RunningUser\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"User\"><fields><field id=\"Username\"/><field id=\"Name\"/><field id=\"FirstName\"/><field id=\"LastName\"/><field id=\"cllease__Current_Branch_s_System_Date__c\"/></fields><conditions><condition type=\"userinfo\" value=\"\" field=\"Id\" operator=\"=\" enclosevalueinquotes=\"true\" userinfotype=\"userid\"/></conditions><actions/></model></models><components><wrapper uniqueid=\"PurchaseCREApplicationDetails\"><components><basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"GeneralLeaseApplication\" buttonposition=\"\" uniqueid=\"sk-2RcMWz-443\" mode=\"edit\" layout=\"\"><columns layoutmode=\"fixed\"><column width=\"100%\"><sections><section title=\"Information\" collapsible=\"no\"><fields><columns layoutmode=\"responsive\" columngutter=\"4px\" rowgutter=\"4px\"><column ratio=\"1\" minwidth=\"300px\" behavior=\"flex\" verticalalign=\"top\"><sections><section title=\"New Section\" collapsible=\"no\" showheader=\"false\"><fields><field id=\"genesis_ProposalName__c\" valuehalign=\"\" type=\"\" displayrows=\"3\" maxdisplaycharacters=\"1000\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/></field><field id=\"genesis__Sales_Division__c\" showhelp=\"true\" valuehalign=\"\" type=\"\" snippet=\"\" required=\"true\" addnoneoption=\"false\" nonelabel=\"Direct\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions logictype=\"and\"/></field><field id=\"genesis__Payment_Frequency__c\" valuehalign=\"\" type=\"CUSTOM\" snippet=\"fieldsRenderMode\" required=\"true\"/></fields></section></sections></column><column ratio=\"1\" minwidth=\"300px\" behavior=\"flex\" verticalalign=\"top\"><sections><section title=\"New Section\" collapsible=\"no\" showheader=\"false\"><fields><field id=\"genesis__Term__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" required=\"true\" cssclass=\"numberOnly\"><label>Proposed Term</label><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/></field><field id=\"genesis_ProposalOwner__c\" valuehalign=\"\" type=\"\" optionsource=\"\" pagesize=\"5\"><filters><filter type=\"fieldvalue\" operator=\"=\" field=\"Profile.Name\" value=\"SAF-Sales\" mergefield=\"ProfileId\" novaluebehavior=\"deactivate\" fieldtargetobjects=\"Profile\" enclosevalueinquotes=\"true\"/></filters><searchfields/></field><field id=\"Support_Owner__c\" valuehalign=\"\" type=\"\"><filters><filter type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" field=\"Profile.Name\" value=\"SAF-SalesSupport\"/></filters><label>Sales Support Owner</label></field></fields></section></sections></column></columns><columns layoutmode=\"fixed\"><column width=\"100%\"><sections><section title=\"New Section\" collapsible=\"no\" showheader=\"false\"><fields/></section></sections></column></columns><columns layoutmode=\"fixed\"><column width=\"100%\"><sections><section title=\"New Section\" collapsible=\"no\" showheader=\"false\"><fields/></section></sections></column></columns><columns layoutmode=\"fixed\"><column width=\"50%\"><sections><section title=\"New Section\" collapsible=\"no\" showheader=\"false\"><fields><field id=\"genesis__Financed_Amount__c\" decimalplaces=\"2\" valuehalign=\"\" type=\"\" required=\"true\" snippet=\"fieldsRenderMode\" cssclass=\"decimalOnly\"><label>Net Amount</label><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions logictype=\"and\"/></field><field id=\"SAF_VAT_UI\" valuehalign=\"\" type=\"\" decimalplaces=\"\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/></field></fields></section></sections></column><column width=\"50%\"><sections><section title=\"New Section\" collapsible=\"no\" showheader=\"false\"><fields><field id=\"VAT__c\" valuehalign=\"\" type=\"\"/><field id=\"Gross\" valuehalign=\"\" type=\"\" decimalplaces=\"\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/><label>Gross</label></field></fields></section></sections></column></columns></fields></section></sections></column></columns><renderconditions logictype=\"and\"/></basicfieldeditor></components><styles><styleitem type=\"background\"/><styleitem type=\"border\"/><styleitem type=\"size\"/></styles></wrapper></components><resources><labels/><javascript><jsitem location=\"inline\" name=\"loadModels\" cachelocation=\"false\" url=\"\">(function(skuid){\n\tvar $ = skuid.$;\n\t$(document.body).one('pageload',function(){\n\t  \n    \t    $(document).on( \"keydown\",\".datepickerOnly input\", function (evt) { \n    \t        evt.preventDefault();\n    \t    });\n    \t\n\t    var paramId = skuid.page.params.id;\n\t    var pageName = skuid.page.params.page;\n\t    if(pageName &amp;&amp; pageName == 'AddDealsToPackage'){\n\t        var newRow = skuid.model.getModel('GeneralLeaseApplication').createRow({});\n\t    } else{\n    \t    if(paramId){\n        \t    queryApplication(paramId);\n        \t}else{\n        \t    var newRow = skuid.model.getModel('GeneralLeaseApplication').createRow({});\n        \t}\n\t    }\n\t});\n})(skuid);\n\nfunction queryApplication(id){\n    var applicationModel = skuid.model.getModel('GeneralLeaseApplication');\n    var appIdCondition = applicationModel.getConditionByName('AppId');\n    applicationModel.setCondition(appIdCondition,id);\n    \n    skuid.model.updateData([applicationModel],function(){});\n}</jsitem><jsitem location=\"inlinesnippet\" name=\"fieldsRenderMode\" cachelocation=\"false\">var field = arguments[0],\n    value = arguments[1];\nvar renderMode = skuid.page.params.mode;\nif(renderMode &amp;&amp; renderMode == \"read\"){\n    skuid.ui.fieldRenderers[field.metadata.displaytype].read(field, value);\n}else{\n    skuid.ui.fieldRenderers[field.metadata.displaytype].edit(field, value);\n}\n</jsitem><jsitem location=\"inlinesnippet\" name=\"getIncludedPageData\" cachelocation=\"false\" url=\"\">var params = arguments[0],\n\t$ = skuid.$;\nvar productRow = skuid.model.getModel('GeneralLeaseCLProduct').getFirstRow();\nvar applicationModel = skuid.model.getModel('GeneralLeaseApplication');\nif(applicationModel &amp;&amp; applicationModel.data &amp;&amp; applicationModel.data[0] &amp;&amp; productRow){\n    applicationModel.data[0].genesis__CL_Product__c = productRow.Id;\n}\nvar result = {\n    'genesis__Applications__c' : applicationModel,\n};\n\nreturn result;\n\n</jsitem><jsitem location=\"inlinesnippet\" name=\"VATCalc\" cachelocation=\"false\">var params = arguments[0],\n\t$ = skuid.$;\nvar VATAmount;\nvar model = skuid.model.getModel('GeneralLeaseApplication'),\nrow = model.getFirstRow();\nVATAmount = (row.genesis__Financed_Amount__c *20)/100;\nmodel.updateRow(row, 'SAF_VAT_UI', VATAmount);</jsitem><jsitem location=\"inlinesnippet\" name=\"proposalOwnerFilter\" cachelocation=\"false\">var $ = skuid.$;\nvar RecordTypeModel = skuid.$M('OpportunityRecordTypes');\nvar OpportunitiesModel = skuid.$M('Opportunity');\nvar recordTypeIdCondition = OpportunitiesModel.getConditionByName('RecordTypeId');\nvar validRecordTypeIds = {};\nvar selectedRecordTypeId = recordTypeIdCondition.value;\nif (!selectedRecordTypeId){\n   // If we don't have a selected Record Type Id,\n   // then ALL Record Type Ids are valid\n   $.each(RecordTypeModel.data,function(){\n      validRecordTypeIds[this.Id]=1;\n   });\n} else {\n // Otherwise, only the SELECTED Record Type Id is valid\n validRecordTypeIds[selectedRecordTypeId]=1;\n}\nvar filterItems = [];\nvar validEntryValues = {};\nvar d = skuid.utils.getAPIDescribeLayout('Opportunity');\n$.each(d.recordTypeMappings,function(i,rtm){\n   if (rtm.recordTypeId in validRecordTypeIds) {\n       $.each(rtm.picklistsForRecordType,function(j,picklist){\n          if (picklist.picklistName==='StageName'){\n              $.each(picklist.picklistValues,function(k,pv){\n                  if (pv.active==='true'){\n                      validEntryValues[pv.value]=1;\n                  }\n              });\n              // All we care about is the StageName picklist\n              return false;\n          }\n       });\n   }\n});\n$.each(OpportunitiesModel.getField('StageName').picklistEntries,function(i,pe){\n  if (pe.active &amp;&amp; (pe.value in validEntryValues)) {\n      filterItems.push(pe);\n  }\n});\nreturn filterItems;</jsitem><jsitem location=\"inlinesnippet\" name=\"Termdropdown\" cachelocation=\"false\">var params = arguments[0],\n$ = skuid.$;\nvar pikVal = [];\n\n    for(var a=0;a&lt;84;a++)\n    {\n        pikVal.push({label: a+1, value: a+1});\n    }\n    return pikVal;</jsitem></javascript><css/></resources><styles><styleitem type=\"background\" bgtype=\"none\"/></styles></skuidpage>","skuid__Layout2__c":null,"skuid__Layout3__c":null,"skuid__Layout4__c":null,"skuid__Layout5__c":null}]